!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("gojs")):"function"==typeof define&&define.amd?define(["gojs"],t):"object"==typeof exports?exports["go-juggle"]=t(require("gojs")):e["go-juggle"]=t(e.gojs)}(window,(function(e){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=25)}([function(t,a){t.exports=e},function(e,t,a){(function(e,n){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",o="__lodash_placeholder__",d=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],h="[object Arguments]",g="[object Array]",u="[object Boolean]",m="[object Date]",S="[object Error]",c="[object Function]",l="[object GeneratorFunction]",s="[object Map]",P="[object Number]",f="[object Object]",w="[object RegExp]",p="[object Set]",v="[object String]",y="[object Symbol]",L="[object WeakMap]",b="[object ArrayBuffer]",k="[object DataView]",F="[object Float32Array]",B="[object Float64Array]",_="[object Int8Array]",G="[object Int16Array]",z="[object Int32Array]",O="[object Uint8Array]",T="[object Uint16Array]",x="[object Uint32Array]",N=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,A=/&(?:amp|lt|gt|quot|#39);/g,D=/[&<>"']/g,E=RegExp(A.source),C=RegExp(D.source),R=/<%-([\s\S]+?)%>/g,I=/<%([\s\S]+?)%>/g,W=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,X=/[\\^$.*+?()[\]{}|]/g,q=RegExp(X.source),K=/^\s+|\s+$/g,Y=/^\s+/,$=/\s+$/,J=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Z=/\{\n\/\* \[wrapped with (.+)\] \*/,Q=/,? & /,ee=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,te=/\\(\\)?/g,ae=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,de=/^0o[0-7]+$/i,he=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,me=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",le="[\\ud800-\\udfff]",se="["+ce+"]",Pe="["+Se+"]",fe="\\d+",we="[\\u2700-\\u27bf]",pe="[a-z\\xdf-\\xf6\\xf8-\\xff]",ve="[^\\ud800-\\udfff"+ce+fe+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ye="\\ud83c[\\udffb-\\udfff]",Le="[^\\ud800-\\udfff]",be="(?:\\ud83c[\\udde6-\\uddff]){2}",ke="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Be="(?:"+pe+"|"+ve+")",_e="(?:"+Fe+"|"+ve+")",Ge="(?:"+Pe+"|"+ye+")"+"?",ze="[\\ufe0e\\ufe0f]?"+Ge+("(?:\\u200d(?:"+[Le,be,ke].join("|")+")[\\ufe0e\\ufe0f]?"+Ge+")*"),Oe="(?:"+[we,be,ke].join("|")+")"+ze,Te="(?:"+[Le+Pe+"?",Pe,be,ke,le].join("|")+")",xe=RegExp("['’]","g"),Ne=RegExp(Pe,"g"),je=RegExp(ye+"(?="+ye+")|"+Te+ze,"g"),Me=RegExp([Fe+"?"+pe+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[se,Fe,"$"].join("|")+")",_e+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[se,Fe+Be,"$"].join("|")+")",Fe+"?"+Be+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Fe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fe,Oe].join("|"),"g"),Ae=RegExp("[\\u200d\\ud800-\\udfff"+Se+"\\ufe0e\\ufe0f]"),De=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ee=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ce=-1,Re={};Re[F]=Re[B]=Re[_]=Re[G]=Re[z]=Re[O]=Re["[object Uint8ClampedArray]"]=Re[T]=Re[x]=!0,Re[h]=Re[g]=Re[b]=Re[u]=Re[k]=Re[m]=Re[S]=Re[c]=Re[s]=Re[P]=Re[f]=Re[w]=Re[p]=Re[v]=Re[L]=!1;var Ie={};Ie[h]=Ie[g]=Ie[b]=Ie[k]=Ie[u]=Ie[m]=Ie[F]=Ie[B]=Ie[_]=Ie[G]=Ie[z]=Ie[s]=Ie[P]=Ie[f]=Ie[w]=Ie[p]=Ie[v]=Ie[y]=Ie[O]=Ie["[object Uint8ClampedArray]"]=Ie[T]=Ie[x]=!0,Ie[S]=Ie[c]=Ie[L]=!1;var We={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},He=parseFloat,Ue=parseInt,Ve="object"==typeof e&&e&&e.Object===Object&&e,Xe="object"==typeof self&&self&&self.Object===Object&&self,qe=Ve||Xe||Function("return this")(),Ke=t&&!t.nodeType&&t,Ye=Ke&&"object"==typeof n&&n&&!n.nodeType&&n,$e=Ye&&Ye.exports===Ke,Je=$e&&Ve.process,Ze=function(){try{var e=Ye&&Ye.require&&Ye.require("util").types;return e||Je&&Je.binding&&Je.binding("util")}catch(e){}}(),Qe=Ze&&Ze.isArrayBuffer,et=Ze&&Ze.isDate,tt=Ze&&Ze.isMap,at=Ze&&Ze.isRegExp,nt=Ze&&Ze.isSet,rt=Ze&&Ze.isTypedArray;function it(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function ot(e,t,a,n){for(var r=-1,i=null==e?0:e.length;++r<i;){var o=e[r];t(n,o,a(o),e)}return n}function dt(e,t){for(var a=-1,n=null==e?0:e.length;++a<n&&!1!==t(e[a],a,e););return e}function ht(e,t){for(var a=null==e?0:e.length;a--&&!1!==t(e[a],a,e););return e}function gt(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(!t(e[a],a,e))return!1;return!0}function ut(e,t){for(var a=-1,n=null==e?0:e.length,r=0,i=[];++a<n;){var o=e[a];t(o,a,e)&&(i[r++]=o)}return i}function mt(e,t){return!!(null==e?0:e.length)&&yt(e,t,0)>-1}function St(e,t,a){for(var n=-1,r=null==e?0:e.length;++n<r;)if(a(t,e[n]))return!0;return!1}function ct(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}function lt(e,t){for(var a=-1,n=t.length,r=e.length;++a<n;)e[r+a]=t[a];return e}function st(e,t,a,n){var r=-1,i=null==e?0:e.length;for(n&&i&&(a=e[++r]);++r<i;)a=t(a,e[r],r,e);return a}function Pt(e,t,a,n){var r=null==e?0:e.length;for(n&&r&&(a=e[--r]);r--;)a=t(a,e[r],r,e);return a}function ft(e,t){for(var a=-1,n=null==e?0:e.length;++a<n;)if(t(e[a],a,e))return!0;return!1}var wt=Ft("length");function pt(e,t,a){var n;return a(e,(function(e,a,r){if(t(e,a,r))return n=a,!1})),n}function vt(e,t,a,n){for(var r=e.length,i=a+(n?1:-1);n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function yt(e,t,a){return t==t?function(e,t,a){var n=a-1,r=e.length;for(;++n<r;)if(e[n]===t)return n;return-1}(e,t,a):vt(e,bt,a)}function Lt(e,t,a,n){for(var r=a-1,i=e.length;++r<i;)if(n(e[r],t))return r;return-1}function bt(e){return e!=e}function kt(e,t){var a=null==e?0:e.length;return a?Gt(e,t)/a:NaN}function Ft(e){return function(t){return null==t?void 0:t[e]}}function Bt(e){return function(t){return null==e?void 0:e[t]}}function _t(e,t,a,n,r){return r(e,(function(e,r,i){a=n?(n=!1,e):t(a,e,r,i)})),a}function Gt(e,t){for(var a,n=-1,r=e.length;++n<r;){var i=t(e[n]);void 0!==i&&(a=void 0===a?i:a+i)}return a}function zt(e,t){for(var a=-1,n=Array(e);++a<e;)n[a]=t(a);return n}function Ot(e){return function(t){return e(t)}}function Tt(e,t){return ct(t,(function(t){return e[t]}))}function xt(e,t){return e.has(t)}function Nt(e,t){for(var a=-1,n=e.length;++a<n&&yt(t,e[a],0)>-1;);return a}function jt(e,t){for(var a=e.length;a--&&yt(t,e[a],0)>-1;);return a}function Mt(e,t){for(var a=e.length,n=0;a--;)e[a]===t&&++n;return n}var At=Bt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Dt=Bt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Et(e){return"\\"+We[e]}function Ct(e){return Ae.test(e)}function Rt(e){var t=-1,a=Array(e.size);return e.forEach((function(e,n){a[++t]=[n,e]})),a}function It(e,t){return function(a){return e(t(a))}}function Wt(e,t){for(var a=-1,n=e.length,r=0,i=[];++a<n;){var d=e[a];d!==t&&d!==o||(e[a]=o,i[r++]=a)}return i}function Ht(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=e})),a}function Ut(e){var t=-1,a=Array(e.size);return e.forEach((function(e){a[++t]=[e,e]})),a}function Vt(e){return Ct(e)?function(e){var t=je.lastIndex=0;for(;je.test(e);)++t;return t}(e):wt(e)}function Xt(e){return Ct(e)?function(e){return e.match(je)||[]}(e):function(e){return e.split("")}(e)}var qt=Bt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Kt=function e(t){var a,n=(t=null==t?qe:Kt.defaults(qe.Object(),t,Kt.pick(qe,Ee))).Array,r=t.Date,Se=t.Error,ce=t.Function,le=t.Math,se=t.Object,Pe=t.RegExp,fe=t.String,we=t.TypeError,pe=n.prototype,ve=ce.prototype,ye=se.prototype,Le=t["__core-js_shared__"],be=ve.toString,ke=ye.hasOwnProperty,Fe=0,Be=(a=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",_e=ye.toString,Ge=be.call(se),ze=qe._,Oe=Pe("^"+be.call(ke).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Te=$e?t.Buffer:void 0,je=t.Symbol,Ae=t.Uint8Array,We=Te?Te.allocUnsafe:void 0,Ve=It(se.getPrototypeOf,se),Xe=se.create,Ke=ye.propertyIsEnumerable,Ye=pe.splice,Je=je?je.isConcatSpreadable:void 0,Ze=je?je.iterator:void 0,wt=je?je.toStringTag:void 0,Bt=function(){try{var e=Qr(se,"defineProperty");return e({},"",{}),e}catch(e){}}(),Yt=t.clearTimeout!==qe.clearTimeout&&t.clearTimeout,$t=r&&r.now!==qe.Date.now&&r.now,Jt=t.setTimeout!==qe.setTimeout&&t.setTimeout,Zt=le.ceil,Qt=le.floor,ea=se.getOwnPropertySymbols,ta=Te?Te.isBuffer:void 0,aa=t.isFinite,na=pe.join,ra=It(se.keys,se),ia=le.max,oa=le.min,da=r.now,ha=t.parseInt,ga=le.random,ua=pe.reverse,ma=Qr(t,"DataView"),Sa=Qr(t,"Map"),ca=Qr(t,"Promise"),la=Qr(t,"Set"),sa=Qr(t,"WeakMap"),Pa=Qr(se,"create"),fa=sa&&new sa,wa={},pa=Bi(ma),va=Bi(Sa),ya=Bi(ca),La=Bi(la),ba=Bi(sa),ka=je?je.prototype:void 0,Fa=ka?ka.valueOf:void 0,Ba=ka?ka.toString:void 0;function _a(e){if(Uo(e)&&!No(e)&&!(e instanceof Ta)){if(e instanceof Oa)return e;if(ke.call(e,"__wrapped__"))return _i(e)}return new Oa(e)}var Ga=function(){function e(){}return function(t){if(!Ho(t))return{};if(Xe)return Xe(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();function za(){}function Oa(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Ta(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function xa(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function Na(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function ja(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}function Ma(e){var t=-1,a=null==e?0:e.length;for(this.__data__=new ja;++t<a;)this.add(e[t])}function Aa(e){var t=this.__data__=new Na(e);this.size=t.size}function Da(e,t){var a=No(e),n=!a&&xo(e),r=!a&&!n&&Do(e),i=!a&&!n&&!r&&Zo(e),o=a||n||r||i,d=o?zt(e.length,fe):[],h=d.length;for(var g in e)!t&&!ke.call(e,g)||o&&("length"==g||r&&("offset"==g||"parent"==g)||i&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||oi(g,h))||d.push(g);return d}function Ea(e){var t=e.length;return t?e[An(0,t-1)]:void 0}function Ca(e,t){return bi(fr(e),Ka(t,0,e.length))}function Ra(e){return bi(fr(e))}function Ia(e,t,a){(void 0===a||zo(e[t],a))&&(void 0!==a||t in e)||Xa(e,t,a)}function Wa(e,t,a){var n=e[t];ke.call(e,t)&&zo(n,a)&&(void 0!==a||t in e)||Xa(e,t,a)}function Ha(e,t){for(var a=e.length;a--;)if(zo(e[a][0],t))return a;return-1}function Ua(e,t,a,n){return Qa(e,(function(e,r,i){t(n,e,a(e),i)})),n}function Va(e,t){return e&&wr(t,vd(t),e)}function Xa(e,t,a){"__proto__"==t&&Bt?Bt(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function qa(e,t){for(var a=-1,r=t.length,i=n(r),o=null==e;++a<r;)i[a]=o?void 0:sd(e,t[a]);return i}function Ka(e,t,a){return e==e&&(void 0!==a&&(e=e<=a?e:a),void 0!==t&&(e=e>=t?e:t)),e}function Ya(e,t,a,n,r,i){var o,d=1&t,g=2&t,S=4&t;if(a&&(o=r?a(e,n,r,i):a(e)),void 0!==o)return o;if(!Ho(e))return e;var L=No(e);if(L){if(o=function(e){var t=e.length,a=new e.constructor(t);t&&"string"==typeof e[0]&&ke.call(e,"index")&&(a.index=e.index,a.input=e.input);return a}(e),!d)return fr(e,o)}else{var N=ai(e),j=N==c||N==l;if(Do(e))return mr(e,d);if(N==f||N==h||j&&!r){if(o=g||j?{}:ri(e),!d)return g?function(e,t){return wr(e,ti(e),t)}(e,function(e,t){return e&&wr(t,yd(t),e)}(o,e)):function(e,t){return wr(e,ei(e),t)}(e,Va(o,e))}else{if(!Ie[N])return r?e:{};o=function(e,t,a){var n=e.constructor;switch(t){case b:return Sr(e);case u:case m:return new n(+e);case k:return function(e,t){var a=t?Sr(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}(e,a);case F:case B:case _:case G:case z:case O:case"[object Uint8ClampedArray]":case T:case x:return cr(e,a);case s:return new n;case P:case v:return new n(e);case w:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case p:return new n;case y:return r=e,Fa?se(Fa.call(r)):{}}var r}(e,N,d)}}i||(i=new Aa);var M=i.get(e);if(M)return M;i.set(e,o),Yo(e)?e.forEach((function(n){o.add(Ya(n,t,a,n,e,i))})):Vo(e)&&e.forEach((function(n,r){o.set(r,Ya(n,t,a,r,e,i))}));var A=L?void 0:(S?g?Xr:Vr:g?yd:vd)(e);return dt(A||e,(function(n,r){A&&(n=e[r=n]),Wa(o,r,Ya(n,t,a,r,e,i))})),o}function $a(e,t,a){var n=a.length;if(null==e)return!n;for(e=se(e);n--;){var r=a[n],i=t[r],o=e[r];if(void 0===o&&!(r in e)||!i(o))return!1}return!0}function Ja(e,t,a){if("function"!=typeof e)throw new we(i);return pi((function(){e.apply(void 0,a)}),t)}function Za(e,t,a,n){var r=-1,i=mt,o=!0,d=e.length,h=[],g=t.length;if(!d)return h;a&&(t=ct(t,Ot(a))),n?(i=St,o=!1):t.length>=200&&(i=xt,o=!1,t=new Ma(t));e:for(;++r<d;){var u=e[r],m=null==a?u:a(u);if(u=n||0!==u?u:0,o&&m==m){for(var S=g;S--;)if(t[S]===m)continue e;h.push(u)}else i(t,m,n)||h.push(u)}return h}_a.templateSettings={escape:R,evaluate:I,interpolate:W,variable:"",imports:{_:_a}},_a.prototype=za.prototype,_a.prototype.constructor=_a,Oa.prototype=Ga(za.prototype),Oa.prototype.constructor=Oa,Ta.prototype=Ga(za.prototype),Ta.prototype.constructor=Ta,xa.prototype.clear=function(){this.__data__=Pa?Pa(null):{},this.size=0},xa.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xa.prototype.get=function(e){var t=this.__data__;if(Pa){var a=t[e];return"__lodash_hash_undefined__"===a?void 0:a}return ke.call(t,e)?t[e]:void 0},xa.prototype.has=function(e){var t=this.__data__;return Pa?void 0!==t[e]:ke.call(t,e)},xa.prototype.set=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=Pa&&void 0===t?"__lodash_hash_undefined__":t,this},Na.prototype.clear=function(){this.__data__=[],this.size=0},Na.prototype.delete=function(e){var t=this.__data__,a=Ha(t,e);return!(a<0)&&(a==t.length-1?t.pop():Ye.call(t,a,1),--this.size,!0)},Na.prototype.get=function(e){var t=this.__data__,a=Ha(t,e);return a<0?void 0:t[a][1]},Na.prototype.has=function(e){return Ha(this.__data__,e)>-1},Na.prototype.set=function(e,t){var a=this.__data__,n=Ha(a,e);return n<0?(++this.size,a.push([e,t])):a[n][1]=t,this},ja.prototype.clear=function(){this.size=0,this.__data__={hash:new xa,map:new(Sa||Na),string:new xa}},ja.prototype.delete=function(e){var t=Jr(this,e).delete(e);return this.size-=t?1:0,t},ja.prototype.get=function(e){return Jr(this,e).get(e)},ja.prototype.has=function(e){return Jr(this,e).has(e)},ja.prototype.set=function(e,t){var a=Jr(this,e),n=a.size;return a.set(e,t),this.size+=a.size==n?0:1,this},Ma.prototype.add=Ma.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ma.prototype.has=function(e){return this.__data__.has(e)},Aa.prototype.clear=function(){this.__data__=new Na,this.size=0},Aa.prototype.delete=function(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a},Aa.prototype.get=function(e){return this.__data__.get(e)},Aa.prototype.has=function(e){return this.__data__.has(e)},Aa.prototype.set=function(e,t){var a=this.__data__;if(a instanceof Na){var n=a.__data__;if(!Sa||n.length<199)return n.push([e,t]),this.size=++a.size,this;a=this.__data__=new ja(n)}return a.set(e,t),this.size=a.size,this};var Qa=yr(hn),en=yr(gn,!0);function tn(e,t){var a=!0;return Qa(e,(function(e,n,r){return a=!!t(e,n,r)})),a}function an(e,t,a){for(var n=-1,r=e.length;++n<r;){var i=e[n],o=t(i);if(null!=o&&(void 0===d?o==o&&!Jo(o):a(o,d)))var d=o,h=i}return h}function nn(e,t){var a=[];return Qa(e,(function(e,n,r){t(e,n,r)&&a.push(e)})),a}function rn(e,t,a,n,r){var i=-1,o=e.length;for(a||(a=ii),r||(r=[]);++i<o;){var d=e[i];t>0&&a(d)?t>1?rn(d,t-1,a,n,r):lt(r,d):n||(r[r.length]=d)}return r}var on=Lr(),dn=Lr(!0);function hn(e,t){return e&&on(e,t,vd)}function gn(e,t){return e&&dn(e,t,vd)}function un(e,t){return ut(t,(function(t){return Ro(e[t])}))}function mn(e,t){for(var a=0,n=(t=dr(t,e)).length;null!=e&&a<n;)e=e[Fi(t[a++])];return a&&a==n?e:void 0}function Sn(e,t,a){var n=t(e);return No(e)?n:lt(n,a(e))}function cn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":wt&&wt in se(e)?function(e){var t=ke.call(e,wt),a=e[wt];try{e[wt]=void 0;var n=!0}catch(e){}var r=_e.call(e);n&&(t?e[wt]=a:delete e[wt]);return r}(e):function(e){return _e.call(e)}(e)}function ln(e,t){return e>t}function sn(e,t){return null!=e&&ke.call(e,t)}function Pn(e,t){return null!=e&&t in se(e)}function fn(e,t,a){for(var r=a?St:mt,i=e[0].length,o=e.length,d=o,h=n(o),g=1/0,u=[];d--;){var m=e[d];d&&t&&(m=ct(m,Ot(t))),g=oa(m.length,g),h[d]=!a&&(t||i>=120&&m.length>=120)?new Ma(d&&m):void 0}m=e[0];var S=-1,c=h[0];e:for(;++S<i&&u.length<g;){var l=m[S],s=t?t(l):l;if(l=a||0!==l?l:0,!(c?xt(c,s):r(u,s,a))){for(d=o;--d;){var P=h[d];if(!(P?xt(P,s):r(e[d],s,a)))continue e}c&&c.push(s),u.push(l)}}return u}function wn(e,t,a){var n=null==(e=si(e,t=dr(t,e)))?e:e[Fi(Ei(t))];return null==n?void 0:it(n,e,a)}function pn(e){return Uo(e)&&cn(e)==h}function vn(e,t,a,n,r){return e===t||(null==e||null==t||!Uo(e)&&!Uo(t)?e!=e&&t!=t:function(e,t,a,n,r,i){var o=No(e),d=No(t),c=o?g:ai(e),l=d?g:ai(t),L=(c=c==h?f:c)==f,F=(l=l==h?f:l)==f,B=c==l;if(B&&Do(e)){if(!Do(t))return!1;o=!0,L=!1}if(B&&!L)return i||(i=new Aa),o||Zo(e)?Hr(e,t,a,n,r,i):function(e,t,a,n,r,i,o){switch(a){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!i(new Ae(e),new Ae(t)));case u:case m:case P:return zo(+e,+t);case S:return e.name==t.name&&e.message==t.message;case w:case v:return e==t+"";case s:var d=Rt;case p:var h=1&n;if(d||(d=Ht),e.size!=t.size&&!h)return!1;var g=o.get(e);if(g)return g==t;n|=2,o.set(e,t);var c=Hr(d(e),d(t),n,r,i,o);return o.delete(e),c;case y:if(Fa)return Fa.call(e)==Fa.call(t)}return!1}(e,t,c,a,n,r,i);if(!(1&a)){var _=L&&ke.call(e,"__wrapped__"),G=F&&ke.call(t,"__wrapped__");if(_||G){var z=_?e.value():e,O=G?t.value():t;return i||(i=new Aa),r(z,O,a,n,i)}}if(!B)return!1;return i||(i=new Aa),function(e,t,a,n,r,i){var o=1&a,d=Vr(e),h=d.length,g=Vr(t).length;if(h!=g&&!o)return!1;var u=h;for(;u--;){var m=d[u];if(!(o?m in t:ke.call(t,m)))return!1}var S=i.get(e);if(S&&i.get(t))return S==t;var c=!0;i.set(e,t),i.set(t,e);var l=o;for(;++u<h;){m=d[u];var s=e[m],P=t[m];if(n)var f=o?n(P,s,m,t,e,i):n(s,P,m,e,t,i);if(!(void 0===f?s===P||r(s,P,a,n,i):f)){c=!1;break}l||(l="constructor"==m)}if(c&&!l){var w=e.constructor,p=t.constructor;w!=p&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof p&&p instanceof p)&&(c=!1)}return i.delete(e),i.delete(t),c}(e,t,a,n,r,i)}(e,t,a,n,vn,r))}function yn(e,t,a,n){var r=a.length,i=r,o=!n;if(null==e)return!i;for(e=se(e);r--;){var d=a[r];if(o&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++r<i;){var h=(d=a[r])[0],g=e[h],u=d[1];if(o&&d[2]){if(void 0===g&&!(h in e))return!1}else{var m=new Aa;if(n)var S=n(g,u,h,e,t,m);if(!(void 0===S?vn(u,g,3,n,m):S))return!1}}return!0}function Ln(e){return!(!Ho(e)||(t=e,Be&&Be in t))&&(Ro(e)?Oe:oe).test(Bi(e));var t}function bn(e){return"function"==typeof e?e:null==e?Xd:"object"==typeof e?No(e)?zn(e[0],e[1]):Gn(e):th(e)}function kn(e){if(!mi(e))return ra(e);var t=[];for(var a in se(e))ke.call(e,a)&&"constructor"!=a&&t.push(a);return t}function Fn(e){if(!Ho(e))return function(e){var t=[];if(null!=e)for(var a in se(e))t.push(a);return t}(e);var t=mi(e),a=[];for(var n in e)("constructor"!=n||!t&&ke.call(e,n))&&a.push(n);return a}function Bn(e,t){return e<t}function _n(e,t){var a=-1,r=Mo(e)?n(e.length):[];return Qa(e,(function(e,n,i){r[++a]=t(e,n,i)})),r}function Gn(e){var t=Zr(e);return 1==t.length&&t[0][2]?ci(t[0][0],t[0][1]):function(a){return a===e||yn(a,e,t)}}function zn(e,t){return hi(e)&&Si(t)?ci(Fi(e),t):function(a){var n=sd(a,e);return void 0===n&&n===t?Pd(a,e):vn(t,n,3)}}function On(e,t,a,n,r){e!==t&&on(t,(function(i,o){if(r||(r=new Aa),Ho(i))!function(e,t,a,n,r,i,o){var d=fi(e,a),h=fi(t,a),g=o.get(h);if(g)return void Ia(e,a,g);var u=i?i(d,h,a+"",e,t,o):void 0,m=void 0===u;if(m){var S=No(h),c=!S&&Do(h),l=!S&&!c&&Zo(h);u=h,S||c||l?No(d)?u=d:Ao(d)?u=fr(d):c?(m=!1,u=mr(h,!0)):l?(m=!1,u=cr(h,!0)):u=[]:qo(h)||xo(h)?(u=d,xo(d)?u=od(d):Ho(d)&&!Ro(d)||(u=ri(h))):m=!1}m&&(o.set(h,u),r(u,h,n,i,o),o.delete(h));Ia(e,a,u)}(e,t,o,a,On,n,r);else{var d=n?n(fi(e,o),i,o+"",e,t,r):void 0;void 0===d&&(d=i),Ia(e,o,d)}}),yd)}function Tn(e,t){var a=e.length;if(a)return oi(t+=t<0?a:0,a)?e[t]:void 0}function xn(e,t,a){var n=-1;return t=ct(t.length?t:[Xd],Ot($r())),function(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}(_n(e,(function(e,a,r){return{criteria:ct(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return function(e,t,a){var n=-1,r=e.criteria,i=t.criteria,o=r.length,d=a.length;for(;++n<o;){var h=lr(r[n],i[n]);if(h){if(n>=d)return h;var g=a[n];return h*("desc"==g?-1:1)}}return e.index-t.index}(e,t,a)}))}function Nn(e,t,a){for(var n=-1,r=t.length,i={};++n<r;){var o=t[n],d=mn(e,o);a(d,o)&&In(i,dr(o,e),d)}return i}function jn(e,t,a,n){var r=n?Lt:yt,i=-1,o=t.length,d=e;for(e===t&&(t=fr(t)),a&&(d=ct(e,Ot(a)));++i<o;)for(var h=0,g=t[i],u=a?a(g):g;(h=r(d,u,h,n))>-1;)d!==e&&Ye.call(d,h,1),Ye.call(e,h,1);return e}function Mn(e,t){for(var a=e?t.length:0,n=a-1;a--;){var r=t[a];if(a==n||r!==i){var i=r;oi(r)?Ye.call(e,r,1):Qn(e,r)}}return e}function An(e,t){return e+Qt(ga()*(t-e+1))}function Dn(e,t){var a="";if(!e||t<1||t>9007199254740991)return a;do{t%2&&(a+=e),(t=Qt(t/2))&&(e+=e)}while(t);return a}function En(e,t){return vi(li(e,t,Xd),e+"")}function Cn(e){return Ea(zd(e))}function Rn(e,t){var a=zd(e);return bi(a,Ka(t,0,a.length))}function In(e,t,a,n){if(!Ho(e))return e;for(var r=-1,i=(t=dr(t,e)).length,o=i-1,d=e;null!=d&&++r<i;){var h=Fi(t[r]),g=a;if(r!=o){var u=d[h];void 0===(g=n?n(u,h,d):void 0)&&(g=Ho(u)?u:oi(t[r+1])?[]:{})}Wa(d,h,g),d=d[h]}return e}var Wn=fa?function(e,t){return fa.set(e,t),e}:Xd,Hn=Bt?function(e,t){return Bt(e,"toString",{configurable:!0,enumerable:!1,value:Hd(t),writable:!0})}:Xd;function Un(e){return bi(zd(e))}function Vn(e,t,a){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(a=a>i?i:a)<0&&(a+=i),i=t>a?0:a-t>>>0,t>>>=0;for(var o=n(i);++r<i;)o[r]=e[r+t];return o}function Xn(e,t){var a;return Qa(e,(function(e,n,r){return!(a=t(e,n,r))})),!!a}function qn(e,t,a){var n=0,r=null==e?n:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;n<r;){var i=n+r>>>1,o=e[i];null!==o&&!Jo(o)&&(a?o<=t:o<t)?n=i+1:r=i}return r}return Kn(e,t,Xd,a)}function Kn(e,t,a,n){t=a(t);for(var r=0,i=null==e?0:e.length,o=t!=t,d=null===t,h=Jo(t),g=void 0===t;r<i;){var u=Qt((r+i)/2),m=a(e[u]),S=void 0!==m,c=null===m,l=m==m,s=Jo(m);if(o)var P=n||l;else P=g?l&&(n||S):d?l&&S&&(n||!c):h?l&&S&&!c&&(n||!s):!c&&!s&&(n?m<=t:m<t);P?r=u+1:i=u}return oa(i,4294967294)}function Yn(e,t){for(var a=-1,n=e.length,r=0,i=[];++a<n;){var o=e[a],d=t?t(o):o;if(!a||!zo(d,h)){var h=d;i[r++]=0===o?0:o}}return i}function $n(e){return"number"==typeof e?e:Jo(e)?NaN:+e}function Jn(e){if("string"==typeof e)return e;if(No(e))return ct(e,Jn)+"";if(Jo(e))return Ba?Ba.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zn(e,t,a){var n=-1,r=mt,i=e.length,o=!0,d=[],h=d;if(a)o=!1,r=St;else if(i>=200){var g=t?null:Dr(e);if(g)return Ht(g);o=!1,r=xt,h=new Ma}else h=t?[]:d;e:for(;++n<i;){var u=e[n],m=t?t(u):u;if(u=a||0!==u?u:0,o&&m==m){for(var S=h.length;S--;)if(h[S]===m)continue e;t&&h.push(m),d.push(u)}else r(h,m,a)||(h!==d&&h.push(m),d.push(u))}return d}function Qn(e,t){return null==(e=si(e,t=dr(t,e)))||delete e[Fi(Ei(t))]}function er(e,t,a,n){return In(e,t,a(mn(e,t)),n)}function tr(e,t,a,n){for(var r=e.length,i=n?r:-1;(n?i--:++i<r)&&t(e[i],i,e););return a?Vn(e,n?0:i,n?i+1:r):Vn(e,n?i+1:0,n?r:i)}function ar(e,t){var a=e;return a instanceof Ta&&(a=a.value()),st(t,(function(e,t){return t.func.apply(t.thisArg,lt([e],t.args))}),a)}function nr(e,t,a){var r=e.length;if(r<2)return r?Zn(e[0]):[];for(var i=-1,o=n(r);++i<r;)for(var d=e[i],h=-1;++h<r;)h!=i&&(o[i]=Za(o[i]||d,e[h],t,a));return Zn(rn(o,1),t,a)}function rr(e,t,a){for(var n=-1,r=e.length,i=t.length,o={};++n<r;){var d=n<i?t[n]:void 0;a(o,e[n],d)}return o}function ir(e){return Ao(e)?e:[]}function or(e){return"function"==typeof e?e:Xd}function dr(e,t){return No(e)?e:hi(e,t)?[e]:ki(dd(e))}var hr=En;function gr(e,t,a){var n=e.length;return a=void 0===a?n:a,!t&&a>=n?e:Vn(e,t,a)}var ur=Yt||function(e){return qe.clearTimeout(e)};function mr(e,t){if(t)return e.slice();var a=e.length,n=We?We(a):new e.constructor(a);return e.copy(n),n}function Sr(e){var t=new e.constructor(e.byteLength);return new Ae(t).set(new Ae(e)),t}function cr(e,t){var a=t?Sr(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function lr(e,t){if(e!==t){var a=void 0!==e,n=null===e,r=e==e,i=Jo(e),o=void 0!==t,d=null===t,h=t==t,g=Jo(t);if(!d&&!g&&!i&&e>t||i&&o&&h&&!d&&!g||n&&o&&h||!a&&h||!r)return 1;if(!n&&!i&&!g&&e<t||g&&a&&r&&!n&&!i||d&&a&&r||!o&&r||!h)return-1}return 0}function sr(e,t,a,r){for(var i=-1,o=e.length,d=a.length,h=-1,g=t.length,u=ia(o-d,0),m=n(g+u),S=!r;++h<g;)m[h]=t[h];for(;++i<d;)(S||i<o)&&(m[a[i]]=e[i]);for(;u--;)m[h++]=e[i++];return m}function Pr(e,t,a,r){for(var i=-1,o=e.length,d=-1,h=a.length,g=-1,u=t.length,m=ia(o-h,0),S=n(m+u),c=!r;++i<m;)S[i]=e[i];for(var l=i;++g<u;)S[l+g]=t[g];for(;++d<h;)(c||i<o)&&(S[l+a[d]]=e[i++]);return S}function fr(e,t){var a=-1,r=e.length;for(t||(t=n(r));++a<r;)t[a]=e[a];return t}function wr(e,t,a,n){var r=!a;a||(a={});for(var i=-1,o=t.length;++i<o;){var d=t[i],h=n?n(a[d],e[d],d,a,e):void 0;void 0===h&&(h=e[d]),r?Xa(a,d,h):Wa(a,d,h)}return a}function pr(e,t){return function(a,n){var r=No(a)?ot:Ua,i=t?t():{};return r(a,e,$r(n,2),i)}}function vr(e){return En((function(t,a){var n=-1,r=a.length,i=r>1?a[r-1]:void 0,o=r>2?a[2]:void 0;for(i=e.length>3&&"function"==typeof i?(r--,i):void 0,o&&di(a[0],a[1],o)&&(i=r<3?void 0:i,r=1),t=se(t);++n<r;){var d=a[n];d&&e(t,d,n,i)}return t}))}function yr(e,t){return function(a,n){if(null==a)return a;if(!Mo(a))return e(a,n);for(var r=a.length,i=t?r:-1,o=se(a);(t?i--:++i<r)&&!1!==n(o[i],i,o););return a}}function Lr(e){return function(t,a,n){for(var r=-1,i=se(t),o=n(t),d=o.length;d--;){var h=o[e?d:++r];if(!1===a(i[h],h,i))break}return t}}function br(e){return function(t){var a=Ct(t=dd(t))?Xt(t):void 0,n=a?a[0]:t.charAt(0),r=a?gr(a,1).join(""):t.slice(1);return n[e]()+r}}function kr(e){return function(t){return st(Rd(xd(t).replace(xe,"")),e,"")}}function Fr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var a=Ga(e.prototype),n=e.apply(a,t);return Ho(n)?n:a}}function Br(e){return function(t,a,n){var r=se(t);if(!Mo(t)){var i=$r(a,3);t=vd(t),a=function(e){return i(r[e],e,r)}}var o=e(t,a,n);return o>-1?r[i?t[o]:o]:void 0}}function _r(e){return Ur((function(t){var a=t.length,n=a,r=Oa.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if("function"!=typeof o)throw new we(i);if(r&&!d&&"wrapper"==Kr(o))var d=new Oa([],!0)}for(n=d?n:a;++n<a;){var h=Kr(o=t[n]),g="wrapper"==h?qr(o):void 0;d=g&&gi(g[0])&&424==g[1]&&!g[4].length&&1==g[9]?d[Kr(g[0])].apply(d,g[3]):1==o.length&&gi(o)?d[h]():d.thru(o)}return function(){var e=arguments,n=e[0];if(d&&1==e.length&&No(n))return d.plant(n).value();for(var r=0,i=a?t[r].apply(this,e):n;++r<a;)i=t[r].call(this,i);return i}}))}function Gr(e,t,a,r,i,o,d,h,g,u){var m=128&t,S=1&t,c=2&t,l=24&t,s=512&t,P=c?void 0:Fr(e);return function f(){for(var w=arguments.length,p=n(w),v=w;v--;)p[v]=arguments[v];if(l)var y=Yr(f),L=Mt(p,y);if(r&&(p=sr(p,r,i,l)),o&&(p=Pr(p,o,d,l)),w-=L,l&&w<u){var b=Wt(p,y);return Mr(e,t,Gr,f.placeholder,a,p,b,h,g,u-w)}var k=S?a:this,F=c?k[e]:e;return w=p.length,h?p=Pi(p,h):s&&w>1&&p.reverse(),m&&g<w&&(p.length=g),this&&this!==qe&&this instanceof f&&(F=P||Fr(F)),F.apply(k,p)}}function zr(e,t){return function(a,n){return function(e,t,a,n){return hn(e,(function(e,r,i){t(n,a(e),r,i)})),n}(a,e,t(n),{})}}function Or(e,t){return function(a,n){var r;if(void 0===a&&void 0===n)return t;if(void 0!==a&&(r=a),void 0!==n){if(void 0===r)return n;"string"==typeof a||"string"==typeof n?(a=Jn(a),n=Jn(n)):(a=$n(a),n=$n(n)),r=e(a,n)}return r}}function Tr(e){return Ur((function(t){return t=ct(t,Ot($r())),En((function(a){var n=this;return e(t,(function(e){return it(e,n,a)}))}))}))}function xr(e,t){var a=(t=void 0===t?" ":Jn(t)).length;if(a<2)return a?Dn(t,e):t;var n=Dn(t,Zt(e/Vt(t)));return Ct(t)?gr(Xt(n),0,e).join(""):n.slice(0,e)}function Nr(e){return function(t,a,r){return r&&"number"!=typeof r&&di(t,a,r)&&(a=r=void 0),t=ad(t),void 0===a?(a=t,t=0):a=ad(a),function(e,t,a,r){for(var i=-1,o=ia(Zt((t-e)/(a||1)),0),d=n(o);o--;)d[r?o:++i]=e,e+=a;return d}(t,a,r=void 0===r?t<a?1:-1:ad(r),e)}}function jr(e){return function(t,a){return"string"==typeof t&&"string"==typeof a||(t=id(t),a=id(a)),e(t,a)}}function Mr(e,t,a,n,r,i,o,d,h,g){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var m=[e,t,r,u?i:void 0,u?o:void 0,u?void 0:i,u?void 0:o,d,h,g],S=a.apply(void 0,m);return gi(e)&&wi(S,m),S.placeholder=n,yi(S,e,t)}function Ar(e){var t=le[e];return function(e,a){if(e=id(e),(a=null==a?0:oa(nd(a),292))&&aa(e)){var n=(dd(e)+"e").split("e");return+((n=(dd(t(n[0]+"e"+(+n[1]+a)))+"e").split("e"))[0]+"e"+(+n[1]-a))}return t(e)}}var Dr=la&&1/Ht(new la([,-0]))[1]==1/0?function(e){return new la(e)}:Jd;function Er(e){return function(t){var a=ai(t);return a==s?Rt(t):a==p?Ut(t):function(e,t){return ct(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Cr(e,t,a,r,d,h,g,u){var m=2&t;if(!m&&"function"!=typeof e)throw new we(i);var S=r?r.length:0;if(S||(t&=-97,r=d=void 0),g=void 0===g?g:ia(nd(g),0),u=void 0===u?u:nd(u),S-=d?d.length:0,64&t){var c=r,l=d;r=d=void 0}var s=m?void 0:qr(e),P=[e,t,a,r,d,c,l,h,g,u];if(s&&function(e,t){var a=e[1],n=t[1],r=a|n,i=r<131,d=128==n&&8==a||128==n&&256==a&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==a;if(!i&&!d)return e;1&n&&(e[2]=t[2],r|=1&a?0:4);var h=t[3];if(h){var g=e[3];e[3]=g?sr(g,h,t[4]):h,e[4]=g?Wt(e[3],o):t[4]}(h=t[5])&&(g=e[5],e[5]=g?Pr(g,h,t[6]):h,e[6]=g?Wt(e[5],o):t[6]);(h=t[7])&&(e[7]=h);128&n&&(e[8]=null==e[8]?t[8]:oa(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(P,s),e=P[0],t=P[1],a=P[2],r=P[3],d=P[4],!(u=P[9]=void 0===P[9]?m?0:e.length:ia(P[9]-S,0))&&24&t&&(t&=-25),t&&1!=t)f=8==t||16==t?function(e,t,a){var r=Fr(e);return function i(){for(var o=arguments.length,d=n(o),h=o,g=Yr(i);h--;)d[h]=arguments[h];var u=o<3&&d[0]!==g&&d[o-1]!==g?[]:Wt(d,g);if((o-=u.length)<a)return Mr(e,t,Gr,i.placeholder,void 0,d,u,void 0,void 0,a-o);var m=this&&this!==qe&&this instanceof i?r:e;return it(m,this,d)}}(e,t,u):32!=t&&33!=t||d.length?Gr.apply(void 0,P):function(e,t,a,r){var i=1&t,o=Fr(e);return function t(){for(var d=-1,h=arguments.length,g=-1,u=r.length,m=n(u+h),S=this&&this!==qe&&this instanceof t?o:e;++g<u;)m[g]=r[g];for(;h--;)m[g++]=arguments[++d];return it(S,i?a:this,m)}}(e,t,a,r);else var f=function(e,t,a){var n=1&t,r=Fr(e);return function t(){var i=this&&this!==qe&&this instanceof t?r:e;return i.apply(n?a:this,arguments)}}(e,t,a);return yi((s?Wn:wi)(f,P),e,t)}function Rr(e,t,a,n){return void 0===e||zo(e,ye[a])&&!ke.call(n,a)?t:e}function Ir(e,t,a,n,r,i){return Ho(e)&&Ho(t)&&(i.set(t,e),On(e,t,void 0,Ir,i),i.delete(t)),e}function Wr(e){return qo(e)?void 0:e}function Hr(e,t,a,n,r,i){var o=1&a,d=e.length,h=t.length;if(d!=h&&!(o&&h>d))return!1;var g=i.get(e);if(g&&i.get(t))return g==t;var u=-1,m=!0,S=2&a?new Ma:void 0;for(i.set(e,t),i.set(t,e);++u<d;){var c=e[u],l=t[u];if(n)var s=o?n(l,c,u,t,e,i):n(c,l,u,e,t,i);if(void 0!==s){if(s)continue;m=!1;break}if(S){if(!ft(t,(function(e,t){if(!xt(S,t)&&(c===e||r(c,e,a,n,i)))return S.push(t)}))){m=!1;break}}else if(c!==l&&!r(c,l,a,n,i)){m=!1;break}}return i.delete(e),i.delete(t),m}function Ur(e){return vi(li(e,void 0,Ni),e+"")}function Vr(e){return Sn(e,vd,ei)}function Xr(e){return Sn(e,yd,ti)}var qr=fa?function(e){return fa.get(e)}:Jd;function Kr(e){for(var t=e.name+"",a=wa[t],n=ke.call(wa,t)?a.length:0;n--;){var r=a[n],i=r.func;if(null==i||i==e)return r.name}return t}function Yr(e){return(ke.call(_a,"placeholder")?_a:e).placeholder}function $r(){var e=_a.iteratee||qd;return e=e===qd?bn:e,arguments.length?e(arguments[0],arguments[1]):e}function Jr(e,t){var a,n,r=e.__data__;return("string"==(n=typeof(a=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==a:null===a)?r["string"==typeof t?"string":"hash"]:r.map}function Zr(e){for(var t=vd(e),a=t.length;a--;){var n=t[a],r=e[n];t[a]=[n,r,Si(r)]}return t}function Qr(e,t){var a=function(e,t){return null==e?void 0:e[t]}(e,t);return Ln(a)?a:void 0}var ei=ea?function(e){return null==e?[]:(e=se(e),ut(ea(e),(function(t){return Ke.call(e,t)})))}:rh,ti=ea?function(e){for(var t=[];e;)lt(t,ei(e)),e=Ve(e);return t}:rh,ai=cn;function ni(e,t,a){for(var n=-1,r=(t=dr(t,e)).length,i=!1;++n<r;){var o=Fi(t[n]);if(!(i=null!=e&&a(e,o)))break;e=e[o]}return i||++n!=r?i:!!(r=null==e?0:e.length)&&Wo(r)&&oi(o,r)&&(No(e)||xo(e))}function ri(e){return"function"!=typeof e.constructor||mi(e)?{}:Ga(Ve(e))}function ii(e){return No(e)||xo(e)||!!(Je&&e&&e[Je])}function oi(e,t){var a=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==a||"symbol"!=a&&he.test(e))&&e>-1&&e%1==0&&e<t}function di(e,t,a){if(!Ho(a))return!1;var n=typeof t;return!!("number"==n?Mo(a)&&oi(t,a.length):"string"==n&&t in a)&&zo(a[t],e)}function hi(e,t){if(No(e))return!1;var a=typeof e;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!Jo(e))||(U.test(e)||!H.test(e)||null!=t&&e in se(t))}function gi(e){var t=Kr(e),a=_a[t];if("function"!=typeof a||!(t in Ta.prototype))return!1;if(e===a)return!0;var n=qr(a);return!!n&&e===n[0]}(ma&&ai(new ma(new ArrayBuffer(1)))!=k||Sa&&ai(new Sa)!=s||ca&&"[object Promise]"!=ai(ca.resolve())||la&&ai(new la)!=p||sa&&ai(new sa)!=L)&&(ai=function(e){var t=cn(e),a=t==f?e.constructor:void 0,n=a?Bi(a):"";if(n)switch(n){case pa:return k;case va:return s;case ya:return"[object Promise]";case La:return p;case ba:return L}return t});var ui=Le?Ro:ih;function mi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ye)}function Si(e){return e==e&&!Ho(e)}function ci(e,t){return function(a){return null!=a&&(a[e]===t&&(void 0!==t||e in se(a)))}}function li(e,t,a){return t=ia(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=ia(r.length-t,0),d=n(o);++i<o;)d[i]=r[t+i];i=-1;for(var h=n(t+1);++i<t;)h[i]=r[i];return h[t]=a(d),it(e,this,h)}}function si(e,t){return t.length<2?e:mn(e,Vn(t,0,-1))}function Pi(e,t){for(var a=e.length,n=oa(t.length,a),r=fr(e);n--;){var i=t[n];e[n]=oi(i,a)?r[i]:void 0}return e}function fi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var wi=Li(Wn),pi=Jt||function(e,t){return qe.setTimeout(e,t)},vi=Li(Hn);function yi(e,t,a){var n=t+"";return vi(e,function(e,t){var a=t.length;if(!a)return e;var n=a-1;return t[n]=(a>1?"& ":"")+t[n],t=t.join(a>2?", ":" "),e.replace(J,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return dt(d,(function(a){var n="_."+a[0];t&a[1]&&!mt(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(Z);return t?t[1].split(Q):[]}(n),a)))}function Li(e){var t=0,a=0;return function(){var n=da(),r=16-(n-a);if(a=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function bi(e,t){var a=-1,n=e.length,r=n-1;for(t=void 0===t?n:t;++a<t;){var i=An(a,r),o=e[i];e[i]=e[a],e[a]=o}return e.length=t,e}var ki=function(e){var t=bo(e,(function(e){return 500===a.size&&a.clear(),e})),a=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(V,(function(e,a,n,r){t.push(n?r.replace(te,"$1"):a||e)})),t}));function Fi(e){if("string"==typeof e||Jo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bi(e){if(null!=e){try{return be.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function _i(e){if(e instanceof Ta)return e.clone();var t=new Oa(e.__wrapped__,e.__chain__);return t.__actions__=fr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Gi=En((function(e,t){return Ao(e)?Za(e,rn(t,1,Ao,!0)):[]})),zi=En((function(e,t){var a=Ei(t);return Ao(a)&&(a=void 0),Ao(e)?Za(e,rn(t,1,Ao,!0),$r(a,2)):[]})),Oi=En((function(e,t){var a=Ei(t);return Ao(a)&&(a=void 0),Ao(e)?Za(e,rn(t,1,Ao,!0),void 0,a):[]}));function Ti(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var r=null==a?0:nd(a);return r<0&&(r=ia(n+r,0)),vt(e,$r(t,3),r)}function xi(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var r=n-1;return void 0!==a&&(r=nd(a),r=a<0?ia(n+r,0):oa(r,n-1)),vt(e,$r(t,3),r,!0)}function Ni(e){return(null==e?0:e.length)?rn(e,1):[]}function ji(e){return e&&e.length?e[0]:void 0}var Mi=En((function(e){var t=ct(e,ir);return t.length&&t[0]===e[0]?fn(t):[]})),Ai=En((function(e){var t=Ei(e),a=ct(e,ir);return t===Ei(a)?t=void 0:a.pop(),a.length&&a[0]===e[0]?fn(a,$r(t,2)):[]})),Di=En((function(e){var t=Ei(e),a=ct(e,ir);return(t="function"==typeof t?t:void 0)&&a.pop(),a.length&&a[0]===e[0]?fn(a,void 0,t):[]}));function Ei(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ci=En(Ri);function Ri(e,t){return e&&e.length&&t&&t.length?jn(e,t):e}var Ii=Ur((function(e,t){var a=null==e?0:e.length,n=qa(e,t);return Mn(e,ct(t,(function(e){return oi(e,a)?+e:e})).sort(lr)),n}));function Wi(e){return null==e?e:ua.call(e)}var Hi=En((function(e){return Zn(rn(e,1,Ao,!0))})),Ui=En((function(e){var t=Ei(e);return Ao(t)&&(t=void 0),Zn(rn(e,1,Ao,!0),$r(t,2))})),Vi=En((function(e){var t=Ei(e);return t="function"==typeof t?t:void 0,Zn(rn(e,1,Ao,!0),void 0,t)}));function Xi(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(Ao(e))return t=ia(e.length,t),!0})),zt(t,(function(t){return ct(e,Ft(t))}))}function qi(e,t){if(!e||!e.length)return[];var a=Xi(e);return null==t?a:ct(a,(function(e){return it(t,void 0,e)}))}var Ki=En((function(e,t){return Ao(e)?Za(e,t):[]})),Yi=En((function(e){return nr(ut(e,Ao))})),$i=En((function(e){var t=Ei(e);return Ao(t)&&(t=void 0),nr(ut(e,Ao),$r(t,2))})),Ji=En((function(e){var t=Ei(e);return t="function"==typeof t?t:void 0,nr(ut(e,Ao),void 0,t)})),Zi=En(Xi);var Qi=En((function(e){var t=e.length,a=t>1?e[t-1]:void 0;return a="function"==typeof a?(e.pop(),a):void 0,qi(e,a)}));function eo(e){var t=_a(e);return t.__chain__=!0,t}function to(e,t){return t(e)}var ao=Ur((function(e){var t=e.length,a=t?e[0]:0,n=this.__wrapped__,r=function(t){return qa(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Ta&&oi(a)?((n=n.slice(a,+a+(t?1:0))).__actions__.push({func:to,args:[r],thisArg:void 0}),new Oa(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(r)}));var no=pr((function(e,t,a){ke.call(e,a)?++e[a]:Xa(e,a,1)}));var ro=Br(Ti),io=Br(xi);function oo(e,t){return(No(e)?dt:Qa)(e,$r(t,3))}function ho(e,t){return(No(e)?ht:en)(e,$r(t,3))}var go=pr((function(e,t,a){ke.call(e,a)?e[a].push(t):Xa(e,a,[t])}));var uo=En((function(e,t,a){var r=-1,i="function"==typeof t,o=Mo(e)?n(e.length):[];return Qa(e,(function(e){o[++r]=i?it(t,e,a):wn(e,t,a)})),o})),mo=pr((function(e,t,a){Xa(e,a,t)}));function So(e,t){return(No(e)?ct:_n)(e,$r(t,3))}var co=pr((function(e,t,a){e[a?0:1].push(t)}),(function(){return[[],[]]}));var lo=En((function(e,t){if(null==e)return[];var a=t.length;return a>1&&di(e,t[0],t[1])?t=[]:a>2&&di(t[0],t[1],t[2])&&(t=[t[0]]),xn(e,rn(t,1),[])})),so=$t||function(){return qe.Date.now()};function Po(e,t,a){return t=a?void 0:t,Cr(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function fo(e,t){var a;if("function"!=typeof t)throw new we(i);return e=nd(e),function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=void 0),a}}var wo=En((function(e,t,a){var n=1;if(a.length){var r=Wt(a,Yr(wo));n|=32}return Cr(e,n,t,a,r)})),po=En((function(e,t,a){var n=3;if(a.length){var r=Wt(a,Yr(po));n|=32}return Cr(t,n,e,a,r)}));function vo(e,t,a){var n,r,o,d,h,g,u=0,m=!1,S=!1,c=!0;if("function"!=typeof e)throw new we(i);function l(t){var a=n,i=r;return n=r=void 0,u=t,d=e.apply(i,a)}function s(e){return u=e,h=pi(f,t),m?l(e):d}function P(e){var a=e-g;return void 0===g||a>=t||a<0||S&&e-u>=o}function f(){var e=so();if(P(e))return w(e);h=pi(f,function(e){var a=t-(e-g);return S?oa(a,o-(e-u)):a}(e))}function w(e){return h=void 0,c&&n?l(e):(n=r=void 0,d)}function p(){var e=so(),a=P(e);if(n=arguments,r=this,g=e,a){if(void 0===h)return s(g);if(S)return ur(h),h=pi(f,t),l(g)}return void 0===h&&(h=pi(f,t)),d}return t=id(t)||0,Ho(a)&&(m=!!a.leading,o=(S="maxWait"in a)?ia(id(a.maxWait)||0,t):o,c="trailing"in a?!!a.trailing:c),p.cancel=function(){void 0!==h&&ur(h),u=0,n=g=r=h=void 0},p.flush=function(){return void 0===h?d:w(so())},p}var yo=En((function(e,t){return Ja(e,1,t)})),Lo=En((function(e,t,a){return Ja(e,id(t)||0,a)}));function bo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new we(i);var a=function(){var n=arguments,r=t?t.apply(this,n):n[0],i=a.cache;if(i.has(r))return i.get(r);var o=e.apply(this,n);return a.cache=i.set(r,o)||i,o};return a.cache=new(bo.Cache||ja),a}function ko(e){if("function"!=typeof e)throw new we(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}bo.Cache=ja;var Fo=hr((function(e,t){var a=(t=1==t.length&&No(t[0])?ct(t[0],Ot($r())):ct(rn(t,1),Ot($r()))).length;return En((function(n){for(var r=-1,i=oa(n.length,a);++r<i;)n[r]=t[r].call(this,n[r]);return it(e,this,n)}))})),Bo=En((function(e,t){return Cr(e,32,void 0,t,Wt(t,Yr(Bo)))})),_o=En((function(e,t){return Cr(e,64,void 0,t,Wt(t,Yr(_o)))})),Go=Ur((function(e,t){return Cr(e,256,void 0,void 0,void 0,t)}));function zo(e,t){return e===t||e!=e&&t!=t}var Oo=jr(ln),To=jr((function(e,t){return e>=t})),xo=pn(function(){return arguments}())?pn:function(e){return Uo(e)&&ke.call(e,"callee")&&!Ke.call(e,"callee")},No=n.isArray,jo=Qe?Ot(Qe):function(e){return Uo(e)&&cn(e)==b};function Mo(e){return null!=e&&Wo(e.length)&&!Ro(e)}function Ao(e){return Uo(e)&&Mo(e)}var Do=ta||ih,Eo=et?Ot(et):function(e){return Uo(e)&&cn(e)==m};function Co(e){if(!Uo(e))return!1;var t=cn(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!qo(e)}function Ro(e){if(!Ho(e))return!1;var t=cn(e);return t==c||t==l||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Io(e){return"number"==typeof e&&e==nd(e)}function Wo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ho(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Uo(e){return null!=e&&"object"==typeof e}var Vo=tt?Ot(tt):function(e){return Uo(e)&&ai(e)==s};function Xo(e){return"number"==typeof e||Uo(e)&&cn(e)==P}function qo(e){if(!Uo(e)||cn(e)!=f)return!1;var t=Ve(e);if(null===t)return!0;var a=ke.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&be.call(a)==Ge}var Ko=at?Ot(at):function(e){return Uo(e)&&cn(e)==w};var Yo=nt?Ot(nt):function(e){return Uo(e)&&ai(e)==p};function $o(e){return"string"==typeof e||!No(e)&&Uo(e)&&cn(e)==v}function Jo(e){return"symbol"==typeof e||Uo(e)&&cn(e)==y}var Zo=rt?Ot(rt):function(e){return Uo(e)&&Wo(e.length)&&!!Re[cn(e)]};var Qo=jr(Bn),ed=jr((function(e,t){return e<=t}));function td(e){if(!e)return[];if(Mo(e))return $o(e)?Xt(e):fr(e);if(Ze&&e[Ze])return function(e){for(var t,a=[];!(t=e.next()).done;)a.push(t.value);return a}(e[Ze]());var t=ai(e);return(t==s?Rt:t==p?Ht:zd)(e)}function ad(e){return e?(e=id(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function nd(e){var t=ad(e),a=t%1;return t==t?a?t-a:t:0}function rd(e){return e?Ka(nd(e),0,4294967295):0}function id(e){if("number"==typeof e)return e;if(Jo(e))return NaN;if(Ho(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ho(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(K,"");var a=ie.test(e);return a||de.test(e)?Ue(e.slice(2),a?2:8):re.test(e)?NaN:+e}function od(e){return wr(e,yd(e))}function dd(e){return null==e?"":Jn(e)}var hd=vr((function(e,t){if(mi(t)||Mo(t))wr(t,vd(t),e);else for(var a in t)ke.call(t,a)&&Wa(e,a,t[a])})),gd=vr((function(e,t){wr(t,yd(t),e)})),ud=vr((function(e,t,a,n){wr(t,yd(t),e,n)})),md=vr((function(e,t,a,n){wr(t,vd(t),e,n)})),Sd=Ur(qa);var cd=En((function(e,t){e=se(e);var a=-1,n=t.length,r=n>2?t[2]:void 0;for(r&&di(t[0],t[1],r)&&(n=1);++a<n;)for(var i=t[a],o=yd(i),d=-1,h=o.length;++d<h;){var g=o[d],u=e[g];(void 0===u||zo(u,ye[g])&&!ke.call(e,g))&&(e[g]=i[g])}return e})),ld=En((function(e){return e.push(void 0,Ir),it(bd,void 0,e)}));function sd(e,t,a){var n=null==e?void 0:mn(e,t);return void 0===n?a:n}function Pd(e,t){return null!=e&&ni(e,t,Pn)}var fd=zr((function(e,t,a){null!=t&&"function"!=typeof t.toString&&(t=_e.call(t)),e[t]=a}),Hd(Xd)),wd=zr((function(e,t,a){null!=t&&"function"!=typeof t.toString&&(t=_e.call(t)),ke.call(e,t)?e[t].push(a):e[t]=[a]}),$r),pd=En(wn);function vd(e){return Mo(e)?Da(e):kn(e)}function yd(e){return Mo(e)?Da(e,!0):Fn(e)}var Ld=vr((function(e,t,a){On(e,t,a)})),bd=vr((function(e,t,a,n){On(e,t,a,n)})),kd=Ur((function(e,t){var a={};if(null==e)return a;var n=!1;t=ct(t,(function(t){return t=dr(t,e),n||(n=t.length>1),t})),wr(e,Xr(e),a),n&&(a=Ya(a,7,Wr));for(var r=t.length;r--;)Qn(a,t[r]);return a}));var Fd=Ur((function(e,t){return null==e?{}:function(e,t){return Nn(e,t,(function(t,a){return Pd(e,a)}))}(e,t)}));function Bd(e,t){if(null==e)return{};var a=ct(Xr(e),(function(e){return[e]}));return t=$r(t),Nn(e,a,(function(e,a){return t(e,a[0])}))}var _d=Er(vd),Gd=Er(yd);function zd(e){return null==e?[]:Tt(e,vd(e))}var Od=kr((function(e,t,a){return t=t.toLowerCase(),e+(a?Td(t):t)}));function Td(e){return Cd(dd(e).toLowerCase())}function xd(e){return(e=dd(e))&&e.replace(ge,At).replace(Ne,"")}var Nd=kr((function(e,t,a){return e+(a?"-":"")+t.toLowerCase()})),jd=kr((function(e,t,a){return e+(a?" ":"")+t.toLowerCase()})),Md=br("toLowerCase");var Ad=kr((function(e,t,a){return e+(a?"_":"")+t.toLowerCase()}));var Dd=kr((function(e,t,a){return e+(a?" ":"")+Cd(t)}));var Ed=kr((function(e,t,a){return e+(a?" ":"")+t.toUpperCase()})),Cd=br("toUpperCase");function Rd(e,t,a){return e=dd(e),void 0===(t=a?void 0:t)?function(e){return De.test(e)}(e)?function(e){return e.match(Me)||[]}(e):function(e){return e.match(ee)||[]}(e):e.match(t)||[]}var Id=En((function(e,t){try{return it(e,void 0,t)}catch(e){return Co(e)?e:new Se(e)}})),Wd=Ur((function(e,t){return dt(t,(function(t){t=Fi(t),Xa(e,t,wo(e[t],e))})),e}));function Hd(e){return function(){return e}}var Ud=_r(),Vd=_r(!0);function Xd(e){return e}function qd(e){return bn("function"==typeof e?e:Ya(e,1))}var Kd=En((function(e,t){return function(a){return wn(a,e,t)}})),Yd=En((function(e,t){return function(a){return wn(e,a,t)}}));function $d(e,t,a){var n=vd(t),r=un(t,n);null!=a||Ho(t)&&(r.length||!n.length)||(a=t,t=e,e=this,r=un(t,vd(t)));var i=!(Ho(a)&&"chain"in a&&!a.chain),o=Ro(e);return dt(r,(function(a){var n=t[a];e[a]=n,o&&(e.prototype[a]=function(){var t=this.__chain__;if(i||t){var a=e(this.__wrapped__),r=a.__actions__=fr(this.__actions__);return r.push({func:n,args:arguments,thisArg:e}),a.__chain__=t,a}return n.apply(e,lt([this.value()],arguments))})})),e}function Jd(){}var Zd=Tr(ct),Qd=Tr(gt),eh=Tr(ft);function th(e){return hi(e)?Ft(Fi(e)):function(e){return function(t){return mn(t,e)}}(e)}var ah=Nr(),nh=Nr(!0);function rh(){return[]}function ih(){return!1}var oh=Or((function(e,t){return e+t}),0),dh=Ar("ceil"),hh=Or((function(e,t){return e/t}),1),gh=Ar("floor");var uh,mh=Or((function(e,t){return e*t}),1),Sh=Ar("round"),ch=Or((function(e,t){return e-t}),0);return _a.after=function(e,t){if("function"!=typeof t)throw new we(i);return e=nd(e),function(){if(--e<1)return t.apply(this,arguments)}},_a.ary=Po,_a.assign=hd,_a.assignIn=gd,_a.assignInWith=ud,_a.assignWith=md,_a.at=Sd,_a.before=fo,_a.bind=wo,_a.bindAll=Wd,_a.bindKey=po,_a.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return No(e)?e:[e]},_a.chain=eo,_a.chunk=function(e,t,a){t=(a?di(e,t,a):void 0===t)?1:ia(nd(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,d=n(Zt(r/t));i<r;)d[o++]=Vn(e,i,i+=t);return d},_a.compact=function(e){for(var t=-1,a=null==e?0:e.length,n=0,r=[];++t<a;){var i=e[t];i&&(r[n++]=i)}return r},_a.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),a=arguments[0],r=e;r--;)t[r-1]=arguments[r];return lt(No(a)?fr(a):[a],rn(t,1))},_a.cond=function(e){var t=null==e?0:e.length,a=$r();return e=t?ct(e,(function(e){if("function"!=typeof e[1])throw new we(i);return[a(e[0]),e[1]]})):[],En((function(a){for(var n=-1;++n<t;){var r=e[n];if(it(r[0],this,a))return it(r[1],this,a)}}))},_a.conforms=function(e){return function(e){var t=vd(e);return function(a){return $a(a,e,t)}}(Ya(e,1))},_a.constant=Hd,_a.countBy=no,_a.create=function(e,t){var a=Ga(e);return null==t?a:Va(a,t)},_a.curry=function e(t,a,n){var r=Cr(t,8,void 0,void 0,void 0,void 0,void 0,a=n?void 0:a);return r.placeholder=e.placeholder,r},_a.curryRight=function e(t,a,n){var r=Cr(t,16,void 0,void 0,void 0,void 0,void 0,a=n?void 0:a);return r.placeholder=e.placeholder,r},_a.debounce=vo,_a.defaults=cd,_a.defaultsDeep=ld,_a.defer=yo,_a.delay=Lo,_a.difference=Gi,_a.differenceBy=zi,_a.differenceWith=Oi,_a.drop=function(e,t,a){var n=null==e?0:e.length;return n?Vn(e,(t=a||void 0===t?1:nd(t))<0?0:t,n):[]},_a.dropRight=function(e,t,a){var n=null==e?0:e.length;return n?Vn(e,0,(t=n-(t=a||void 0===t?1:nd(t)))<0?0:t):[]},_a.dropRightWhile=function(e,t){return e&&e.length?tr(e,$r(t,3),!0,!0):[]},_a.dropWhile=function(e,t){return e&&e.length?tr(e,$r(t,3),!0):[]},_a.fill=function(e,t,a,n){var r=null==e?0:e.length;return r?(a&&"number"!=typeof a&&di(e,t,a)&&(a=0,n=r),function(e,t,a,n){var r=e.length;for((a=nd(a))<0&&(a=-a>r?0:r+a),(n=void 0===n||n>r?r:nd(n))<0&&(n+=r),n=a>n?0:rd(n);a<n;)e[a++]=t;return e}(e,t,a,n)):[]},_a.filter=function(e,t){return(No(e)?ut:nn)(e,$r(t,3))},_a.flatMap=function(e,t){return rn(So(e,t),1)},_a.flatMapDeep=function(e,t){return rn(So(e,t),1/0)},_a.flatMapDepth=function(e,t,a){return a=void 0===a?1:nd(a),rn(So(e,t),a)},_a.flatten=Ni,_a.flattenDeep=function(e){return(null==e?0:e.length)?rn(e,1/0):[]},_a.flattenDepth=function(e,t){return(null==e?0:e.length)?rn(e,t=void 0===t?1:nd(t)):[]},_a.flip=function(e){return Cr(e,512)},_a.flow=Ud,_a.flowRight=Vd,_a.fromPairs=function(e){for(var t=-1,a=null==e?0:e.length,n={};++t<a;){var r=e[t];n[r[0]]=r[1]}return n},_a.functions=function(e){return null==e?[]:un(e,vd(e))},_a.functionsIn=function(e){return null==e?[]:un(e,yd(e))},_a.groupBy=go,_a.initial=function(e){return(null==e?0:e.length)?Vn(e,0,-1):[]},_a.intersection=Mi,_a.intersectionBy=Ai,_a.intersectionWith=Di,_a.invert=fd,_a.invertBy=wd,_a.invokeMap=uo,_a.iteratee=qd,_a.keyBy=mo,_a.keys=vd,_a.keysIn=yd,_a.map=So,_a.mapKeys=function(e,t){var a={};return t=$r(t,3),hn(e,(function(e,n,r){Xa(a,t(e,n,r),e)})),a},_a.mapValues=function(e,t){var a={};return t=$r(t,3),hn(e,(function(e,n,r){Xa(a,n,t(e,n,r))})),a},_a.matches=function(e){return Gn(Ya(e,1))},_a.matchesProperty=function(e,t){return zn(e,Ya(t,1))},_a.memoize=bo,_a.merge=Ld,_a.mergeWith=bd,_a.method=Kd,_a.methodOf=Yd,_a.mixin=$d,_a.negate=ko,_a.nthArg=function(e){return e=nd(e),En((function(t){return Tn(t,e)}))},_a.omit=kd,_a.omitBy=function(e,t){return Bd(e,ko($r(t)))},_a.once=function(e){return fo(2,e)},_a.orderBy=function(e,t,a,n){return null==e?[]:(No(t)||(t=null==t?[]:[t]),No(a=n?void 0:a)||(a=null==a?[]:[a]),xn(e,t,a))},_a.over=Zd,_a.overArgs=Fo,_a.overEvery=Qd,_a.overSome=eh,_a.partial=Bo,_a.partialRight=_o,_a.partition=co,_a.pick=Fd,_a.pickBy=Bd,_a.property=th,_a.propertyOf=function(e){return function(t){return null==e?void 0:mn(e,t)}},_a.pull=Ci,_a.pullAll=Ri,_a.pullAllBy=function(e,t,a){return e&&e.length&&t&&t.length?jn(e,t,$r(a,2)):e},_a.pullAllWith=function(e,t,a){return e&&e.length&&t&&t.length?jn(e,t,void 0,a):e},_a.pullAt=Ii,_a.range=ah,_a.rangeRight=nh,_a.rearg=Go,_a.reject=function(e,t){return(No(e)?ut:nn)(e,ko($r(t,3)))},_a.remove=function(e,t){var a=[];if(!e||!e.length)return a;var n=-1,r=[],i=e.length;for(t=$r(t,3);++n<i;){var o=e[n];t(o,n,e)&&(a.push(o),r.push(n))}return Mn(e,r),a},_a.rest=function(e,t){if("function"!=typeof e)throw new we(i);return En(e,t=void 0===t?t:nd(t))},_a.reverse=Wi,_a.sampleSize=function(e,t,a){return t=(a?di(e,t,a):void 0===t)?1:nd(t),(No(e)?Ca:Rn)(e,t)},_a.set=function(e,t,a){return null==e?e:In(e,t,a)},_a.setWith=function(e,t,a,n){return n="function"==typeof n?n:void 0,null==e?e:In(e,t,a,n)},_a.shuffle=function(e){return(No(e)?Ra:Un)(e)},_a.slice=function(e,t,a){var n=null==e?0:e.length;return n?(a&&"number"!=typeof a&&di(e,t,a)?(t=0,a=n):(t=null==t?0:nd(t),a=void 0===a?n:nd(a)),Vn(e,t,a)):[]},_a.sortBy=lo,_a.sortedUniq=function(e){return e&&e.length?Yn(e):[]},_a.sortedUniqBy=function(e,t){return e&&e.length?Yn(e,$r(t,2)):[]},_a.split=function(e,t,a){return a&&"number"!=typeof a&&di(e,t,a)&&(t=a=void 0),(a=void 0===a?4294967295:a>>>0)?(e=dd(e))&&("string"==typeof t||null!=t&&!Ko(t))&&!(t=Jn(t))&&Ct(e)?gr(Xt(e),0,a):e.split(t,a):[]},_a.spread=function(e,t){if("function"!=typeof e)throw new we(i);return t=null==t?0:ia(nd(t),0),En((function(a){var n=a[t],r=gr(a,0,t);return n&&lt(r,n),it(e,this,r)}))},_a.tail=function(e){var t=null==e?0:e.length;return t?Vn(e,1,t):[]},_a.take=function(e,t,a){return e&&e.length?Vn(e,0,(t=a||void 0===t?1:nd(t))<0?0:t):[]},_a.takeRight=function(e,t,a){var n=null==e?0:e.length;return n?Vn(e,(t=n-(t=a||void 0===t?1:nd(t)))<0?0:t,n):[]},_a.takeRightWhile=function(e,t){return e&&e.length?tr(e,$r(t,3),!1,!0):[]},_a.takeWhile=function(e,t){return e&&e.length?tr(e,$r(t,3)):[]},_a.tap=function(e,t){return t(e),e},_a.throttle=function(e,t,a){var n=!0,r=!0;if("function"!=typeof e)throw new we(i);return Ho(a)&&(n="leading"in a?!!a.leading:n,r="trailing"in a?!!a.trailing:r),vo(e,t,{leading:n,maxWait:t,trailing:r})},_a.thru=to,_a.toArray=td,_a.toPairs=_d,_a.toPairsIn=Gd,_a.toPath=function(e){return No(e)?ct(e,Fi):Jo(e)?[e]:fr(ki(dd(e)))},_a.toPlainObject=od,_a.transform=function(e,t,a){var n=No(e),r=n||Do(e)||Zo(e);if(t=$r(t,4),null==a){var i=e&&e.constructor;a=r?n?new i:[]:Ho(e)&&Ro(i)?Ga(Ve(e)):{}}return(r?dt:hn)(e,(function(e,n,r){return t(a,e,n,r)})),a},_a.unary=function(e){return Po(e,1)},_a.union=Hi,_a.unionBy=Ui,_a.unionWith=Vi,_a.uniq=function(e){return e&&e.length?Zn(e):[]},_a.uniqBy=function(e,t){return e&&e.length?Zn(e,$r(t,2)):[]},_a.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Zn(e,void 0,t):[]},_a.unset=function(e,t){return null==e||Qn(e,t)},_a.unzip=Xi,_a.unzipWith=qi,_a.update=function(e,t,a){return null==e?e:er(e,t,or(a))},_a.updateWith=function(e,t,a,n){return n="function"==typeof n?n:void 0,null==e?e:er(e,t,or(a),n)},_a.values=zd,_a.valuesIn=function(e){return null==e?[]:Tt(e,yd(e))},_a.without=Ki,_a.words=Rd,_a.wrap=function(e,t){return Bo(or(t),e)},_a.xor=Yi,_a.xorBy=$i,_a.xorWith=Ji,_a.zip=Zi,_a.zipObject=function(e,t){return rr(e||[],t||[],Wa)},_a.zipObjectDeep=function(e,t){return rr(e||[],t||[],In)},_a.zipWith=Qi,_a.entries=_d,_a.entriesIn=Gd,_a.extend=gd,_a.extendWith=ud,$d(_a,_a),_a.add=oh,_a.attempt=Id,_a.camelCase=Od,_a.capitalize=Td,_a.ceil=dh,_a.clamp=function(e,t,a){return void 0===a&&(a=t,t=void 0),void 0!==a&&(a=(a=id(a))==a?a:0),void 0!==t&&(t=(t=id(t))==t?t:0),Ka(id(e),t,a)},_a.clone=function(e){return Ya(e,4)},_a.cloneDeep=function(e){return Ya(e,5)},_a.cloneDeepWith=function(e,t){return Ya(e,5,t="function"==typeof t?t:void 0)},_a.cloneWith=function(e,t){return Ya(e,4,t="function"==typeof t?t:void 0)},_a.conformsTo=function(e,t){return null==t||$a(e,t,vd(t))},_a.deburr=xd,_a.defaultTo=function(e,t){return null==e||e!=e?t:e},_a.divide=hh,_a.endsWith=function(e,t,a){e=dd(e),t=Jn(t);var n=e.length,r=a=void 0===a?n:Ka(nd(a),0,n);return(a-=t.length)>=0&&e.slice(a,r)==t},_a.eq=zo,_a.escape=function(e){return(e=dd(e))&&C.test(e)?e.replace(D,Dt):e},_a.escapeRegExp=function(e){return(e=dd(e))&&q.test(e)?e.replace(X,"\\$&"):e},_a.every=function(e,t,a){var n=No(e)?gt:tn;return a&&di(e,t,a)&&(t=void 0),n(e,$r(t,3))},_a.find=ro,_a.findIndex=Ti,_a.findKey=function(e,t){return pt(e,$r(t,3),hn)},_a.findLast=io,_a.findLastIndex=xi,_a.findLastKey=function(e,t){return pt(e,$r(t,3),gn)},_a.floor=gh,_a.forEach=oo,_a.forEachRight=ho,_a.forIn=function(e,t){return null==e?e:on(e,$r(t,3),yd)},_a.forInRight=function(e,t){return null==e?e:dn(e,$r(t,3),yd)},_a.forOwn=function(e,t){return e&&hn(e,$r(t,3))},_a.forOwnRight=function(e,t){return e&&gn(e,$r(t,3))},_a.get=sd,_a.gt=Oo,_a.gte=To,_a.has=function(e,t){return null!=e&&ni(e,t,sn)},_a.hasIn=Pd,_a.head=ji,_a.identity=Xd,_a.includes=function(e,t,a,n){e=Mo(e)?e:zd(e),a=a&&!n?nd(a):0;var r=e.length;return a<0&&(a=ia(r+a,0)),$o(e)?a<=r&&e.indexOf(t,a)>-1:!!r&&yt(e,t,a)>-1},_a.indexOf=function(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var r=null==a?0:nd(a);return r<0&&(r=ia(n+r,0)),yt(e,t,r)},_a.inRange=function(e,t,a){return t=ad(t),void 0===a?(a=t,t=0):a=ad(a),function(e,t,a){return e>=oa(t,a)&&e<ia(t,a)}(e=id(e),t,a)},_a.invoke=pd,_a.isArguments=xo,_a.isArray=No,_a.isArrayBuffer=jo,_a.isArrayLike=Mo,_a.isArrayLikeObject=Ao,_a.isBoolean=function(e){return!0===e||!1===e||Uo(e)&&cn(e)==u},_a.isBuffer=Do,_a.isDate=Eo,_a.isElement=function(e){return Uo(e)&&1===e.nodeType&&!qo(e)},_a.isEmpty=function(e){if(null==e)return!0;if(Mo(e)&&(No(e)||"string"==typeof e||"function"==typeof e.splice||Do(e)||Zo(e)||xo(e)))return!e.length;var t=ai(e);if(t==s||t==p)return!e.size;if(mi(e))return!kn(e).length;for(var a in e)if(ke.call(e,a))return!1;return!0},_a.isEqual=function(e,t){return vn(e,t)},_a.isEqualWith=function(e,t,a){var n=(a="function"==typeof a?a:void 0)?a(e,t):void 0;return void 0===n?vn(e,t,void 0,a):!!n},_a.isError=Co,_a.isFinite=function(e){return"number"==typeof e&&aa(e)},_a.isFunction=Ro,_a.isInteger=Io,_a.isLength=Wo,_a.isMap=Vo,_a.isMatch=function(e,t){return e===t||yn(e,t,Zr(t))},_a.isMatchWith=function(e,t,a){return a="function"==typeof a?a:void 0,yn(e,t,Zr(t),a)},_a.isNaN=function(e){return Xo(e)&&e!=+e},_a.isNative=function(e){if(ui(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ln(e)},_a.isNil=function(e){return null==e},_a.isNull=function(e){return null===e},_a.isNumber=Xo,_a.isObject=Ho,_a.isObjectLike=Uo,_a.isPlainObject=qo,_a.isRegExp=Ko,_a.isSafeInteger=function(e){return Io(e)&&e>=-9007199254740991&&e<=9007199254740991},_a.isSet=Yo,_a.isString=$o,_a.isSymbol=Jo,_a.isTypedArray=Zo,_a.isUndefined=function(e){return void 0===e},_a.isWeakMap=function(e){return Uo(e)&&ai(e)==L},_a.isWeakSet=function(e){return Uo(e)&&"[object WeakSet]"==cn(e)},_a.join=function(e,t){return null==e?"":na.call(e,t)},_a.kebabCase=Nd,_a.last=Ei,_a.lastIndexOf=function(e,t,a){var n=null==e?0:e.length;if(!n)return-1;var r=n;return void 0!==a&&(r=(r=nd(a))<0?ia(n+r,0):oa(r,n-1)),t==t?function(e,t,a){for(var n=a+1;n--;)if(e[n]===t)return n;return n}(e,t,r):vt(e,bt,r,!0)},_a.lowerCase=jd,_a.lowerFirst=Md,_a.lt=Qo,_a.lte=ed,_a.max=function(e){return e&&e.length?an(e,Xd,ln):void 0},_a.maxBy=function(e,t){return e&&e.length?an(e,$r(t,2),ln):void 0},_a.mean=function(e){return kt(e,Xd)},_a.meanBy=function(e,t){return kt(e,$r(t,2))},_a.min=function(e){return e&&e.length?an(e,Xd,Bn):void 0},_a.minBy=function(e,t){return e&&e.length?an(e,$r(t,2),Bn):void 0},_a.stubArray=rh,_a.stubFalse=ih,_a.stubObject=function(){return{}},_a.stubString=function(){return""},_a.stubTrue=function(){return!0},_a.multiply=mh,_a.nth=function(e,t){return e&&e.length?Tn(e,nd(t)):void 0},_a.noConflict=function(){return qe._===this&&(qe._=ze),this},_a.noop=Jd,_a.now=so,_a.pad=function(e,t,a){e=dd(e);var n=(t=nd(t))?Vt(e):0;if(!t||n>=t)return e;var r=(t-n)/2;return xr(Qt(r),a)+e+xr(Zt(r),a)},_a.padEnd=function(e,t,a){e=dd(e);var n=(t=nd(t))?Vt(e):0;return t&&n<t?e+xr(t-n,a):e},_a.padStart=function(e,t,a){e=dd(e);var n=(t=nd(t))?Vt(e):0;return t&&n<t?xr(t-n,a)+e:e},_a.parseInt=function(e,t,a){return a||null==t?t=0:t&&(t=+t),ha(dd(e).replace(Y,""),t||0)},_a.random=function(e,t,a){if(a&&"boolean"!=typeof a&&di(e,t,a)&&(t=a=void 0),void 0===a&&("boolean"==typeof t?(a=t,t=void 0):"boolean"==typeof e&&(a=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ad(e),void 0===t?(t=e,e=0):t=ad(t)),e>t){var n=e;e=t,t=n}if(a||e%1||t%1){var r=ga();return oa(e+r*(t-e+He("1e-"+((r+"").length-1))),t)}return An(e,t)},_a.reduce=function(e,t,a){var n=No(e)?st:_t,r=arguments.length<3;return n(e,$r(t,4),a,r,Qa)},_a.reduceRight=function(e,t,a){var n=No(e)?Pt:_t,r=arguments.length<3;return n(e,$r(t,4),a,r,en)},_a.repeat=function(e,t,a){return t=(a?di(e,t,a):void 0===t)?1:nd(t),Dn(dd(e),t)},_a.replace=function(){var e=arguments,t=dd(e[0]);return e.length<3?t:t.replace(e[1],e[2])},_a.result=function(e,t,a){var n=-1,r=(t=dr(t,e)).length;for(r||(r=1,e=void 0);++n<r;){var i=null==e?void 0:e[Fi(t[n])];void 0===i&&(n=r,i=a),e=Ro(i)?i.call(e):i}return e},_a.round=Sh,_a.runInContext=e,_a.sample=function(e){return(No(e)?Ea:Cn)(e)},_a.size=function(e){if(null==e)return 0;if(Mo(e))return $o(e)?Vt(e):e.length;var t=ai(e);return t==s||t==p?e.size:kn(e).length},_a.snakeCase=Ad,_a.some=function(e,t,a){var n=No(e)?ft:Xn;return a&&di(e,t,a)&&(t=void 0),n(e,$r(t,3))},_a.sortedIndex=function(e,t){return qn(e,t)},_a.sortedIndexBy=function(e,t,a){return Kn(e,t,$r(a,2))},_a.sortedIndexOf=function(e,t){var a=null==e?0:e.length;if(a){var n=qn(e,t);if(n<a&&zo(e[n],t))return n}return-1},_a.sortedLastIndex=function(e,t){return qn(e,t,!0)},_a.sortedLastIndexBy=function(e,t,a){return Kn(e,t,$r(a,2),!0)},_a.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var a=qn(e,t,!0)-1;if(zo(e[a],t))return a}return-1},_a.startCase=Dd,_a.startsWith=function(e,t,a){return e=dd(e),a=null==a?0:Ka(nd(a),0,e.length),t=Jn(t),e.slice(a,a+t.length)==t},_a.subtract=ch,_a.sum=function(e){return e&&e.length?Gt(e,Xd):0},_a.sumBy=function(e,t){return e&&e.length?Gt(e,$r(t,2)):0},_a.template=function(e,t,a){var n=_a.templateSettings;a&&di(e,t,a)&&(t=void 0),e=dd(e),t=ud({},t,n,Rr);var r,i,o=ud({},t.imports,n.imports,Rr),d=vd(o),h=Tt(o,d),g=0,u=t.interpolate||ue,m="__p += '",S=Pe((t.escape||ue).source+"|"+u.source+"|"+(u===W?ae:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),c="//# sourceURL="+(ke.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ce+"]")+"\n";e.replace(S,(function(t,a,n,o,d,h){return n||(n=o),m+=e.slice(g,h).replace(me,Et),a&&(r=!0,m+="' +\n__e("+a+") +\n'"),d&&(i=!0,m+="';\n"+d+";\n__p += '"),n&&(m+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),g=h+t.length,t})),m+="';\n";var l=ke.call(t,"variable")&&t.variable;l||(m="with (obj) {\n"+m+"\n}\n"),m=(i?m.replace(N,""):m).replace(j,"$1").replace(M,"$1;"),m="function("+(l||"obj")+") {\n"+(l?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var s=Id((function(){return ce(d,c+"return "+m).apply(void 0,h)}));if(s.source=m,Co(s))throw s;return s},_a.times=function(e,t){if((e=nd(e))<1||e>9007199254740991)return[];var a=4294967295,n=oa(e,4294967295);e-=4294967295;for(var r=zt(n,t=$r(t));++a<e;)t(a);return r},_a.toFinite=ad,_a.toInteger=nd,_a.toLength=rd,_a.toLower=function(e){return dd(e).toLowerCase()},_a.toNumber=id,_a.toSafeInteger=function(e){return e?Ka(nd(e),-9007199254740991,9007199254740991):0===e?e:0},_a.toString=dd,_a.toUpper=function(e){return dd(e).toUpperCase()},_a.trim=function(e,t,a){if((e=dd(e))&&(a||void 0===t))return e.replace(K,"");if(!e||!(t=Jn(t)))return e;var n=Xt(e),r=Xt(t);return gr(n,Nt(n,r),jt(n,r)+1).join("")},_a.trimEnd=function(e,t,a){if((e=dd(e))&&(a||void 0===t))return e.replace($,"");if(!e||!(t=Jn(t)))return e;var n=Xt(e);return gr(n,0,jt(n,Xt(t))+1).join("")},_a.trimStart=function(e,t,a){if((e=dd(e))&&(a||void 0===t))return e.replace(Y,"");if(!e||!(t=Jn(t)))return e;var n=Xt(e);return gr(n,Nt(n,Xt(t))).join("")},_a.truncate=function(e,t){var a=30,n="...";if(Ho(t)){var r="separator"in t?t.separator:r;a="length"in t?nd(t.length):a,n="omission"in t?Jn(t.omission):n}var i=(e=dd(e)).length;if(Ct(e)){var o=Xt(e);i=o.length}if(a>=i)return e;var d=a-Vt(n);if(d<1)return n;var h=o?gr(o,0,d).join(""):e.slice(0,d);if(void 0===r)return h+n;if(o&&(d+=h.length-d),Ko(r)){if(e.slice(d).search(r)){var g,u=h;for(r.global||(r=Pe(r.source,dd(ne.exec(r))+"g")),r.lastIndex=0;g=r.exec(u);)var m=g.index;h=h.slice(0,void 0===m?d:m)}}else if(e.indexOf(Jn(r),d)!=d){var S=h.lastIndexOf(r);S>-1&&(h=h.slice(0,S))}return h+n},_a.unescape=function(e){return(e=dd(e))&&E.test(e)?e.replace(A,qt):e},_a.uniqueId=function(e){var t=++Fe;return dd(e)+t},_a.upperCase=Ed,_a.upperFirst=Cd,_a.each=oo,_a.eachRight=ho,_a.first=ji,$d(_a,(uh={},hn(_a,(function(e,t){ke.call(_a.prototype,t)||(uh[t]=e)})),uh),{chain:!1}),_a.VERSION="4.17.15",dt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){_a[e].placeholder=_a})),dt(["drop","take"],(function(e,t){Ta.prototype[e]=function(a){a=void 0===a?1:ia(nd(a),0);var n=this.__filtered__&&!t?new Ta(this):this.clone();return n.__filtered__?n.__takeCount__=oa(a,n.__takeCount__):n.__views__.push({size:oa(a,4294967295),type:e+(n.__dir__<0?"Right":"")}),n},Ta.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),dt(["filter","map","takeWhile"],(function(e,t){var a=t+1,n=1==a||3==a;Ta.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:$r(e,3),type:a}),t.__filtered__=t.__filtered__||n,t}})),dt(["head","last"],(function(e,t){var a="take"+(t?"Right":"");Ta.prototype[e]=function(){return this[a](1).value()[0]}})),dt(["initial","tail"],(function(e,t){var a="drop"+(t?"":"Right");Ta.prototype[e]=function(){return this.__filtered__?new Ta(this):this[a](1)}})),Ta.prototype.compact=function(){return this.filter(Xd)},Ta.prototype.find=function(e){return this.filter(e).head()},Ta.prototype.findLast=function(e){return this.reverse().find(e)},Ta.prototype.invokeMap=En((function(e,t){return"function"==typeof e?new Ta(this):this.map((function(a){return wn(a,e,t)}))})),Ta.prototype.reject=function(e){return this.filter(ko($r(e)))},Ta.prototype.slice=function(e,t){e=nd(e);var a=this;return a.__filtered__&&(e>0||t<0)?new Ta(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),void 0!==t&&(a=(t=nd(t))<0?a.dropRight(-t):a.take(t-e)),a)},Ta.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ta.prototype.toArray=function(){return this.take(4294967295)},hn(Ta.prototype,(function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),r=_a[n?"take"+("last"==t?"Right":""):t],i=n||/^find/.test(t);r&&(_a.prototype[t]=function(){var t=this.__wrapped__,o=n?[1]:arguments,d=t instanceof Ta,h=o[0],g=d||No(t),u=function(e){var t=r.apply(_a,lt([e],o));return n&&m?t[0]:t};g&&a&&"function"==typeof h&&1!=h.length&&(d=g=!1);var m=this.__chain__,S=!!this.__actions__.length,c=i&&!m,l=d&&!S;if(!i&&g){t=l?t:new Ta(this);var s=e.apply(t,o);return s.__actions__.push({func:to,args:[u],thisArg:void 0}),new Oa(s,m)}return c&&l?e.apply(this,o):(s=this.thru(u),c?n?s.value()[0]:s.value():s)})})),dt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=pe[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);_a.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var r=this.value();return t.apply(No(r)?r:[],e)}return this[a]((function(a){return t.apply(No(a)?a:[],e)}))}})),hn(Ta.prototype,(function(e,t){var a=_a[t];if(a){var n=a.name+"";ke.call(wa,n)||(wa[n]=[]),wa[n].push({name:t,func:a})}})),wa[Gr(void 0,2).name]=[{name:"wrapper",func:void 0}],Ta.prototype.clone=function(){var e=new Ta(this.__wrapped__);return e.__actions__=fr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=fr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=fr(this.__views__),e},Ta.prototype.reverse=function(){if(this.__filtered__){var e=new Ta(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ta.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,a=No(e),n=t<0,r=a?e.length:0,i=function(e,t,a){var n=-1,r=a.length;for(;++n<r;){var i=a[n],o=i.size;switch(i.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=oa(t,e+o);break;case"takeRight":e=ia(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=i.start,d=i.end,h=d-o,g=n?d:o-1,u=this.__iteratees__,m=u.length,S=0,c=oa(h,this.__takeCount__);if(!a||!n&&r==h&&c==h)return ar(e,this.__actions__);var l=[];e:for(;h--&&S<c;){for(var s=-1,P=e[g+=t];++s<m;){var f=u[s],w=f.iteratee,p=f.type,v=w(P);if(2==p)P=v;else if(!v){if(1==p)continue e;break e}}l[S++]=P}return l},_a.prototype.at=ao,_a.prototype.chain=function(){return eo(this)},_a.prototype.commit=function(){return new Oa(this.value(),this.__chain__)},_a.prototype.next=function(){void 0===this.__values__&&(this.__values__=td(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},_a.prototype.plant=function(e){for(var t,a=this;a instanceof za;){var n=_i(a);n.__index__=0,n.__values__=void 0,t?r.__wrapped__=n:t=n;var r=n;a=a.__wrapped__}return r.__wrapped__=e,t},_a.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ta){var t=e;return this.__actions__.length&&(t=new Ta(this)),(t=t.reverse()).__actions__.push({func:to,args:[Wi],thisArg:void 0}),new Oa(t,this.__chain__)}return this.thru(Wi)},_a.prototype.toJSON=_a.prototype.valueOf=_a.prototype.value=function(){return ar(this.__wrapped__,this.__actions__)},_a.prototype.first=_a.prototype.head,Ze&&(_a.prototype[Ze]=function(){return this}),_a}();qe._=Kt,void 0===(r=function(){return Kt}.call(t,a,t,n))||(n.exports=r)}).call(this)}).call(this,a(5),a(6)(e))},function(e,t,a){"use strict";var n,r,i,o,d,h,g,u=a(7),m=a(24),S=Function.prototype.apply,c=Function.prototype.call,l=Object.create,s=Object.defineProperty,P=Object.defineProperties,f=Object.prototype.hasOwnProperty,w={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var a,r;return m(t),r=this,n.call(this,e,a=function(){i.call(r,e,a),S.call(t,this,arguments)}),a.__eeOnceListener__=t,this},d={on:n=function(e,t){var a;return m(t),f.call(this,"__ee__")?a=this.__ee__:(a=w.value=l(null),s(this,"__ee__",w),w.value=null),a[e]?"object"==typeof a[e]?a[e].push(t):a[e]=[a[e],t]:a[e]=t,this},once:r,off:i=function(e,t){var a,n,r,i;if(m(t),!f.call(this,"__ee__"))return this;if(!(a=this.__ee__)[e])return this;if("object"==typeof(n=a[e]))for(i=0;r=n[i];++i)r!==t&&r.__eeOnceListener__!==t||(2===n.length?a[e]=n[i?0:1]:n.splice(i,1));else n!==t&&n.__eeOnceListener__!==t||delete a[e];return this},emit:o=function(e){var t,a,n,r,i;if(f.call(this,"__ee__")&&(r=this.__ee__[e]))if("object"==typeof r){for(a=arguments.length,i=new Array(a-1),t=1;t<a;++t)i[t-1]=arguments[t];for(r=r.slice(),t=0;n=r[t];++t)S.call(n,this,i)}else switch(arguments.length){case 1:c.call(r,this);break;case 2:c.call(r,this,arguments[1]);break;case 3:c.call(r,this,arguments[1],arguments[2]);break;default:for(a=arguments.length,i=new Array(a-1),t=1;t<a;++t)i[t-1]=arguments[t];S.call(r,this,i)}}},h={on:u(n),once:u(r),off:u(i),emit:u(o)},g=P({},h),e.exports=t=function(e){return null==e?l(g):P(Object(e),h)},t.methods=d},function(e,t,a){"use strict";var n=a(18)();e.exports=function(e){return e!==n&&null!==e}},function(e,t,a){"use strict";e.exports=function(e){return null!=e}},function(e,t){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(e){"object"==typeof window&&(a=window)}e.exports=a},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,a){"use strict";var n=a(4),r=a(8),i=a(12),o=a(20),d=a(21);(e.exports=function(e,t){var a,r,h,g,u;return arguments.length<2||"string"!=typeof e?(g=t,t=e,e=null):g=arguments[2],n(e)?(a=d.call(e,"c"),r=d.call(e,"e"),h=d.call(e,"w")):(a=h=!0,r=!1),u={value:t,configurable:a,enumerable:r,writable:h},g?i(o(g),u):u}).gs=function(e,t,a){var h,g,u,m;return"string"!=typeof e?(u=a,a=t,t=e,e=null):u=arguments[3],n(t)?r(t)?n(a)?r(a)||(u=a,a=void 0):a=void 0:(u=t,t=a=void 0):t=void 0,n(e)?(h=d.call(e,"c"),g=d.call(e,"e")):(h=!0,g=!1),m={get:t,set:a,configurable:h,enumerable:g},u?i(o(u),m):m}},function(e,t,a){"use strict";var n=a(9),r=/^\s*class[\s{/}]/,i=Function.prototype.toString;e.exports=function(e){return!!n(e)&&!r.test(i.call(e))}},function(e,t,a){"use strict";var n=a(10);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!n(e)}},function(e,t,a){"use strict";var n=a(11);e.exports=function(e){if(!n(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},function(e,t,a){"use strict";var n=a(4),r={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!n(e)&&hasOwnProperty.call(r,typeof e)}},function(e,t,a){"use strict";e.exports=a(13)()?Object.assign:a(14)},function(e,t,a){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,a){"use strict";var n=a(15),r=a(19),i=Math.max;e.exports=function(e,t){var a,o,d,h=i(arguments.length,2);for(e=Object(r(e)),d=function(n){try{e[n]=t[n]}catch(e){a||(a=e)}},o=1;o<h;++o)t=arguments[o],n(t).forEach(d);if(void 0!==a)throw a;return e}},function(e,t,a){"use strict";e.exports=a(16)()?Object.keys:a(17)},function(e,t,a){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,a){"use strict";var n=a(3),r=Object.keys;e.exports=function(e){return r(n(e)?Object(e):e)}},function(e,t,a){"use strict";e.exports=function(){}},function(e,t,a){"use strict";var n=a(3);e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,a){"use strict";var n=a(3),r=Array.prototype.forEach,i=Object.create,o=function(e,t){var a;for(a in e)t[a]=e[a]};e.exports=function(e){var t=i(null);return r.call(arguments,(function(e){n(e)&&o(Object(e),t)})),t}},function(e,t,a){"use strict";e.exports=a(22)()?String.prototype.contains:a(23)},function(e,t,a){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))}},function(e,t,a){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},function(e,t,a){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,a){"use strict";a.r(t),a.d(t,"Maps",(function(){return La})),a.d(t,"MindMap",(function(){return Na})),a.d(t,"FlowChart",(function(){return Va})),a.d(t,"TemplateMaker",(function(){return Jt})),a.d(t,"ToolMaker",(function(){return Ne})),a.d(t,"Actions",(function(){return Dt})),a.d(t,"Action",(function(){return At})),a.d(t,"SequenceMap",(function(){return pn})),a.d(t,"StructMap",(function(){return Tn}));var n=a(0),r=a.n(n),i=a(1),o=a.n(i);function d(e){e.layout.invalidateLayout(),e.findTopLevelGroups().each((function(e){"verticalPool"!==e.category&&"horizontalPool"!==e.category||e.layout.invalidateLayout()})),e.layoutDiagram()}function h(e,t){var a=200;return e.memberParts.each((function(e){if(e instanceof r.a.Group){var n=e.placeholder;if(null!==n){var i=n.actualBounds;a="Horizontal"===t?Math.max(a,i.width):Math.max(a,i.height)}}})),"Horizontal"===t?new r.a.Size(a,NaN):new r.a.Size(NaN,a)}function g(e,t){var a=u(e,t),n=null;return"Horizontal"===t?(e.isSubGraphExpanded&&e.placeholder,null!==(n=e.findObject("HEADER"))&&(a.height=Math.max(a.height,n.actualBounds.height)),a):(e.isSubGraphExpanded&&e.placeholder,null!==(n=e.findObject("HEADER"))&&(a.width=Math.max(a.width,n.actualBounds.width)),a)}function u(e,t){return"Horizontal"===t?e.isSubGraphExpanded?new r.a.Size(200,20):new r.a.Size(200,1):e.isSubGraphExpanded?new r.a.Size(20,200):new r.a.Size(1,200)}function m(){r.a.GridLayout.call(this),this._direction="Horizontal",this.cellSize=new r.a.Size(1,1),this.isRealtime=!1,this.alignment=r.a.GridLayout.Position}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,a){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(a):r.value}})(e,t,a||e)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}r.a.Diagram.inherit(m,r.a.GridLayout),m.prototype.doLayout=function(e){var t=this,a=this.diagram;if(null!==a){a.startTransaction("PoolLayout");var n=this.group;if(null!==n&&"verticalPool"===n.category||"horizontalPool"===n.category){var i=h(n,this.direction);n.memberParts.each((function(e){if(e instanceof r.a.Group&&("verticalPool"!==e.category||"horizontalPool"!==e.category)){var a=e.resizeObject;if(null!==a)if("Horizontal"===t.direction){var n=g(e);a.width=isNaN(a.width)?i.width:Math.max(a.width,i.width),a.height=isNaN(a.height)?n.height:Math.max(a.height,n.height);var o=e.resizeCellSize;!isNaN(a.width)&&!isNaN(o.width)&&o.width>0&&(a.width=Math.ceil(a.width/o.width)*o.width),!isNaN(a.height)&&!isNaN(o.height)&&o.height>0&&(a.height=Math.ceil(a.height/o.height)*o.height)}else n=g(e),a.width=isNaN(a.width)?n.width:Math.max(a.width,n.width),a.height=isNaN(a.height)?i.height:Math.max(a.height,i.height),o=e.resizeCellSize,!isNaN(a.width)&&!isNaN(o.width)&&o.width>0&&(a.width=Math.ceil(a.width/o.width)*o.width),!isNaN(a.height)&&!isNaN(o.height)&&o.height>0&&(a.height=Math.ceil(a.height/o.height)*o.height)}}))}r.a.GridLayout.prototype.doLayout.call(this,e),a.commitTransaction("PoolLayout")}},Object.defineProperty(m.prototype,"direction",{get:function(){return this._direction},set:function(e){"Horizontal"===e?(this.wrappingColumn=1,this.wrappingWidth=1/0):(this.wrappingColumn=1/0,this.wrappingWidth=1/0),this.comparer=function(t,a){if("Horizontal"===e){var n=t.location.y,r=a.location.y;return isNaN(n)||isNaN(r)?0:n<r?-1:n>r?1:0}var i=t.location.x,o=a.location.x;return isNaN(i)||isNaN(o)?0:i<o?-1:i>o?1:0},this._direction!==e&&(this._direction=e,this.invalidateLayout())}});var p=r.a.GraphObject.make("ToolTip",{name:"SIZE_TOOLTIP"},r.a.GraphObject.make(r.a.Panel,r.a.GraphObject.make(r.a.TextBlock,{name:"TEXT",margin:4}))),v=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=function(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?l(e):t}(this,P(t).call(this)),w(l(e),"name","ResizeMultiple"),w(l(e),"isLengthening",(function(e){return"Horizontal"===e?this.handle.alignment===r.a.Spot.Right:this.handle.alignment===r.a.Spot.Bottom})),e}var a,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),a=t,(n=[{key:"computeMinSize",value:function(){var e=null,a=this.adornedObject.part;if("HorizontalLane"===a.category){var n=u(a,"Horizontal");return this.isLengthening("Horizontal")?(e=h(a.containingGroup,"Horizontal"),n.width=Math.max(n.width,e.width)):(e=g(a),n.width=Math.max(n.width,e.width),n.height=Math.max(n.height,e.height)),n}return s(P(t.prototype),"computeMinSize",this).call(this)}},{key:"resize",value:function(e){var t=this,a=this.diagram;a.selection.each((function(n){if(!(n instanceof r.a.Link))if(n instanceof r.a.Group&&"HorizontalLane"===n.category)t.isLengthening("Horizontal")?n.containingGroup.memberParts.each((function(t){var a=t.resizeObject;null!==a&&(a.width=e.width,g(t))})):r.a.ResizingTool.prototype.resize.call(t,e),d(n.diagram);else if(n instanceof r.a.Group&&"verticalLane"===n.category)t.isLengthening("Vertical")?n.containingGroup.memberParts.each((function(t){if(t instanceof r.a.Group){var a=t.resizeObject;null!==a&&(a.height=e.height)}})):r.a.ResizingTool.prototype.resize.call(t,e),d(n.diagram);else if(n instanceof r.a.Node){var i=n.resizeObject,o=n.position.copy(),h=i.getDocumentAngle(),u=i.getDocumentScale(),m=Math.PI*h/180,S=Math.cos(m),c=Math.sin(m),l=e.width-i.naturalBounds.width,s=e.height-i.naturalBounds.height,P=h>0&&h<180?1:0,f=h>90&&h<270?1:0,w=h>180&&h<360?1:0;o.x+=u*((e.x+l*f)*S-(e.y+s*P)*c),o.y+=u*((e.x+l*w)*c+(e.y+s*f)*S),i.desiredSize=e.size,n.position=o,p.findObject("TEXT").text="W:"+e.size.width+" H:"+e.size.height,a.toolManager.showToolTip(p,n)}}))}}])&&c(a.prototype,n),i&&c(a,i),t}(r.a.ResizingTool);function y(){r.a.DraggingTool.call(this);var e=r.a.GraphObject.make,t={layerName:"Tool",isInDocumentBounds:!1},a={stroke:"gray",isGeometryPositioned:!0};this.guidelineHtop=e(r.a.Part,t,e(r.a.Shape,a,{geometryString:"M0 0 100 0"})),this.guidelineHbottom=e(r.a.Part,t,e(r.a.Shape,a,{geometryString:"M0 0 100 0"})),this.guidelineHcenter=e(r.a.Part,t,e(r.a.Shape,a,{geometryString:"M0 0 100 0"})),this.guidelineVleft=e(r.a.Part,t,e(r.a.Shape,a,{geometryString:"M0 0 0 100"})),this.guidelineVright=e(r.a.Part,t,e(r.a.Shape,a,{geometryString:"M0 0 0 100"})),this.guidelineVcenter=e(r.a.Part,t,e(r.a.Shape,a,{geometryString:"M0 0 0 100"})),this._guidelineSnapDistance=6,this._isGuidelineEnabled=!0,this._horizontalGuidelineColor="gray",this._verticalGuidelineColor="gray",this._centerGuidelineColor="gray",this._guidelineWidth=1,this._searchDistance=1e3,this._isGuidelineSnapEnabled=!0}r.a.Diagram.inherit(y,r.a.DraggingTool),y.prototype.clearGuidelines=function(){this.diagram.remove(this.guidelineHbottom),this.diagram.remove(this.guidelineHcenter),this.diagram.remove(this.guidelineHtop),this.diagram.remove(this.guidelineVleft),this.diagram.remove(this.guidelineVright),this.diagram.remove(this.guidelineVcenter)},y.prototype.doDeactivate=function(){r.a.DraggingTool.prototype.doDeactivate.call(this),this.clearGuidelines()},y.prototype.doDragOver=function(e,t){this.clearGuidelines();var a=(this.copiedParts||this.draggedParts).iterator;if(a.next()){var n=a.key;this.showHorizontalMatches(n,this.isGuidelineEnabled,!1),this.showVerticalMatches(n,this.isGuidelineEnabled,!1)}},y.prototype.doDropOnto=function(e,t){this.clearGuidelines();var a=(this.copiedParts||this.draggedParts).iterator;if(a.next()){var n=a.key,r=this.diagram.lastInput,i=this.isGuidelineSnapEnabled&&!r.shift;this.showHorizontalMatches(n,!1,i),this.showVerticalMatches(n,!1,i)}},y.prototype.invalidateLinks=function(e){e instanceof r.a.Node&&e.invalidateConnectedLinks()},y.prototype.showHorizontalMatches=function(e,t,a){var n=e.locationObject.getDocumentBounds(),i=n.y,o=n.y+n.height/2,d=n.y+n.height,h=this.guidelineSnapDistance,g=this.searchDistance,u=n.copy();u.inflate(g,h+1);var m,S,c=this.diagram.findObjectsIn(u,(function(e){return e.part}),(function(e){return e instanceof r.a.Part&&!e.isSelected&&!(e instanceof r.a.Link)&&!(e instanceof r.a.Group)&&e.isTopLevel&&!e.layer.isTemporary}),!0),l=h,s=null;if(c.each((function(t){if(t!==e){var a=t.locationObject.getDocumentBounds(),n=a.y,h=a.y+a.height/2,g=a.y+a.height;Math.abs(o-h)<l&&(l=Math.abs(o-h),s=t,m=r.a.Spot.Center,S=r.a.Spot.Center),Math.abs(i-n)<l?(l=Math.abs(i-n),s=t,m=r.a.Spot.Top,S=r.a.Spot.Top):Math.abs(i-g)<l&&(l=Math.abs(i-g),s=t,m=r.a.Spot.Top,S=r.a.Spot.Bottom),Math.abs(d-n)<l?(l=Math.abs(d-n),s=t,m=r.a.Spot.Bottom,S=r.a.Spot.Top):Math.abs(d-g)<l&&(l=Math.abs(d-g),s=t,m=r.a.Spot.Bottom,S=r.a.Spot.Bottom)}})),null!==s){var P=n.x-e.actualBounds.x,f=n.y-e.actualBounds.y,w=s.locationObject.getDocumentBounds(),p=Math.min(n.x,w.x)-10,v=Math.max(n.x+n.width,w.x+w.width)+10,y=(new r.a.Point).setRectSpot(w,S);m===r.a.Spot.Center?(a&&(e.move(new r.a.Point(n.x-P,y.y-n.height/2-f)),this.invalidateLinks(e)),t&&(this.guidelineHcenter.position=new r.a.Point(p,y.y),this.guidelineHcenter.elt(0).width=v-p,this.diagram.add(this.guidelineHcenter))):m===r.a.Spot.Top?(a&&(e.move(new r.a.Point(n.x-P,y.y-f)),this.invalidateLinks(e)),t&&(this.guidelineHtop.position=new r.a.Point(p,y.y),this.guidelineHtop.elt(0).width=v-p,this.diagram.add(this.guidelineHtop))):m===r.a.Spot.Bottom&&(a&&(e.move(new r.a.Point(n.x-P,y.y-n.height-f)),this.invalidateLinks(e)),t&&(this.guidelineHbottom.position=new r.a.Point(p,y.y),this.guidelineHbottom.elt(0).width=v-p,this.diagram.add(this.guidelineHbottom)))}},y.prototype.showVerticalMatches=function(e,t,a){var n=e.locationObject.getDocumentBounds(),i=n.x,o=n.x+n.width/2,d=n.x+n.width,h=this.guidelineSnapDistance,g=this.searchDistance,u=n.copy();u.inflate(h+1,g);var m,S,c=this.diagram.findObjectsIn(u,(function(e){return e.part}),(function(e){return e instanceof r.a.Part&&!e.isSelected&&!(e instanceof r.a.Link)&&!(e instanceof r.a.Group)&&e.isTopLevel&&!e.layer.isTemporary}),!0),l=h,s=null;if(c.each((function(t){if(t!==e){var a=t.locationObject.getDocumentBounds(),n=a.x,h=a.x+a.width/2,g=a.x+a.width;Math.abs(o-h)<l&&(l=Math.abs(o-h),s=t,m=r.a.Spot.Center,S=r.a.Spot.Center),Math.abs(i-n)<l?(l=Math.abs(i-n),s=t,m=r.a.Spot.Left,S=r.a.Spot.Left):Math.abs(i-g)<l&&(l=Math.abs(i-g),s=t,m=r.a.Spot.Left,S=r.a.Spot.Right),Math.abs(d-n)<l?(l=Math.abs(d-n),s=t,m=r.a.Spot.Right,S=r.a.Spot.Left):Math.abs(d-g)<l&&(l=Math.abs(d-g),s=t,m=r.a.Spot.Right,S=r.a.Spot.Right)}})),null!==s){var P=n.x-e.actualBounds.x,f=n.y-e.actualBounds.y,w=s.locationObject.getDocumentBounds(),p=Math.min(n.y,w.y)-10,v=Math.max(n.y+n.height,w.y+w.height)+10,y=(new r.a.Point).setRectSpot(w,S);m===r.a.Spot.Center?(a&&(e.move(new r.a.Point(y.x-n.width/2-P,n.y-f)),this.invalidateLinks(e)),t&&(this.guidelineVcenter.position=new r.a.Point(y.x,p),this.guidelineVcenter.elt(0).height=v-p,this.diagram.add(this.guidelineVcenter))):m===r.a.Spot.Left?(a&&(e.move(new r.a.Point(y.x-P,n.y-f)),this.invalidateLinks(e)),t&&(this.guidelineVleft.position=new r.a.Point(y.x,p),this.guidelineVleft.elt(0).height=v-p,this.diagram.add(this.guidelineVleft))):m===r.a.Spot.Right&&(a&&(e.move(new r.a.Point(y.x-n.width-P,n.y-f)),this.invalidateLinks(e)),t&&(this.guidelineVright.position=new r.a.Point(y.x,p),this.guidelineVright.elt(0).height=v-p,this.diagram.add(this.guidelineVright)))}},Object.defineProperty(y.prototype,"guidelineSnapDistance",{get:function(){return this._guidelineSnapDistance},set:function(e){if("number"!=typeof e||isNaN(e)||e<0)throw new Error("new value for GuidedDraggingTool.guidelineSnapDistance must be a non-negative number.");this._guidelineSnapDistance!==e&&(this._guidelineSnapDistance=e)}}),Object.defineProperty(y.prototype,"isGuidelineEnabled",{get:function(){return this._isGuidelineEnabled},set:function(e){if("boolean"!=typeof e)throw new Error("new value for GuidedDraggingTool.isGuidelineEnabled must be a boolean value.");this._isGuidelineEnabled!==e&&(this._isGuidelineEnabled=e)}}),Object.defineProperty(y.prototype,"horizontalGuidelineColor",{get:function(){return this._horizontalGuidelineColor},set:function(e){this._horizontalGuidelineColor!==e&&(this._horizontalGuidelineColor=e,this.guidelineHbottom.elements.first().stroke=this._horizontalGuidelineColor,this.guidelineHtop.elements.first().stroke=this._horizontalGuidelineColor)}}),Object.defineProperty(y.prototype,"verticalGuidelineColor",{get:function(){return this._verticalGuidelineColor},set:function(e){this._verticalGuidelineColor!==e&&(this._verticalGuidelineColor=e,this.guidelineVleft.elements.first().stroke=this._verticalGuidelineColor,this.guidelineVright.elements.first().stroke=this._verticalGuidelineColor)}}),Object.defineProperty(y.prototype,"centerGuidelineColor",{get:function(){return this._centerGuidelineColor},set:function(e){this._centerGuidelineColor!==e&&(this._centerGuidelineColor=e,this.guidelineVcenter.elements.first().stroke=this._centerGuidelineColor,this.guidelineHcenter.elements.first().stroke=this._centerGuidelineColor)}}),Object.defineProperty(y.prototype,"guidelineWidth",{get:function(){return this._guidelineWidth},set:function(e){if("number"!=typeof e||isNaN(e)||e<0)throw new Error("New value for GuidedDraggingTool.guidelineWidth must be a non-negative number.");this._guidelineWidth!==e&&(this._guidelineWidth=e,this.guidelineVcenter.elements.first().strokeWidth=e,this.guidelineHcenter.elements.first().strokeWidth=e,this.guidelineVleft.elements.first().strokeWidth=e,this.guidelineVright.elements.first().strokeWidth=e,this.guidelineHbottom.elements.first().strokeWidth=e,this.guidelineHtop.elements.first().strokeWidth=e)}}),Object.defineProperty(y.prototype,"searchDistance",{get:function(){return this._searchDistance},set:function(e){if("number"!=typeof e||isNaN(e)||e<=0)throw new Error("new value for GuidedDraggingTool.searchDistance must be a positive number.");this._searchDistance!==e&&(this._searchDistance=e)}}),Object.defineProperty(y.prototype,"isGuidelineSnapEnabled",{get:function(){return this._isGuidelineSnapEnabled},set:function(e){if("boolean"!=typeof e)throw new Error("new value for GuidedDraggingTool.isGuidelineSnapEnabled must be a boolean.");this._isGuidelineSnapEnabled!==e&&(this._isGuidelineSnapEnabled=e)}});var L=y;function b(e,t,a,n){void 0===a&&(a=0),void 0===n&&(n=1/0),this._name=e,this._defaultValue=t,this._minimum=a,this._maximum=n}Object.defineProperty(b.prototype,"name",{get:function(){return this._name},set:function(e){if("string"!=typeof e||""===e)throw new Error("Shape name must be a valid string.");this._name=e}}),Object.defineProperty(b.prototype,"defaultValue",{get:function(){return this._defaultValue},set:function(e){if("number"!=typeof e||isNaN(e))throw new Error("The default value must be a real number, not: "+e);this._defaultValue=e}}),Object.defineProperty(b.prototype,"minimum",{get:function(){return this._minimum},set:function(e){if("number"!=typeof e||isNaN(e))throw new Error("Minimum must be a real number, not: "+e);this._minimum=e}}),Object.defineProperty(b.prototype,"maximum",{get:function(){return this._maximum},set:function(e){if("number"!=typeof e||isNaN(e))throw new Error("Maximum must be a real number, not: "+e);this._maximum=e}}),r.a.Shape._FigureParameters={},r.a.Shape.getFigureParameter=function(e,t){var a=r.a.Shape._FigureParameters[e];return a?a[t]:null},r.a.Shape.setFigureParameter=function(e,t,a){if(!(a instanceof b))throw new Error("Third argument to Shape.setFigureParameter is not FigureParameter: "+a);if(a.defaultValue<a.minimum||a.defaultValue>a.maximum)throw new Error("defaultValue must be between minimum and maximum, not: "+a.defaultValue);var n=r.a.Shape._FigureParameters[e];n||(n=[],r.a.Shape._FigureParameters[e]=n),n[t]=a};var k=[];function F(e,t){var a=k.pop();return void 0===a?new r.a.Point(e,t):(a.x=e,a.y=t,a)}function B(){var e=k.pop();return void 0===e?new r.a.Point:e}function _(e){k.push(e)}function G(e,t,a,n,r,i,o,d,h){var g,u,m,S,c,l=e-a,s=r-o;0===l||0===s?u=0===l?(S=(i-d)/s)*(g=e)+(i-S*r):(m=(t-n)/l)*(g=r)+(c=t-m*e):u=(m=(t-n)/l)*(g=(i-(S=(i-d)/s)*r-(c=t-m*e))/(m-S))+c;return h.x=g,h.y=u,h}function z(e,t,a,n,r,i,o,d,h,g,u,m,S,c){var l=1-h,s=e*l+a*h,P=t*l+n*h,f=a*l+r*h,w=n*l+i*h,p=r*l+o*h,v=i*l+d*h,y=s*l+f*h,L=P*l+w*h,b=f*l+p*h,k=w*l+v*h,F=y*l+b*h,B=L*l+k*h;g.x=s,g.y=P,u.x=y,u.y=L,m.x=F,m.y=B,S.x=b,S.y=k,c.x=p,c.y=v}var O=new r.a.Spot(.156,.156),T=new r.a.Spot(.844,.844),x=(Math.sqrt(2)-1)/3*4;r.a.Shape.defineFigureGenerator("Rectangle",(function(e,t,a){var n=new r.a.Geometry(r.a.Geometry.Rectangle);return n.startX=0,n.startY=0,n.endX=t,n.endY=a,n})),r.a.Shape.defineFigureGenerator("Square",(function(e,t,a){var n=new r.a.Geometry(r.a.Geometry.Rectangle);return n.startX=0,n.startY=0,n.endX=t,n.endY=a,n.defaultStretch=r.a.GraphObject.Uniform,n})),r.a.Shape.setFigureParameter("RoundedRectangle",0,new b("CornerRounding",5)),r.a.Shape.defineFigureGenerator("RoundedRectangle",(function(e,t,a){var n=e?e.parameter1:NaN;(isNaN(n)||n<0)&&(n=5),n=Math.min(n,t/3);var i=(n=Math.min(n,a/3))*x,o=(new r.a.Geometry).add(new r.a.PathFigure(n,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,t-n,0)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,n,t-i,0,t,i)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a-n)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,t-n,a,t,a-i,t-i,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,n,a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a-n,i,a,0,a-i)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,n)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,n,0,0,i,i,0).close()));return i>1&&(o.spot1=new r.a.Spot(0,0,i,i),o.spot2=new r.a.Spot(1,1,-i,-i)),o})),r.a.Shape.defineFigureGenerator("Border","RoundedRectangle"),r.a.Shape.defineFigureGenerator("Ellipse",(function(e,t,a){var n=new r.a.Geometry(r.a.Geometry.Ellipse);return n.startX=0,n.startY=0,n.endX=t,n.endY=a,n.spot1=O,n.spot2=T,n})),r.a.Shape.defineFigureGenerator("Circle",(function(e,t,a){var n=new r.a.Geometry(r.a.Geometry.Ellipse);return n.startX=0,n.startY=0,n.endX=t,n.endY=a,n.spot1=O,n.spot2=T,n.defaultStretch=r.a.GraphObject.Uniform,n})),r.a.Shape.defineFigureGenerator("TriangleRight",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close())).setSpots(0,.25,.5,.75)})),r.a.Shape.defineFigureGenerator("TriangleDown",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a).close())).setSpots(.25,0,.75,.5)})),r.a.Shape.defineFigureGenerator("TriangleLeft",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(t,a).add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0).close())).setSpots(.5,.25,1,.75)})),r.a.Shape.defineFigureGenerator("TriangleUp",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(t,a).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0).close())).setSpots(.25,.5,.75,1)})),r.a.Shape.defineFigureGenerator("Triangle","TriangleUp"),r.a.Shape.defineFigureGenerator("Diamond",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(.5*t,0).add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a).close())).setSpots(.25,.25,.75,.75)})),r.a.Shape.defineFigureGenerator("LineH",(function(e,t,a){var n=new r.a.Geometry(r.a.Geometry.Line);return n.startX=0,n.startY=a/2,n.endX=t,n.endY=a/2,n})),r.a.Shape.defineFigureGenerator("LineV",(function(e,t,a){var n=new r.a.Geometry(r.a.Geometry.Line);return n.startX=t/2,n.startY=0,n.endX=t/2,n.endY=a,n})),r.a.Shape.defineFigureGenerator("BarH","Rectangle"),r.a.Shape.defineFigureGenerator("BarV","Rectangle"),r.a.Shape.defineFigureGenerator("MinusLine","LineH"),r.a.Shape.defineFigureGenerator("PlusLine",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,a/2,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a/2)).add(new r.a.PathSegment(r.a.PathSegment.Move,t/2,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t/2,a)))})),r.a.Shape.defineFigureGenerator("XLine",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,a,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Move,0,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)))})),r.a.Shape.defineFigureGenerator("AsteriskLine",(function(e,t,a){var n=.2/Math.SQRT2;return(new r.a.Geometry).add(new r.a.PathFigure(n*t,(1-n)*a,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,(1-n)*t,n*a)).add(new r.a.PathSegment(r.a.PathSegment.Move,n*t,n*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,(1-n)*t,(1-n)*a)).add(new r.a.PathSegment(r.a.PathSegment.Move,0,a/2)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a/2)).add(new r.a.PathSegment(r.a.PathSegment.Move,t/2,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t/2,a)))})),r.a.Shape.defineFigureGenerator("CircleLine",(function(e,t,a){var n=t/2,i=(new r.a.Geometry).add(new r.a.PathFigure(t,t/2,!1).add(new r.a.PathSegment(r.a.PathSegment.Arc,0,360,n,n,n,n).close()));return i.spot1=O,i.spot2=T,i.defaultStretch=r.a.GraphObject.Uniform,i})),r.a.Shape.defineFigureGenerator("Line1",(function(e,t,a){var n=new r.a.Geometry(r.a.Geometry.Line);return n.startX=0,n.startY=0,n.endX=t,n.endY=a,n})),r.a.Shape.defineFigureGenerator("Line2",(function(e,t,a){var n=new r.a.Geometry(r.a.Geometry.Line);return n.startX=t,n.startY=0,n.endX=0,n.endY=a,n})),r.a.Shape.defineFigureGenerator("Curve1",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,a,x*t,0,t,(1-x)*a)))})),r.a.Shape.defineFigureGenerator("Curve2",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,a,0,x*a,(1-x)*t,a)))})),r.a.Shape.defineFigureGenerator("Curve3",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(t,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a,t,x*a,x*t,a)))})),r.a.Shape.defineFigureGenerator("Curve4",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(t,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a,(1-x)*t,0,0,(1-x)*a)))})),r.a.Shape.defineFigureGenerator("TriangleDownLeft",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close())).setSpots(0,.5,.5,1)})),r.a.Shape.defineFigureGenerator("TriangleDownRight",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(t,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close())).setSpots(.5,.5,1,1)})),r.a.Shape.defineFigureGenerator("TriangleUpLeft",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close())).setSpots(0,0,.5,.5)})),r.a.Shape.defineFigureGenerator("TriangleUpRight",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a).close())).setSpots(.5,0,1,.5)})),r.a.Shape.defineFigureGenerator("RightTriangle","TriangleDownLeft"),r.a.Shape.setFigureParameter("Parallelogram1",0,new b("Indent",.1,-.99,.99)),r.a.Shape.defineFigureGenerator("Parallelogram1",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)?n=.1:n<-1?n=-1:n>1&&(n=1);var i=Math.abs(n)*t;if(0===n)return(o=new r.a.Geometry(r.a.Geometry.Rectangle)).startX=0,o.startY=0,o.endX=t,o.endY=a,o;var o=new r.a.Geometry;return n>0?o.add(new r.a.PathFigure(i,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t-i,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close())):o.add(new r.a.PathFigure(0,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t-i,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,i,a).close())),i<t/2&&o.setSpots(i/t,0,(t-i)/t,1),o})),r.a.Shape.defineFigureGenerator("Parallelogram","Parallelogram1"),r.a.Shape.setFigureParameter("Parallelogram2",0,new b("Indent",10,-1/0,1/0)),r.a.Shape.defineFigureGenerator("Parallelogram2",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)?n=10:n<-t?n=-t:n>t&&(n=t);var i=Math.abs(n);if(0===n)return(o=new r.a.Geometry(r.a.Geometry.Rectangle)).startX=0,o.startY=0,o.endX=t,o.endY=a,o;var o=new r.a.Geometry;return n>0?o.add(new r.a.PathFigure(i,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t-i,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close())):o.add(new r.a.PathFigure(0,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t-i,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,i,a).close())),i<t/2&&o.setSpots(i/t,0,(t-i)/t,1),o})),r.a.Shape.setFigureParameter("Trapezoid1",0,new b("Indent",.2,-.99,.99)),r.a.Shape.defineFigureGenerator("Trapezoid1",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)?n=.2:n<.5?n=-.5:n>.5&&(n=.5);var i=Math.abs(n)*t;if(0===n)return(o=new r.a.Geometry(r.a.Geometry.Rectangle)).startX=0,o.startY=0,o.endX=t,o.endY=a,o;var o=new r.a.Geometry;return n>0?o.add(new r.a.PathFigure(i,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t-i,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close())):o.add(new r.a.PathFigure(0,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t-i,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,i,a).close())),i<t/2&&o.setSpots(i/t,0,(t-i)/t,1),o})),r.a.Shape.defineFigureGenerator("Trapezoid","Trapezoid1"),r.a.Shape.setFigureParameter("Trapezoid2",0,new b("Indent",20,-1/0,1/0)),r.a.Shape.defineFigureGenerator("Trapezoid2",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)?n=20:n<-t?n=-t/2:n>t&&(n=t/2);var i=Math.abs(n);if(0===n)return(o=new r.a.Geometry(r.a.Geometry.Rectangle)).startX=0,o.startY=0,o.endX=t,o.endY=a,o;var o=new r.a.Geometry;return n>0?o.add(new r.a.PathFigure(i,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t-i,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close())):o.add(new r.a.PathFigure(0,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t-i,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,i,a).close())),i<t/2&&o.setSpots(i/t,0,(t-i)/t,1),o})),r.a.Shape.setFigureParameter("ManualOperation",0,new b("Indent",10,-1/0,1/0)),r.a.Shape.defineFigureGenerator("ManualOperation",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)?n=10:n<-t?n=-t/2:n>t&&(n=t/2);var i=Math.abs(n);if(0===n)return(o=new r.a.Geometry(r.a.Geometry.Rectangle)).startX=0,o.startY=0,o.endX=t,o.endY=a,o;var o=new r.a.Geometry;return n>0?o.add(new r.a.PathFigure(0,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t-i,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,i,a).close())):o.add(new r.a.PathFigure(i,0).add(new r.a.PathSegment(r.a.PathSegment.Line,t-i,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close())),i<t/2&&o.setSpots(i/t,0,(t-i)/t,1),o}));var N=[];function j(){var e=N.pop();return void 0===e?[]:e}function M(e){e.length=0,N.push(e)}function A(e){for(var t=j(),a=1.5*Math.PI,n=0,i=0;i<e;i++)n=2*Math.PI/e*i+a,t[i]=new r.a.Point(.5+.5*Math.cos(n),.5+.5*Math.sin(n));return t.push(t[0]),t}function D(e){var t=E(e),a=j();a[0]=t[0];for(var n=1,r=1;n<t.length;n+=2,r+=3)a[r]=t[n],a[r+1]=t[n],a[r+2]=t[n+1];return M(t),a}function E(e){for(var t=A(e),a=j(),n=Math.floor(t.length/2),i=t.length-1,o=e%2==0?2:1,d=0;d<i;d++){var h=t[d],g=t[d+1],u=t[(n+d-1)%i],m=t[(n+d+o)%i];a[2*d]=h,a[2*d+1]=G(h.x,h.y,u.x,u.y,g.x,g.y,m.x,m.y,new r.a.Point)}return a[a.length]=a[0],M(t),a}function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){I(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function W(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function H(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}r.a.Shape.defineFigureGenerator("Pentagon",(function(e,t,a){var n=A(5),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<5;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.2,.22),i.spot2=new r.a.Spot(.8,.9),i})),r.a.Shape.defineFigureGenerator("Hexagon",(function(e,t,a){var n=A(6),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<6;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.07,.25),i.spot2=new r.a.Spot(.93,.75),i})),r.a.Shape.defineFigureGenerator("Heptagon",(function(e,t,a){var n=A(7),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<7;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.2,.15),i.spot2=new r.a.Spot(.8,.85),i})),r.a.Shape.defineFigureGenerator("Octagon",(function(e,t,a){var n=A(8),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<8;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.15,.15),i.spot2=new r.a.Spot(.85,.85),i})),r.a.Shape.defineFigureGenerator("Nonagon",(function(e,t,a){var n=A(9),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<9;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.17,.13),i.spot2=new r.a.Spot(.82,.82),i})),r.a.Shape.defineFigureGenerator("Decagon",(function(e,t,a){var n=A(10),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<10;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.16,.16),i.spot2=new r.a.Spot(.84,.84),i})),r.a.Shape.defineFigureGenerator("Dodecagon",(function(e,t,a){var n=A(12),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<12;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.16,.16),i.spot2=new r.a.Spot(.84,.84),i})),r.a.Shape.defineFigureGenerator("FivePointedStar",(function(e,t,a){var n=E(5),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<10;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.266,.333),i.spot2=new r.a.Spot(.733,.733),i})),r.a.Shape.defineFigureGenerator("SixPointedStar",(function(e,t,a){var n=E(6),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<12;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.17,.25),i.spot2=new r.a.Spot(.83,.75),i})),r.a.Shape.defineFigureGenerator("SevenPointedStar",(function(e,t,a){var n=E(7),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<14;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.222,.277),i.spot2=new r.a.Spot(.777,.666),i})),r.a.Shape.defineFigureGenerator("EightPointedStar",(function(e,t,a){var n=E(8),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<16;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.25,.25),i.spot2=new r.a.Spot(.75,.75),i})),r.a.Shape.defineFigureGenerator("NinePointedStar",(function(e,t,a){var n=E(9),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<18;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.222,.277),i.spot2=new r.a.Spot(.777,.666),i})),r.a.Shape.defineFigureGenerator("TenPointedStar",(function(e,t,a){var n=E(10),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<20;d++)o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[d].x*t,n[d].y*a));return o.add(new r.a.PathSegment(r.a.PathSegment.Line,n[0].x*t,n[0].y*a).close()),M(n),i.spot1=new r.a.Spot(.281,.261),i.spot2=new r.a.Spot(.723,.748),i})),r.a.Shape.defineFigureGenerator("FivePointedBurst",(function(e,t,a){var n=D(5),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<n.length;d+=3)o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,n[d+2].x*t,n[d+2].y*a,n[d].x*t,n[d].y*a,n[d+1].x*t,n[d+1].y*a));return o.segments.last().close(),M(n),i.spot1=new r.a.Spot(.222,.277),i.spot2=new r.a.Spot(.777,.777),i})),r.a.Shape.defineFigureGenerator("SixPointedBurst",(function(e,t,a){var n=D(6),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<n.length;d+=3)o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,n[d+2].x*t,n[d+2].y*a,n[d].x*t,n[d].y*a,n[d+1].x*t,n[d+1].y*a));return o.segments.last().close(),M(n),i.spot1=new r.a.Spot(.17,.222),i.spot2=new r.a.Spot(.833,.777),i})),r.a.Shape.defineFigureGenerator("SevenPointedBurst",(function(e,t,a){var n=D(7),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<n.length;d+=3)o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,n[d+2].x*t,n[d+2].y*a,n[d].x*t,n[d].y*a,n[d+1].x*t,n[d+1].y*a));return o.segments.last().close(),M(n),i.spot1=new r.a.Spot(.222,.222),i.spot2=new r.a.Spot(.777,.777),i})),r.a.Shape.defineFigureGenerator("EightPointedBurst",(function(e,t,a){var n=D(8),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<n.length;d+=3)o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,n[d+2].x*t,n[d+2].y*a,n[d].x*t,n[d].y*a,n[d+1].x*t,n[d+1].y*a));return o.segments.last().close(),M(n),i.spot1=new r.a.Spot(.222,.222),i.spot2=new r.a.Spot(.777,.777),i})),r.a.Shape.defineFigureGenerator("NinePointedBurst",(function(e,t,a){var n=D(9),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<n.length;d+=3)o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,n[d+2].x*t,n[d+2].y*a,n[d].x*t,n[d].y*a,n[d+1].x*t,n[d+1].y*a));return o.segments.last().close(),M(n),i.spot1=new r.a.Spot(.222,.222),i.spot2=new r.a.Spot(.777,.777),i})),r.a.Shape.defineFigureGenerator("TenPointedBurst",(function(e,t,a){var n=D(10),i=new r.a.Geometry,o=new r.a.PathFigure(n[0].x*t,n[0].y*a,!0);i.add(o);for(var d=1;d<n.length;d+=3)o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,n[d+2].x*t,n[d+2].y*a,n[d].x*t,n[d].y*a,n[d+1].x*t,n[d+1].y*a));return o.segments.last().close(),M(n),i.spot1=new r.a.Spot(.222,.222),i.spot2=new r.a.Spot(.777,.777),i})),r.a.Shape.setFigureParameter("FramedRectangle",0,new b("ThicknessX",8)),r.a.Shape.setFigureParameter("FramedRectangle",1,new b("ThicknessY",8)),r.a.Shape.defineFigureGenerator("FramedRectangle",(function(e,t,a){var n=e?e.parameter1:NaN,i=e?e.parameter2:NaN;isNaN(n)&&(n=8),isNaN(i)&&(i=8);var o=new r.a.Geometry,d=new r.a.PathFigure(0,0,!0);return o.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()),n<t/2&&i<a/2&&(d.add(new r.a.PathSegment(r.a.PathSegment.Move,n,i)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,n,a-i)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t-n,a-i)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t-n,i).close())),o.setSpots(0,0,1,1,n,i,-n,-i),o})),r.a.Shape.setFigureParameter("Ring",0,new b("Thickness",8)),r.a.Shape.defineFigureGenerator("Ring",(function(e,t,a){var n=e?e.parameter1:NaN;(isNaN(n)||n<0)&&(n=8);var i=t/2,o=new r.a.Geometry,d=new r.a.PathFigure(t,t/2,!0);o.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Arc,0,360,i,i,i,i).close());var h=Math.max(i-n,0);return h>0&&(d.add(new r.a.PathSegment(r.a.PathSegment.Move,t/2+h,t/2)),d.add(new r.a.PathSegment(r.a.PathSegment.Arc,0,-360,i,i,h,h).close())),o.spot1=O,o.spot2=T,o.defaultStretch=r.a.GraphObject.Uniform,o})),r.a.Shape.defineFigureGenerator("Cloud",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(.08034461*t,.1944299*a,!0).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.2008615*t,.05349299*a,-.09239631*t,.07836421*a,.1406031*t,-.0542823*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.4338609*t,.074219*a,.2450511*t,-.00697547*a,.3776197*t,-.01112067*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.6558228*t,.07004196*a,.4539471*t,0,.6066018*t,-.02526587*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8921095*t,.08370865*a,.6914277*t,-.01904177*a,.8921095*t,-.01220843*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9147671*t,.3194596*a,1.036446*t,.04105738*a,1.020377*t,.3022052*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9082935*t,.562044*a,1.04448*t,.360238*a,.992256*t,.5219009*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9212406*t,.8217117*a,1.032337*t,.5771781*a,1.018411*t,.8120651*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.7592566*t,.9156953*a,1.028411*t,.9571472*a,.8556702*t,1.052487*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5101666*t,.9310455*a,.7431877*t,1.009325*a,.5624123*t,1.021761*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.2609328*t,.9344623*a,.4820677*t,1.031761*a,.3030112*t,1.002796*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.08034461*t,.870098*a,.2329994*t,1.01518*a,.03213784*t,1.01518*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.06829292*t,.6545475*a,-.02812061*t,.9032597*a,-.01205169*t,.6835638*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.06427569*t,.4265613*a,-.01812061*t,.6089503*a,-.00606892*t,.4555777*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.08034461*t,.1944299*a,-.01606892*t,.3892545*a,-.01205169*t,.1944299*a))).setSpots(.1,.1,.9,.9)})),r.a.Shape.defineFigureGenerator("StopSign",(function(e,t,a){var n=1/(Math.SQRT2+2);return(new r.a.Geometry).add(new r.a.PathFigure(n*t,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,(1-n)*t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,n*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,(1-n)*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,(1-n)*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,n*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,(1-n)*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,n*a).close())).setSpots(n/2,n/2,1-n/2,1-n/2)})),r.a.Shape.setFigureParameter("Pie",0,new b("Start",0,-360,360)),r.a.Shape.setFigureParameter("Pie",1,new b("Sweep",315,-360,360)),r.a.Shape.defineFigureGenerator("Pie",(function(e,t,a){var n=e?e.parameter1:NaN,i=e?e.parameter2:NaN;isNaN(n)&&(n=0),isNaN(i)&&(i=315);var o=n%360;o<0&&(o+=360);var d=i%360,h=Math.min(t,a)/2;return(new r.a.Geometry).add(new r.a.PathFigure(h,h).add(new r.a.PathSegment(r.a.PathSegment.Arc,o,d,h,h,h,h).close()))})),r.a.Shape.defineFigureGenerator("PiePiece",(function(e,t,a){var n=x/Math.SQRT2*.5,i=Math.SQRT2/2,o=1-Math.SQRT2/2;return(new r.a.Geometry).add(new r.a.PathFigure(t,a,!0).add(new r.a.PathSegment(r.a.PathSegment.Bezier,i*t,o*a,t,(1-n)*a,(i+n)*t,(o+n)*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()))})),r.a.Shape.setFigureParameter("ThickCross",0,new b("Thickness",30)),r.a.Shape.defineFigureGenerator("ThickCross",(function(e,t,a){var n=e?e.parameter1:NaN;(isNaN(n)||n<0)&&(n=30);var i=Math.min(n,t)/2,o=t/2,d=a/2;return(new r.a.Geometry).add(new r.a.PathFigure(o-i,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,o+i,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,o+i,d-i)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,d-i)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,d+i)).add(new r.a.PathSegment(r.a.PathSegment.Line,o+i,d+i)).add(new r.a.PathSegment(r.a.PathSegment.Line,o+i,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,o-i,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,o-i,d+i)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,d+i)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,d-i)).add(new r.a.PathSegment(r.a.PathSegment.Line,o-i,d-i).close()))})),r.a.Shape.setFigureParameter("ThinCross",0,new b("Thickness",10)),r.a.Shape.defineFigureGenerator("ThinCross",(function(e,t,a){var n=e?e.parameter1:NaN;(isNaN(n)||n<0)&&(n=10);var i=Math.min(n,t)/2,o=t/2,d=a/2;return(new r.a.Geometry).add(new r.a.PathFigure(o-i,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,o+i,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,o+i,d-i)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,d-i)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,d+i)).add(new r.a.PathSegment(r.a.PathSegment.Line,o+i,d+i)).add(new r.a.PathSegment(r.a.PathSegment.Line,o+i,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,o-i,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,o-i,d+i)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,d+i)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,d-i)).add(new r.a.PathSegment(r.a.PathSegment.Line,o-i,d-i).close()))})),r.a.Shape.setFigureParameter("ThickX",0,new b("Thickness",30)),r.a.Shape.defineFigureGenerator("ThickX",(function(e,t,a){var n=e?e.parameter1:NaN;if((isNaN(n)||n<0)&&(n=30),0===t||0===a)return(u=new r.a.Geometry(r.a.Geometry.Rectangle)).startX=0,u.startY=0,u.endX=t,u.endY=a,u;var i=t/2,o=a/2,d=Math.atan2(a,t),h=n-Math.min(Math.cos(d)*n/2,i),g=n-Math.min(Math.sin(d)*n/2,o),u=new r.a.Geometry,m=new r.a.PathFigure(h,0,!0);return u.add(m),m.add(new r.a.PathSegment(r.a.PathSegment.Line,i,.2*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,t-h,0)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,t,g)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,o)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a-g)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,t-h,a)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,i,.8*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,h,a)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a-g)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,o)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,0,g).close()),u})),r.a.Shape.setFigureParameter("ThinX",0,new b("Thickness",10)),r.a.Shape.defineFigureGenerator("ThinX",(function(e,t,a){var n=e?e.parameter1:NaN;(isNaN(n)||n<0)&&(n=10);var i=new r.a.Geometry,o=new r.a.PathFigure(.1*t,0,!0);return i.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.4*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.9*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.6*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.9*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.1*a).close()),i})),r.a.Shape.setFigureParameter("SquareIBeam",0,new b("BeamWidth",.2,.1,.9)),r.a.Shape.defineFigureGenerator("SquareIBeam",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=.2);var i=new r.a.Geometry,o=new r.a.PathFigure(0,0,!0);return i.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,n*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,(.5+n/2)*t,n*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,(.5+n/2)*t,(1-n)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,(1-n)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,(1-n)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,(.5-n/2)*t,(1-n)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,(.5-n/2)*t,n*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,n*a).close()),i})),r.a.Shape.setFigureParameter("RoundedIBeam",0,new b("Curviness",.5,.05,.65)),r.a.Shape.defineFigureGenerator("RoundedIBeam",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=.5);var i=new r.a.Geometry,o=new r.a.PathFigure(0,0,!0);return i.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,a,Math.abs(1-n)*t,.25*a,Math.abs(1-n)*t,.75*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,0,n*t,.75*a,n*t,.25*a).close()),i})),r.a.Shape.defineFigureGenerator("HalfEllipse",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,x*t,0,t,(.5-x/2)*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a,t,(.5+x/2)*a,x*t,a).close())).setSpots(0,.156,.844,.844)})),r.a.Shape.defineFigureGenerator("Crescent",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a,t,0,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,0,.5*t,.75*a,.5*t,.25*a).close())).setSpots(.311,.266,.744,.744)})),r.a.Shape.defineFigureGenerator("Heart",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(.5*t,a,!0).add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.3*a,.1*t,.8*a,0,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.3*a,0,0,.45*t,0)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.3*a,.55*t,0,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,t,.5*a,.9*t,.8*a).close())).setSpots(.14,.29,.86,.78)})),r.a.Shape.defineFigureGenerator("Spade",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(.5*t,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,.51*t,.01*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,.6*t,.2*a,t,.25*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.55*t,.7*a,t,.8*a,.6*t,.8*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.75*t,a,.5*t,.75*a,.55*t,.95*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.45*t,.7*a,.45*t,.95*a,.5*t,.75*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.5*a,.4*t,.8*a,0,.8*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.49*t,.01*a,0,.25*a,.4*t,.2*a).close())).setSpots(.14,.26,.86,.78)})),r.a.Shape.defineFigureGenerator("Club",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.4*t,.6*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.15*t,a,.5*t,.75*a,.45*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.6*t,.6*a,.55*t,.95*a,.5*t,.75*a));var o=.2,d=.3,h=0,g=o*x;return i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+d)*t,(.5+o+h)*a,(.5-o+d)*t,(.5+g+h)*a,(.5-g+d)*t,(.5+o+h)*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+o+d)*t,(.5+h)*a,(.5+g+d)*t,(.5+o+h)*a,(.5+o+d)*t,(.5+g+h)*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+d)*t,(.5-o+h)*a,(.5+o+d)*t,(.5-g+h)*a,(.5+g+d)*t,(.5-o+h)*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.65*t,.36771243*a,(.5-g+d)*t,(.5-o+h)*a,(.5-o+d+.05)*t,(.5-g+h-.02)*a)),d=0,h=-.3,g=(o=.2)*x,i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+o+d)*t,(.5+h)*a,(.5+g+d)*t,(.5+o+h)*a,(.5+o+d)*t,(.5+g+h)*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+d)*t,(.5-o+h)*a,(.5+o+d)*t,(.5-g+h)*a,(.5+g+d)*t,(.5-o+h)*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-o+d)*t,(.5+h)*a,(.5-g+d)*t,(.5-o+h)*a,(.5-o+d)*t,(.5-g+h)*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-g+d)*t,(.5+o+h)*a,(.5-o+d)*t,(.5+g+h)*a,(.5-g+d)*t,(.5+o+h)*a)),d=-.3,h=0,g=(o=.2)*x,i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+d)*t,(.5-o+h)*a,(.5+o+d-.05)*t,(.5-g+h-.02)*a,(.5+g+d)*t,(.5-o+h)*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-o+d)*t,(.5+h)*a,(.5-g+d)*t,(.5-o+h)*a,(.5-o+d)*t,(.5-g+h)*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+d)*t,(.5+o+h)*a,(.5-o+d)*t,(.5+g+h)*a,(.5-g+d)*t,(.5+o+h)*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.4*t,.6*a,(.5+g+d)*t,(.5+o+h)*a,(.5+o+d)*t,(.5+g+h)*a).close()),n.setSpots(.06,.33,.93,.68),n})),r.a.Shape.defineFigureGenerator("YinYang",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.5*t,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,270,180,.5*t,.5*t,.5*t,.5*t)),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,90,-180,.5*t,.75*t,.25*t,.25*t)),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,90,180,.5*t,.25*t,.25*t,.25*t));var o=.25;return i.add(new r.a.PathSegment(r.a.PathSegment.Move,.6*t,o*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,0,-360,.5*t,a*o,.1*t,.1*t).close()),i=new r.a.PathFigure(.5*t,0,!1),n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,270,-180,.5*t,.5*t,.5*t,.5*t)),o=.75,i=new r.a.PathFigure(.6*t,o*a,!0),n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,0,360,.5*t,a*o,.1*t,.1*t).close()),n.defaultStretch=r.a.GraphObject.Uniform,n})),r.a.Shape.defineFigureGenerator("Peace",(function(e,t,a){var n=.8535533905932737,i=.5*t,o=.5*a;return(new r.a.Geometry).add(new r.a.PathFigure(i,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Arc,270,360,i,o,i,o)).add(new r.a.PathSegment(r.a.PathSegment.Line,i,a)).add(new r.a.PathSegment(r.a.PathSegment.Move,i,o)).add(new r.a.PathSegment(r.a.PathSegment.Line,(1-n)*t,n*a)).add(new r.a.PathSegment(r.a.PathSegment.Move,i,o)).add(new r.a.PathSegment(r.a.PathSegment.Line,n*t,n*a)))})),r.a.Shape.defineFigureGenerator("NotAllowed",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=.5,d=new r.a.PathFigure(.5*t,(.5-o)*a);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-o)*t,.5*a,(.5-i)*t,(.5-o)*a,(.5-o)*t,(.5-i)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,(.5+o)*a,(.5-o)*t,(.5+i)*a,(.5-i)*t,(.5+o)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+o)*t,.5*a,(.5+i)*t,(.5+o)*a,(.5+o)*t,(.5+i)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,(.5-o)*a,(.5+o)*t,(.5-i)*a,(.5+i)*t,(.5-o)*a)),o=.4,i=.4*x;var h=B(),g=B(),u=B(),m=B();z(.5,.5-o,.5+i,.5-o,.5+o,.5-i,.5+o,.5,.42,h,g,u,m,m);var S=B(),c=B(),l=B();z(.5,.5-o,.5+i,.5-o,.5+o,.5-i,.5+o,.5,.58,m,m,l,S,c);var s=B(),P=B(),f=B();z(.5,.5+o,.5-i,.5+o,.5-o,.5+i,.5-o,.5,.42,s,P,f,m,m);var w=B(),p=B(),v=B();return z(.5,.5+o,.5-i,.5+o,.5-o,.5+i,.5-o,.5,.58,m,m,v,w,p),d.add(new r.a.PathSegment(r.a.PathSegment.Move,v.x*t,v.y*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-o)*t,.5*a,w.x*t,w.y*a,p.x*t,p.y*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,(.5-o)*a,(.5-o)*t,(.5-i)*a,(.5-i)*t,(.5-o)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,u.x*t,u.y*a,h.x*t,h.y*a,g.x*t,g.y*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,v.x*t,v.y*a).close()),d.add(new r.a.PathSegment(r.a.PathSegment.Move,f.x*t,f.y*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,l.x*t,l.y*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+o)*t,.5*a,S.x*t,S.y*a,c.x*t,c.y*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,(.5+o)*a,(.5+o)*t,(.5+i)*a,(.5+i)*t,(.5+o)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,f.x*t,f.y*a,s.x*t,s.y*a,P.x*t,P.y*a).close()),_(h),_(g),_(u),_(m),_(S),_(c),_(l),_(s),_(P),_(f),_(w),_(p),_(v),n.defaultStretch=r.a.GraphObject.Uniform,n})),r.a.Shape.defineFigureGenerator("Fragile",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.15*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.25*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.29*t,.33*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,.25*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.15*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.55*t,.5*a,t,.25*a,.75*t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.9*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.9*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.9*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.9*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,0,.25*t,.5*a,0,.25*a).close()))})),r.a.Shape.setFigureParameter("HourGlass",0,new b("Thickness",30)),r.a.Shape.defineFigureGenerator("HourGlass",(function(e,t,a){var n=e?e.parameter1:NaN;(isNaN(n)||n<0)&&(n=30),n>t&&(n=t);var i=(t-n)/2,o=i+n;return(new r.a.Geometry).add(new r.a.PathFigure(o,.5*a).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,i,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0).close()))})),r.a.Shape.defineFigureGenerator("Lightning",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,.55*a).add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.45*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.45*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.55*a).close()))})),r.a.Shape.defineFigureGenerator("GenderMale",(function(e,t,a){var n=new r.a.Geometry,i=.4*x,o=.4,d=B(),h=B(),g=B(),u=B(),m=new r.a.PathFigure((.5-o)*t,.5*a,!1);n.add(m),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,(.5-o)*a,(.5-o)*t,(.5-i)*a,(.5-i)*t,(.5-o)*a)),z(.5,.5-o,.5+i,.5-o,.5+o,.5-i,.5+o,.5,.44,g,u,h,d,d),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,h.x*t,h.y*a,g.x*t,g.y*a,u.x*t,u.y*a));var S=F(h.x,h.y);z(.5,.5-o,.5+i,.5-o,.5+o,.5-i,.5+o,.5,.56,d,d,h,g,u);var c=F(h.x,h.y);m.add(new r.a.PathSegment(r.a.PathSegment.Line,(.1*S.x+.855)*t,.1*S.y*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,.1*S.y*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,0)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.15*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,(.1*c.x+.9)*t,.15*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,(.1*c.x+.9)*t,(.1*c.y+.05*.9)*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,c.x*t,c.y*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+o)*t,.5*a,g.x*t,g.y*a,u.x*t,u.y*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,(.5+o)*a,(.5+o)*t,(.5+i)*a,(.5+i)*t,(.5+o)*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-o)*t,.5*a,(.5-i)*t,(.5+o)*a,(.5-o)*t,(.5+i)*a)),o=.35,i=.35*x;var l=new r.a.PathFigure(.5*t,(.5-o)*a,!1);n.add(l),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-o)*t,.5*a,(.5-i)*t,(.5-o)*a,(.5-o)*t,(.5-i)*a)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,(.5+o)*a,(.5-o)*t,(.5+i)*a,(.5-i)*t,(.5+o)*a)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+o)*t,.5*a,(.5+i)*t,(.5+o)*a,(.5+o)*t,(.5+i)*a)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,(.5-o)*a,(.5+o)*t,(.5-i)*a,(.5+i)*t,(.5-o)*a));var s=new r.a.PathFigure((.5-o)*t,.5*a,!1);return n.add(s),_(d),_(h),_(g),_(u),_(S),_(c),n.spot1=new r.a.Spot(.202,.257),n.spot2=new r.a.Spot(.792,.739),n.defaultStretch=r.a.GraphObject.Uniform,n})),r.a.Shape.defineFigureGenerator("GenderFemale",(function(e,t,a){var n=new r.a.Geometry,i=.375,o=0,d=-.125,h=i*x,g=new r.a.PathFigure((.525+o)*t,(.5+i+d)*a,!1);n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+i+o)*t,(.5+d)*a,(.5+h+o)*t,(.5+i+d)*a,(.5+i+o)*t,(.5+h+d)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+o)*t,(.5-i+d)*a,(.5+i+o)*t,(.5-h+d)*a,(.5+h+o)*t,(.5-i+d)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-i+o)*t,(.5+d)*a,(.5-h+o)*t,(.5-i+d)*a,(.5-i+o)*t,(.5-h+d)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.475+o)*t,(.5+i+d)*a,(.5-i+o)*t,(.5+h+d)*a,(.5-h+o)*t,(.5+i+d)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.475*t,.85*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.425*t,.85*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.425*t,.9*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.475*t,.9*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.475*t,a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.525*t,a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.525*t,.9*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.575*t,.9*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.575*t,.85*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.525*t,.85*a).close()),o=0,d=-.125,h=(i=.325)*x;g=new r.a.PathFigure((.5+i+o)*t,(.5+d)*a,!1);n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+o)*t,(.5+i+d)*a,(.5+i+o)*t,(.5+h+d)*a,(.5+h+o)*t,(.5+i+d)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-i+o)*t,(.5+d)*a,(.5-h+o)*t,(.5+i+d)*a,(.5-i+o)*t,(.5+h+d)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+o)*t,(.5-i+d)*a,(.5-i+o)*t,(.5-h+d)*a,(.5-h+o)*t,(.5-i+d)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+i+o)*t,(.5+d)*a,(.5+h+o)*t,(.5-i+d)*a,(.5+i+o)*t,(.5-h+d)*a));g=new r.a.PathFigure((.525+o)*t,(.5+i+d)*a,!1);return n.add(g),n.spot1=new r.a.Spot(.232,.136),n.spot2=new r.a.Spot(.682,.611),n.defaultStretch=r.a.GraphObject.Uniform,n})),r.a.Shape.defineFigureGenerator("LogicImplies",(function(e,t,a){var n=e?e.parameter1:NaN;return isNaN(n)&&(n=.2),(new r.a.Geometry).add(new r.a.PathFigure((1-n)*t,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,(1-n)*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Move,0,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a))).setSpots(0,0,.8,.5)})),r.a.Shape.defineFigureGenerator("LogicIff",(function(e,t,a){var n=e?e.parameter1:NaN;return isNaN(n)&&(n=.2),(new r.a.Geometry).add(new r.a.PathFigure((1-n)*t,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,(1-n)*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Move,0,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Move,n*t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,n*t,a))).setSpots(.2,0,.8,.5)})),r.a.Shape.defineFigureGenerator("LogicNot",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)))})),r.a.Shape.defineFigureGenerator("LogicAnd",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,a,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a))).setSpots(.25,.5,.75,1)})),r.a.Shape.defineFigureGenerator("LogicOr",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0))).setSpots(.219,0,.78,.409)})),r.a.Shape.defineFigureGenerator("LogicXor",(function(e,t,a){var n=(new r.a.Geometry).add(new r.a.PathFigure(.5*t,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Move,0,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Arc,0,360,.5*t,.5*a,.5*t,.5*a)));return n.defaultStretch=r.a.GraphObject.Uniform,n})),r.a.Shape.defineFigureGenerator("LogicTruth",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)))})),r.a.Shape.defineFigureGenerator("LogicFalsity",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,a,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)))})),r.a.Shape.defineFigureGenerator("LogicThereExists",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Move,t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)))})),r.a.Shape.defineFigureGenerator("LogicForAll",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Move,.25*t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.5*a))).setSpots(.25,0,.75,.5)})),r.a.Shape.defineFigureGenerator("LogicIsDefinedAs",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Move,0,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Move,0,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a))).setSpots(.01,.01,.99,.49)})),r.a.Shape.defineFigureGenerator("LogicIntersect",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,a,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Arc,180,180,.5*t,.5*a,.5*t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a))).setSpots(0,.5,1,1)})),r.a.Shape.defineFigureGenerator("LogicUnion",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(t,0,!1).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Arc,0,180,.5*t,.5*a,.5*t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,0))).setSpots(0,0,1,.5)})),r.a.Shape.setFigureParameter("Arrow",0,new b("ArrowheadWidth",.3,.01,.99)),r.a.Shape.setFigureParameter("Arrow",1,new b("TailHeight",.3,.01,.99)),r.a.Shape.defineFigureGenerator("Arrow",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=.3);var i=e?e.parameter2:NaN;isNaN(i)&&(i=.3);var o=(1-n)*t,d=(.5-i/2)*a,h=(.5+i/2)*a,g=new r.a.Geometry,u=new r.a.PathFigure(0,d,!0);g.add(u),u.add(new r.a.PathSegment(r.a.PathSegment.Line,o,d)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,o,0)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,o,0)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,o,a)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,o,h)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,0,h).close()),g.spot1=new r.a.Spot(0,d/a);var m=G(0,h/a,1,h/a,o/t,1,1,.5,B());return g.spot2=new r.a.Spot(m.x,m.y),_(m),g})),r.a.Shape.setFigureParameter("Arrow2",0,new b("ArrowheadWidth",30)),r.a.Shape.setFigureParameter("Arrow2",0,new b("TailHeight",30)),r.a.Shape.defineFigureGenerator("Arrow2",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=30),n>t&&(n=t);var i=e?e.parameter2:NaN;isNaN(i)&&(i=30);var o=t-n,d=(a-(i=Math.min(i,a/2)))/2,h=d+i,g=new r.a.Geometry,u=new r.a.PathFigure(0,d,!0);g.add(u),u.add(new r.a.PathSegment(r.a.PathSegment.Line,o,d)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,o,0)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,o,0)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,o,a)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,o,h)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,0,h).close()),g.spot1=new r.a.Spot(0,d/a);var m=G(0,h/a,1,h/a,o/t,1,1,.5,B());return g.spot2=new r.a.Spot(m.x,m.y),_(m),g})),r.a.Shape.defineFigureGenerator("Chevron",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.5*a).close()),n})),r.a.Shape.defineFigureGenerator("DoubleArrow",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.214*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.786*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,1*a).close()),n})),r.a.Shape.setFigureParameter("DoubleEndArrow",0,new b("ConnecterHeight",.3,.01,.99)),r.a.Shape.defineFigureGenerator("DoubleEndArrow",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=.3);var i=(.5-n/2)*a,o=(.5+n/2)*a,d=new r.a.Geometry,h=new r.a.PathFigure(t,.5*a,!0);d.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,0)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,i)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,i)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,0).close());var g=G(0,.5,.3,0,0,i/a,.1,i/a,B());return d.spot1=new r.a.Spot(g.x,g.y),g=G(.7,1,1,.5,0,o/a,1,o/a,g),d.spot2=new r.a.Spot(g.x,g.y),_(g),d})),r.a.Shape.setFigureParameter("DoubleEndArrow2",0,new b("ConnecterHeight",40)),r.a.Shape.setFigureParameter("DoubleEndArrow2",1,new b("ArrowHeight",100)),r.a.Shape.defineFigureGenerator("DoubleEndArrow2",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=40);var i=e?e.parameter2:NaN;isNaN(i)&&(i=100);var o=(a-n)/2,d=o+n,h=(a-i)/2,g=h+i;(n>a||i>a)&&(i>n?(d=(o=(a-(n=n*a/i))/2)+n,h=0,g=a):(o=0,d=a,h=0,g=a));var u=new r.a.Geometry,m=new r.a.PathFigure(t,.5*a,!0);u.add(m),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,g)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,d)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,d)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,g)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,h)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,o)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,o)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,h).close());var S=G(0,.5,.3,h/a,0,o/a,1,o/a,B());return u.spot1=new r.a.Spot(S.x,S.y),S=G(.7,g/a,1,.5,0,d/a,1,d/a,S),u.spot2=new r.a.Spot(S.x,S.y),_(S),u})),r.a.Shape.setFigureParameter("IBeamArrow",0,new b("ConnectorHeight",.7,.51,.97)),r.a.Shape.defineFigureGenerator("IBeamArrow",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=.3);var i=(.5-n/2)*a,o=(.5+n/2)*a,d=new r.a.Geometry,h=new r.a.PathFigure(t,.5*a,!0);d.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,0)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,i)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,i)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,0).close()),d.spot1=new r.a.Spot(0,i/a);var g=G(.7,1,1,.5,0,o/a,1,o/a,B());return d.spot2=new r.a.Spot(g.x,g.y),_(g),d})),r.a.Shape.setFigureParameter("IBeamArrow2",0,new b("ConnectorHeight",40)),r.a.Shape.setFigureParameter("IBeamArrow2",1,new b("BeamArrowHeight",100)),r.a.Shape.defineFigureGenerator("IBeamArrow2",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=40);var i=e?e.parameter2:NaN;isNaN(i)&&(i=100);var o=(a-n)/2,d=o+n,h=(a-i)/2,g=h+i;(n>a||i>a)&&(i>n?(d=(o=(a-(n=n*a/i))/2)+n,h=0,g=a):(o=0,d=a,h=0,g=a));var u=new r.a.Geometry,m=new r.a.PathFigure(t,.5*a,!0);u.add(m),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,g)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,d)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,d)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,g)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,0,g)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,0,h)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,h)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,o)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,o)),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,h).close()),u.spot1=new r.a.Spot(0,o/a);var S=G(.7,g/a,1,.5,0,d/a,1,d/a,B());return u.spot2=new r.a.Spot(S.x,S.y),_(S),u})),r.a.Shape.setFigureParameter("Pointer",0,new b("BackPoint",.1,0,.2)),r.a.Shape.defineFigureGenerator("Pointer",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=.1);var i=new r.a.Geometry,o=new r.a.PathFigure(t,.5*a,!0);i.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,n*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0).close()),i.spot1=new r.a.Spot(n,.35);var d=G(.2,.65,1,.65,0,1,1,.5,B());return i.spot2=new r.a.Spot(d.x,d.y),_(d),i})),r.a.Shape.setFigureParameter("RoundedPointer",0,new b("RoundedEdge",.3,0,.5)),r.a.Shape.defineFigureGenerator("RoundedPointer",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=.3);var i=new r.a.Geometry,o=new r.a.PathFigure(t,.5*a,!0);i.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,0,n*t,.75*a,n*t,.25*a).close()),i.spot1=new r.a.Spot(n,.35);var d=G(0,.65,1,.65,0,1,1,.5,B());return i.spot2=new r.a.Spot(d.x,d.y),_(d),i})),r.a.Shape.setFigureParameter("SplitEndArrow",0,new b("TailHeight",.4,.01,.99)),r.a.Shape.defineFigureGenerator("SplitEndArrow",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=.4);var i=(.5-n/2)*a,o=(.5+n/2)*a,d=new r.a.Geometry,h=new r.a.PathFigure(t,.5*a,!0);d.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,0,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.5*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,0,i)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,i)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,0).close()),d.spot1=new r.a.Spot(.2,.3);var g=G(.7,1,1,.5,0,o/a,1,o/a,B());return d.spot2=new r.a.Spot(g.x,g.y),_(g),d})),r.a.Shape.setFigureParameter("SplitEndArrow2",0,new b("TailThickness",50)),r.a.Shape.defineFigureGenerator("SplitEndArrow2",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=50);var i=(a-n)/2,o=i+n;n>a&&(i=0,o=a);var d=new r.a.Geometry,h=new r.a.PathFigure(t,.5*a,!0);d.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,0,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.5*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,0,i)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,i)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,0).close()),d.spot1=new r.a.Spot(.2,i/a);var g=G(.7,1,1,.5,0,o/a,1,o/a,B());return d.spot2=new r.a.Spot(g.x,g.y),_(g),d})),r.a.Shape.setFigureParameter("SquareArrow",0,new b("ArrowPoint",.7,.2,.9)),r.a.Shape.defineFigureGenerator("SquareArrow",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=.7);var i=new r.a.Geometry,o=new r.a.PathFigure(t,.5*a,!0);return i.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,n*t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,n*t,0).close()),i.spot1=r.a.Spot.TopLeft,i.spot2=new r.a.Spot(n,1),i})),r.a.Shape.defineFigureGenerator("Cone1",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=.1*x,d=new r.a.PathFigure(0,.9*a,!0);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.9*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,t,(.9+o)*a,(.5+i)*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.9*a,(.5-i)*t,a,0,(.9+o)*a).close()),n.spot1=new r.a.Spot(.25,.5),n.spot2=new r.a.Spot(.75,.97),n})),r.a.Shape.defineFigureGenerator("Cone2",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.9*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.9*a,(1-.85/.9)*t,a,.85/.9*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.9*a).close());var o=new r.a.PathFigure(0,.9*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.9*a,(1-.85/.9)*t,.8*a,.85/.9*t,.8*a)),n.spot1=new r.a.Spot(.25,.5),n.spot2=new r.a.Spot(.75,.82),n})),r.a.Shape.defineFigureGenerator("Cube1",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.5*t,a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.85*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.15*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.15*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.85*a).close());var o=new r.a.PathFigure(.5*t,a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.3*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.15*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.3*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.15*a)),n.spot1=new r.a.Spot(0,.3),n.spot2=new r.a.Spot(.5,.85),n})),r.a.Shape.defineFigureGenerator("Cube2",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.3*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,0).close());var o=new r.a.PathFigure(0,.3*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.3*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.7*t,.3*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,a)),n.spot1=new r.a.Spot(0,.3),n.spot2=new r.a.Spot(.7,1),n})),r.a.Shape.defineFigureGenerator("Cylinder1",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=5),n=Math.min(n,a/3);var i=new r.a.Geometry,o=.5*x,d=new r.a.PathFigure(0,n,!0);i.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,0,x*n,(.5-o)*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,1*t,n,(.5+o)*t,0,1*t,x*n)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a-n)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,1*a,1*t,a-x*n,(.5+o)*t,1*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a-n,(.5-o)*t,1*a,0,a-x*n)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,n));var h=new r.a.PathFigure(t,n,!1);return i.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,2*n,1*t,2*n-x*n,(.5+o)*t,2*n)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,n,(.5-o)*t,2*n,0,2*n-x*n)),i.spot1=new r.a.Spot(0,0,0,2*n),i.spot2=new r.a.Spot(1,1),i})),r.a.Shape.defineFigureGenerator("Cylinder2",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=5),n=Math.min(n,a/3);var i=new r.a.Geometry,o=.5*x,d=new r.a.PathFigure(0,a-n,!0);i.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,n)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,0,x*n,(.5-o)*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,n,(.5+o)*t,0,t,x*n)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a-n)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,t,a-x*n,(.5+o)*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a-n,(.5-o)*t,a,0,a-x*n));var h=new r.a.PathFigure(0,a-n,!1);return i.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a-2*n,0,a-n-x*n,(.5-o)*t,a-2*n)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,a-n,(.5+o)*t,a-2*n,t,a-n-x*n)),i.spot1=new r.a.Spot(0,0),i.spot2=new r.a.Spot(1,1,0,-2*n),i})),r.a.Shape.defineFigureGenerator("Cylinder3",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=5),n=Math.min(n,t/3);var i=new r.a.Geometry,o=.5*x,d=new r.a.PathFigure(n,0,!0);i.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t-n,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,t-x*n,0,t,(.5-o)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t-n,a,t,(.5+o)*a,t-x*n,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,n,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.5*a,x*n,a,0,(.5+o)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,n,0,0,(.5-o)*a,x*n,0));var h=new r.a.PathFigure(n,0,!1);return i.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,2*n,.5*a,n+x*n,0,2*n,(.5-o)*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,n,a,2*n,(.5+o)*a,n+x*n,a)),i.spot1=new r.a.Spot(0,0,2*n,0),i.spot2=new r.a.Spot(1,1),i})),r.a.Shape.defineFigureGenerator("Cylinder4",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=5),n=Math.min(n,t/3);var i=new r.a.Geometry,o=.5*x,d=new r.a.PathFigure(t-n,0,!0);i.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,t-x*n,0,t,(.5-o)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t-n,a,t,(.5+o)*a,t-x*n,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,n,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.5*a,x*n,a,0,(.5+o)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,n,0,0,(.5-o)*a,x*n,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t-n,0));var h=new r.a.PathFigure(t-n,0,!1);return i.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t-2*n,.5*a,t-n-x*n,0,t-2*n,(.5-o)*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t-n,a,t-2*n,(.5+o)*a,t-n-x*n,a)),i.spot1=new r.a.Spot(0,0),i.spot2=new r.a.Spot(1,1,-2*n,0),i})),r.a.Shape.defineFigureGenerator("Prism1",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.25*t,.25*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close());var o=new r.a.PathFigure(.25*t,.25*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),n.spot1=new r.a.Spot(.408,.172),n.spot2=new r.a.Spot(.833,.662),n})),r.a.Shape.defineFigureGenerator("Prism2",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.25*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close());var o=new r.a.PathFigure(0,a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.25*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,0,.25*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,.5*a)),n.spot1=new r.a.Spot(.25,.5),n.spot2=new r.a.Spot(.75,.75),n})),r.a.Shape.defineFigureGenerator("Pyramid1",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.5*t,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.75*a).close());var o=new r.a.PathFigure(.5*t,0,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),n.spot1=new r.a.Spot(.25,.367),n.spot2=new r.a.Spot(.75,.875),n})),r.a.Shape.defineFigureGenerator("Pyramid2",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.5*t,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.85*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.85*a).close());var o=new r.a.PathFigure(.5*t,0,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.7*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.85*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.7*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.85*a)),n.spot1=new r.a.Spot(.25,.367),n.spot2=new r.a.Spot(.75,.875),n})),r.a.Shape.defineFigureGenerator("Actor",(function(e,t,a){var n=new r.a.Geometry,i=.2*x,o=.1*x,d=.5,h=.1,g=new r.a.PathFigure(d*t,(h+.1)*a,!0);n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-.2)*t,h*a,(d-i)*t,(h+.1)*a,(d-.2)*t,(h+o)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h-.1)*a,(d-.2)*t,(h-o)*a,(d-i)*t,(h-.1)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d+.2)*t,h*a,(d+i)*t,(h-.1)*a,(d+.2)*t,(h-o)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h+.1)*a,(d+.2)*t,(h+o)*a,(d+i)*t,(h+.1)*a));var u=.05,m=x*u;d=.05,h=.25;var S=new r.a.PathFigure(.5*t,.2*a,!0);return n.add(S),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.95*t,.2*a)),d=.95,h=.25,S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d+u)*t,h*a,(d+m)*t,(h-u)*a,(d+u)*t,(h-m)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.6*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,.6*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,.35*a)),m=x*(u=.025),d=.825,h=.35,S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h-u)*a,(d+u)*t,(h-m)*a,(d+m)*t,(h-u)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-u)*t,h*a,(d-m)*t,(h-u)*a,(d-u)*t,(h-m)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.7*a)),m=x*(u=.05),d=.5,h=.7,S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h-u)*a,(d+u)*t,(h-m)*a,(d+m)*t,(h-u)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-u)*t,h*a,(d-m)*t,(h-u)*a,(d-u)*t,(h-m)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.35*a)),m=x*(u=.025),d=.175,h=.35,S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h-u)*a,(d+u)*t,(h-m)*a,(d+m)*t,(h-u)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-u)*t,h*a,(d-m)*t,(h-u)*a,(d-u)*t,(h-m)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,.6*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.6*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.25*a)),m=x*(u=.05),d=.05,h=.25,S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h-u)*a,(d-u)*t,(h-m)*a,(d-m)*t,(h-u)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.2*a)),n.spot1=new r.a.Spot(.2,.2),n.spot2=new r.a.Spot(.8,.65),n})),r.a.Shape.setFigureParameter("Card",0,new b("CornerCutoutSize",.2,.1,.9)),r.a.Shape.defineFigureGenerator("Card",(function(e,t,a){var n=e?e.parameter1:NaN;isNaN(n)&&(n=.2);var i=new r.a.Geometry,o=new r.a.PathFigure(t,0,!0);return i.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,n*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,n*t,0).close()),i.spot1=new r.a.Spot(0,n),i.spot2=r.a.Spot.BottomRight,i})),r.a.Shape.defineFigureGenerator("Collate",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.5*t,.5*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.5*a));var o=new r.a.PathFigure(.5*t,.5*a,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.5*a)),n.spot1=new r.a.Spot(.25,0),n.spot2=new r.a.Spot(.75,.25),n})),r.a.Shape.defineFigureGenerator("CreateRequest",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN;isNaN(i)&&(i=.1);var o=new r.a.PathFigure(0,0,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close());var d=new r.a.PathFigure(0,i*a,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,i*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,0,(1-i)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,(1-i)*a)),n})),r.a.Shape.defineFigureGenerator("Database",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=.1*x,d=new r.a.PathFigure(t,.1*a,!0);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.9*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,t,(.9+o)*a,(.5+i)*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.9*a,(.5-i)*t,a,0,(.9+o)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.1*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,0,(.1-o)*a,(.5-i)*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.1*a,(.5+i)*t,0,t,(.1-o)*a));var h=new r.a.PathFigure(t,.1*a,!1);return n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.2*a,t,(.1+o)*a,(.5+i)*t,.2*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.1*a,(.5-i)*t,.2*a,0,(.1+o)*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Move,t,.2*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.3*a,t,(.2+o)*a,(.5+i)*t,.3*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.2*a,(.5-i)*t,.3*a,0,(.2+o)*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Move,t,.3*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.4*a,t,(.3+o)*a,(.5+i)*t,.4*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.3*a,(.5-i)*t,.4*a,0,(.3+o)*a)),n.spot1=new r.a.Spot(0,.4),n.spot2=new r.a.Spot(1,.9),n})),r.a.Shape.defineFigureGenerator("DataStorage",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.75*t,a,t,0,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,0,.25*t,.9*a,.25*t,.1*a).close()),n.spot1=new r.a.Spot(.226,0),n.spot2=new r.a.Spot(.81,1),n})),r.a.Shape.defineFigureGenerator("DiskStorage",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=.1*x,d=new r.a.PathFigure(t,.1*a,!0);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.9*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,t,(.9+o)*a,(.5+i)*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.9*a,(.5-i)*t,a,0,(.9+o)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.1*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,0,(.1-o)*a,(.5-i)*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.1*a,(.5+i)*t,0,t,(.1-o)*a));var h=new r.a.PathFigure(t,.1*a,!1);return n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.2*a,t,(.1+o)*a,(.5+i)*t,.2*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.1*a,(.5-i)*t,.2*a,0,(.1+o)*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Move,t,.2*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.3*a,t,(.2+o)*a,(.5+i)*t,.3*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.2*a,(.5-i)*t,.3*a,0,(.2+o)*a)),n.spot1=new r.a.Spot(0,.3),n.spot2=new r.a.Spot(1,.9),n})),r.a.Shape.defineFigureGenerator("Display",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.25*t,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.75*t,a,t,0,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a).close()),n.spot1=new r.a.Spot(.25,0),n.spot2=new r.a.Spot(.75,1),n})),r.a.Shape.defineFigureGenerator("DividedEvent",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN;isNaN(i)?i=.2:i<.15&&(i=.15);var o=.2*x,d=new r.a.PathFigure(0,.2*a,!0);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.2*t,0,0,(.2-o)*a,(.2-o)*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.2*a,(.8+o)*t,0,t,(.2-o)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.8*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8*t,a,t,(.8+o)*a,(.8+o)*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.8*a,(.2-o)*t,a,0,(.8+o)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.2*a));var h=new r.a.PathFigure(0,i*a,!1);return n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,t,i*a)),n})),r.a.Shape.defineFigureGenerator("DividedProcess",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN;(isNaN(i)||i<.1)&&(i=.1);var o=new r.a.PathFigure(0,0,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close());var d=new r.a.PathFigure(0,i*a,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,i*a)),n})),r.a.Shape.defineFigureGenerator("Document",(function(e,t,a){var n=new r.a.Geometry;a/=.8;var i=new r.a.PathFigure(0,.7*a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.7*a,.5*t,.4*a,.5*t,a).close()),n.spot1=r.a.Spot.TopLeft,n.spot2=new r.a.Spot(1,.6),n})),r.a.Shape.defineFigureGenerator("ExternalOrganization",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN;(isNaN(i)||i<.2)&&(i=.2);var o=new r.a.PathFigure(0,0,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close());var d=new r.a.PathFigure(i*t,0,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,i*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,t,i*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,(1-i)*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,0,(1-i)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,i*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,(1-i)*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,(1-i)*a)),n})),r.a.Shape.defineFigureGenerator("ExternalProcess",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.5*t,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a).close());var o=new r.a.PathFigure(.1*t,.4*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.6*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.9*t,.6*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.4*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.6*t,.1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.4*t,.9*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.9*a)),n.spot1=new r.a.Spot(.25,.25),n.spot2=new r.a.Spot(.75,.75),n})),r.a.Shape.defineFigureGenerator("File",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close());var o=new r.a.PathFigure(.75*t,0,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.25*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.25*a)),n.spot1=new r.a.Spot(0,.25),n.spot2=r.a.Spot.BottomRight,n})),r.a.Shape.defineFigureGenerator("Interrupt",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(t,.5*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a));var o=new r.a.PathFigure(t,.5*a,!1);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a));var d=new r.a.PathFigure(t,.5*a,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),n.spot1=new r.a.Spot(0,.25),n.spot2=new r.a.Spot(.5,.75),n})),r.a.Shape.defineFigureGenerator("InternalStorage",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN,o=e?e.parameter2:NaN;isNaN(i)&&(i=.1),isNaN(o)&&(o=.1);var d=new r.a.PathFigure(0,0,!0);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close());var h=new r.a.PathFigure(i*t,0,!1);return n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,i*t,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Move,0,o*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,t,o*a)),n})),r.a.Shape.defineFigureGenerator("Junction",(function(e,t,a){var n=new r.a.Geometry,i=1/Math.SQRT2,o=(1-1/Math.SQRT2)/2,d=.5*x,h=new r.a.PathFigure(t,.5*a,!0);n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,t,(.5+d)*a,(.5+d)*t,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.5*a,(.5-d)*t,a,0,(.5+d)*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,0,(.5-d)*a,(.5-d)*t,0)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,(.5+d)*t,0,t,(.5-d)*a));var g=new r.a.PathFigure((o+i)*t,(o+i)*a,!1);return n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Line,o*t,o*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Move,o*t,(o+i)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,(o+i)*t,o*a)),n})),r.a.Shape.defineFigureGenerator("LinedDocument",(function(e,t,a){var n=new r.a.Geometry;a/=.8;var i=new r.a.PathFigure(0,.7*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.7*a,.5*t,.4*a,.5*t,a).close());var o=new r.a.PathFigure(.1*t,0,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.75*a)),n.spot1=new r.a.Spot(.1,0),n.spot2=new r.a.Spot(1,.6),n})),r.a.Shape.defineFigureGenerator("LoopLimit",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a).close()),n.spot1=new r.a.Spot(0,.25),n.spot2=r.a.Spot.BottomRight,n})),r.a.Shape.defineFigureGenerator("MagneticTape",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=new r.a.PathFigure(.5*t,a,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.5*a,(.5-i)*t,a,0,(.5+i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,0,(.5-i)*a,(.5-i)*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,(.5+i)*t,0,t,(.5-i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.6*t,.9*a,t,(.5+i)*a,(.5+i)*t,.9*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.9*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),n.spot1=new r.a.Spot(.15,.15),n.spot2=new r.a.Spot(.85,.8),n})),r.a.Shape.defineFigureGenerator("ManualInput",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(t,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.25*a).close()),n.spot1=new r.a.Spot(0,.25),n.spot2=r.a.Spot.BottomRight,n})),r.a.Shape.defineFigureGenerator("MessageFromUser",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN;isNaN(i)&&(i=.7);var o=new r.a.PathFigure(0,0,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,i*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()),n.spot1=r.a.Spot.TopLeft,n})),r.a.Shape.defineFigureGenerator("MicroformProcessing",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN;isNaN(i)&&(i=.25);var o=new r.a.PathFigure(0,0,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,i*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,(1-i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()),n})),r.a.Shape.defineFigureGenerator("MicroformRecording",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.15*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.85*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()),n.spot1=new r.a.Spot(0,.25),n.spot2=new r.a.Spot(1,.75),n})),r.a.Shape.defineFigureGenerator("MultiDocument",(function(e,t,a){var n=new r.a.Geometry;a/=.8;var i=new r.a.PathFigure(t,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9*t,.44*a,.96*t,.47*a,.93*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8*t,.54*a,.86*t,.57*a,.83*t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.7*a,.4*t,.4*a,.4*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,0).close());var o=new r.a.PathFigure(.1*t,.2*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.2*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.54*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.44*a)),n.spot1=new r.a.Spot(0,.25),n.spot2=new r.a.Spot(.8,.77),n})),r.a.Shape.defineFigureGenerator("MultiProcess",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.1*t,.1*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.9*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.9*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.2*a).close());var o=new r.a.PathFigure(.2*t,.1*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.8*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.1*t,.2*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.2*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.9*a)),n.spot1=new r.a.Spot(0,.2),n.spot2=new r.a.Spot(.8,1),n})),r.a.Shape.defineFigureGenerator("OfflineStorage",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN;isNaN(i)&&(i=.1);var o=new r.a.PathFigure(0,0,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a).close());var d=new r.a.PathFigure(.5*i*t,i*a,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,(1-.5*i)*t,i*a)),n})),r.a.Shape.defineFigureGenerator("OffPageConnector",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()),n.spot1=r.a.Spot.TopLeft,n.spot2=new r.a.Spot(.75,1),n})),r.a.Shape.defineFigureGenerator("Or",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=new r.a.PathFigure(t,.5*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,t,(.5+i)*a,(.5+i)*t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.5*a,(.5-i)*t,a,0,(.5+i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,0,(.5-i)*a,(.5-i)*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,(.5+i)*t,0,t,(.5-i)*a));var d=new r.a.PathFigure(t,.5*a,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)),n})),r.a.Shape.defineFigureGenerator("PaperTape",(function(e,t,a){var n=new r.a.Geometry;a/=.8;var i=new r.a.PathFigure(0,.7*a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.3*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.3*a,.5*t,.6*a,.5*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.7*a,.5*t,.4*a,.5*t,a).close()),n.spot1=new r.a.Spot(0,.49),n.spot2=new r.a.Spot(1,.75),n})),r.a.Shape.defineFigureGenerator("PrimitiveFromCall",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN,o=e?e.parameter2:NaN;isNaN(i)&&(i=.1),isNaN(o)&&(o=.3);var d=new r.a.PathFigure(0,0,!0);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,(1-o)*t,.5*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()),n})),r.a.Shape.defineFigureGenerator("PrimitiveToCall",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN,o=e?e.parameter2:NaN;isNaN(i)&&(i=.1),isNaN(o)&&(o=.3);var d=new r.a.PathFigure(0,0,!0);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,(1-o)*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,(1-o)*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()),n})),r.a.Shape.defineFigureGenerator("Procedure",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN;isNaN(i)&&(i=.1);var o=new r.a.PathFigure(0,0,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close());var d=new r.a.PathFigure((1-i)*t,0,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,(1-i)*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,i*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,i*t,a)),n})),r.a.Shape.defineFigureGenerator("Process",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN;isNaN(i)&&(i=.1);var o=new r.a.PathFigure(0,0,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close());var d=new r.a.PathFigure(i*t,0,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,i*t,a)),n.spot2=r.a.Spot.BottomRight,n})),r.a.Shape.defineFigureGenerator("Sort",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.5*t,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a).close());var o=new r.a.PathFigure(0,.5*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),n.spot1=new r.a.Spot(.25,.25),n.spot2=new r.a.Spot(.75,.5),n})),r.a.Shape.defineFigureGenerator("Start",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN;isNaN(i)&&(i=.25);var o=new r.a.PathFigure(i*t,0,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Arc,270,180,.75*t,.5*a,.25*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Arc,90,180,.25*t,.5*a,.25*t,.5*a));var d=new r.a.PathFigure(i*t,0,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,i*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,(1-i)*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,(1-i)*t,a)),n.spot1=new r.a.Spot(i,0),n.spot2=new r.a.Spot(1-i,1),n})),r.a.Shape.defineFigureGenerator("Terminator",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.25*t,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,270,180,.75*t,.5*a,.25*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,90,180,.25*t,.5*a,.25*t,.5*a)),n.spot1=new r.a.Spot(.23,0),n.spot2=new r.a.Spot(.77,1),n})),r.a.Shape.defineFigureGenerator("TransmittalTape",(function(e,t,a){var n=new r.a.Geometry,i=e?e.parameter1:NaN;isNaN(i)&&(i=.1);var o=new r.a.PathFigure(0,0,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,(1-i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,(1-i)*a).close()),n.spot1=r.a.Spot.TopLeft,n})),r.a.Shape.defineFigureGenerator("AndGate",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=new r.a.PathFigure(0,0,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,(.5+i)*t,0,t,(.5-i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,t,(.5+i)*a,(.5+i)*t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()),n.spot1=r.a.Spot.TopLeft,n.spot2=new r.a.Spot(.55,1),n})),r.a.Shape.defineFigureGenerator("Buffer",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()),n.spot1=new r.a.Spot(0,.25),n.spot2=new r.a.Spot(.5,.75),n})),r.a.Shape.defineFigureGenerator("Clock",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=new r.a.PathFigure(t,.5*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,t,(.5+i)*a,(.5+i)*t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.5*a,(.5-i)*t,a,0,(.5+i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,0,(.5-i)*a,(.5-i)*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,(.5+i)*t,0,t,(.5-i)*a));var d=new r.a.PathFigure(t,.5*a,!1);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a));var h=new r.a.PathFigure(.8*t,.75*a,!1);return n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.25*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.25*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.75*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.75*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.25*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.25*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.75*a)),n})),r.a.Shape.defineFigureGenerator("Ground",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.5*t,0,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.3*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.4*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,a)),n})),r.a.Shape.defineFigureGenerator("Inverter",(function(e,t,a){var n=new r.a.Geometry,i=.1*x,o=new r.a.PathFigure(.8*t,.5*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.5*a));var d=new r.a.PathFigure(1*t,.5*a,!0);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9*t,.6*a,1*t,(.5+i)*a,(.9+i)*t,.6*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8*t,.5*a,(.9-i)*t,.6*a,.8*t,(.5+i)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9*t,.4*a,.8*t,(.5-i)*a,(.9-i)*t,.4*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,1*t,.5*a,(.9+i)*t,.4*a,1*t,(.5-i)*a)),n.spot1=new r.a.Spot(0,.25),n.spot2=new r.a.Spot(.4,.75),n})),r.a.Shape.defineFigureGenerator("NandGate",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=.4*x,d=.1*x,h=new r.a.PathFigure(.8*t,.5*a,!0);n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.4*t,a,.8*t,(.5+o)*a,(.4+i)*t,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,0)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8*t,.5*a,(.4+i)*t,0,.8*t,(.5-o)*a));var g=new r.a.PathFigure(1*t,.5*a,!0);return n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9*t,.6*a,1*t,(.5+d)*a,(.9+d)*t,.6*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8*t,.5*a,(.9-d)*t,.6*a,.8*t,(.5+d)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9*t,.4*a,.8*t,(.5-d)*a,(.9-d)*t,.4*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,1*t,.5*a,(.9+d)*t,.4*a,1*t,(.5-d)*a)),n.spot1=new r.a.Spot(0,.05),n.spot2=new r.a.Spot(.55,.95),n})),r.a.Shape.defineFigureGenerator("NorGate",(function(e,t,a){var n=new r.a.Geometry,i=.5,o=x*i,d=0,h=.5,g=new r.a.PathFigure(.8*t,.5*a,!0);n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a,.7*t,(h+o)*a,(d+o)*t,(h+i)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,0,.25*t,.75*a,.25*t,.25*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8*t,.5*a,(d+o)*t,(h-i)*a,.7*t,(h-o)*a)),i=.1,o=.1*x,d=.9,h=.5;var u=new r.a.PathFigure((d-i)*t,h*a,!0);return n.add(u),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h-i)*a,(d-i)*t,(h-o)*a,(d-o)*t,(h-i)*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d+i)*t,h*a,(d+o)*t,(h-i)*a,(d+i)*t,(h-o)*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h+i)*a,(d+i)*t,(h+o)*a,(d+o)*t,(h+i)*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-i)*t,h*a,(d-o)*t,(h+i)*a,(d-i)*t,(h+o)*a)),n.spot1=new r.a.Spot(.2,.25),n.spot2=new r.a.Spot(.6,.75),n})),r.a.Shape.defineFigureGenerator("OrGate",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=new r.a.PathFigure(0,0,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,(0+i+i)*t,0*a,.8*t,(.5-i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a,.8*t,(.5+i)*a,(0+i+i)*t,1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,0,.25*t,.75*a,.25*t,.25*a).close()),n.spot1=new r.a.Spot(.2,.25),n.spot2=new r.a.Spot(.75,.75),n})),r.a.Shape.defineFigureGenerator("XnorGate",(function(e,t,a){var n=new r.a.Geometry,i=.5,o=x*i,d=.2,h=.5,g=new r.a.PathFigure(.1*t,0,!1);n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.1*t,a,.35*t,.25*a,.35*t,.75*a));var u=new r.a.PathFigure(.8*t,.5*a,!0);n.add(u),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.2*t,a,.7*t,(h+o)*a,(d+o)*t,(h+i)*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.2*t,0,.45*t,.75*a,.45*t,.25*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8*t,.5*a,(d+o)*t,(h-i)*a,.7*t,(h-o)*a)),i=.1,o=.1*x,d=.9,h=.5;var m=new r.a.PathFigure((d-i)*t,h*a,!0);return n.add(m),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h-i)*a,(d-i)*t,(h-o)*a,(d-o)*t,(h-i)*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d+i)*t,h*a,(d+o)*t,(h-i)*a,(d+i)*t,(h-o)*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h+i)*a,(d+i)*t,(h+o)*a,(d+o)*t,(h+i)*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-i)*t,h*a,(d-o)*t,(h+i)*a,(d-i)*t,(h+o)*a)),n.spot1=new r.a.Spot(.4,.25),n.spot2=new r.a.Spot(.65,.75),n})),r.a.Shape.defineFigureGenerator("XorGate",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=new r.a.PathFigure(.1*t,0,!1);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.1*t,a,.35*t,.25*a,.35*t,.75*a));var d=new r.a.PathFigure(.2*t,0,!0);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,(.2+i)*t,0*a,.9*t,(.5-i)*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.2*t,a,.9*t,(.5+i)*a,(.2+i)*t,1*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.2*t,0,.45*t,.75*a,.45*t,.25*a).close()),n.spot1=new r.a.Spot(.4,.25),n.spot2=new r.a.Spot(.8,.75),n})),r.a.Shape.defineFigureGenerator("Capacitor",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),n})),r.a.Shape.defineFigureGenerator("Resistor",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.5*a,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.5*a)),n})),r.a.Shape.defineFigureGenerator("Inductor",(function(e,t,a){var n=new r.a.Geometry,i=.1*x,o=.1,d=new r.a.PathFigure((o-.5*i)*t,a,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(o+.1)*t,0,(o-i)*t,a,(o-.1)*t,0)),o=.3,d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,o*t,a,(o+.1)*t,0,(o+i)*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(o+.1)*t,0,(o-i)*t,a,(o-.1)*t,0)),o=.5,d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,o*t,a,(o+.1)*t,0,(o+i)*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(o+.1)*t,0,(o-i)*t,a,(o-.1)*t,0)),o=.7,d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,o*t,a,(o+.1)*t,0,(o+i)*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(o+.1)*t,0,(o-i)*t,a,(o-.1)*t,0)),o=.9,d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(o+.5*i)*t,a,(o+.1)*t,0,(o+i)*t,a)),n})),r.a.Shape.defineFigureGenerator("ACvoltageSource",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=new r.a.PathFigure(0*t,.5*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0*a,0*t,(.5-i)*a,(.5-i)*t,0*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,1*t,.5*a,(.5+i)*t,0*a,1*t,(.5-i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,1*a,1*t,(.5+i)*a,(.5+i)*t,1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0*t,.5*a,(.5-i)*t,1*a,0*t,(.5+i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.1*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9*t,.5*a,.5*t,0*a,.5*t,1*a)),n})),r.a.Shape.defineFigureGenerator("DCvoltageSource",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.75*a,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),n})),r.a.Shape.defineFigureGenerator("Diode",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(t,0,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),n.spot1=new r.a.Spot(0,.25),n.spot2=new r.a.Spot(.5,.75),n})),r.a.Shape.defineFigureGenerator("Wifi",(function(e,t,a){var n=new r.a.Geometry,i=.8*x,o=.8,d=0,h=.5,g=(t-(t*=.38))/2,u=(a-(a*=.6))/2,m=new r.a.PathFigure(d*t+g,(h+o)*a+u,!0);n.add(m),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-o)*t+g,h*a+u,(d-i)*t+g,(h+o)*a+u,(d-o)*t+g,(h+i)*a+u)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t+g,(h-o)*a+u,(d-o)*t+g,(h-i)*a+u,(d-i)*t+g,(h-o)*a+u)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-o+.5*i)*t+g,h*a+u,d*t+g,(h-o)*a+u,(d-o+.5*i)*t+g,(h-i)*a+u)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t+g,(h+o)*a+u,(d-o+.5*i)*t+g,(h+i)*a+u,d*t+g,(h+o)*a+u).close()),i=.4*x,o=.4,d=.2,h=.5;var S=new r.a.PathFigure(d*t+g,(h+o)*a+u,!0);n.add(S),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-o)*t+g,h*a+u,(d-i)*t+g,(h+o)*a+u,(d-o)*t+g,(h+i)*a+u)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t+g,(h-o)*a+u,(d-o)*t+g,(h-i)*a+u,(d-i)*t+g,(h-o)*a+u)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-o+.5*i)*t+g,h*a+u,d*t+g,(h-o)*a+u,(d-o+.5*i)*t+g,(h-i)*a+u)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t+g,(h+o)*a+u,(d-o+.5*i)*t+g,(h+i)*a+u,d*t+g,(h+o)*a+u).close()),i=.2*x,o=.2,d=.5,h=.5;var c=new r.a.PathFigure((d-o)*t+g,h*a+u,!0);n.add(c),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t+g,(h-o)*a+u,(d-o)*t+g,(h-i)*a+u,(d-i)*t+g,(h-o)*a+u)),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d+o)*t+g,h*a+u,(d+i)*t+g,(h-o)*a+u,(d+o)*t+g,(h-i)*a+u)),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t+g,(h+o)*a+u,(d+o)*t+g,(h+i)*a+u,(d+i)*t+g,(h+o)*a+u)),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-o)*t+g,h*a+u,(d-i)*t+g,(h+o)*a+u,(d-o)*t+g,(h+i)*a+u)),i=.4*x,o=.4,d=.8,h=.5;var l=new r.a.PathFigure(d*t+g,(h-o)*a+u,!0);n.add(l),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d+o)*t+g,h*a+u,(d+i)*t+g,(h-o)*a+u,(d+o)*t+g,(h-i)*a+u)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t+g,(h+o)*a+u,(d+o)*t+g,(h+i)*a+u,(d+i)*t+g,(h+o)*a+u)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d+o-.5*i)*t+g,h*a+u,d*t+g,(h+o)*a+u,(d+o-.5*i)*t+g,(h+i)*a+u)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t+g,(h-o)*a+u,(d+o-.5*i)*t+g,(h-i)*a+u,d*t+g,(h-o)*a+u).close()),i=.8*x,o=.8,d=1,h=.5;var s=new r.a.PathFigure(d*t+g,(h-o)*a+u,!0);return n.add(s),s.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d+o)*t+g,h*a+u,(d+i)*t+g,(h-o)*a+u,(d+o)*t+g,(h-i)*a+u)),s.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t+g,(h+o)*a+u,(d+o)*t+g,(h+i)*a+u,(d+i)*t+g,(h+o)*a+u)),s.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d+o-.5*i)*t+g,h*a+u,d*t+g,(h+o)*a+u,(d+o-.5*i)*t+g,(h+i)*a+u)),s.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t+g,(h-o)*a+u,(d+o-.5*i)*t+g,(h-i)*a+u,d*t+g,(h-o)*a+u).close()),n})),r.a.Shape.defineFigureGenerator("Email",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0).close());var o=new r.a.PathFigure(0,0,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.6*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,0,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.54*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.54*a)),n})),r.a.Shape.defineFigureGenerator("Ethernet",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.35*t,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,0).close());var o=new r.a.PathFigure(.1*t,a,!0,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.6*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.6*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,a).close());var d=new r.a.PathFigure(.6*t,a,!0,!0);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.6*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.6*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,a).close());var h=new r.a.PathFigure(0,.5*a,!1);return n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.5*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.4*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Move,.75*t,.5*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.6*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Move,.25*t,.5*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,.6*a)),n})),r.a.Shape.defineFigureGenerator("Power",(function(e,t,a){var n=new r.a.Geometry,i=.4*x,o=.4,d=B(),h=B(),g=B(),u=B();z(.5,.5-o,.5+i,.5-o,.5+o,.5-i,.5+o,.5,.5,d,d,h,g,u);var m=F(h.x,h.y),S=new r.a.PathFigure(h.x*t,h.y*a,!0);n.add(S),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+o)*t,.5*a,g.x*t,g.y*a,u.x*t,u.y*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,(.5+o)*a,(.5+o)*t,(.5+i)*a,(.5+i)*t,(.5+o)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-o)*t,.5*a,(.5-i)*t,(.5+o)*a,(.5-o)*t,(.5+i)*a)),z(.5-o,.5,.5-o,.5-i,.5-i,.5-o,.5,.5-o,.5,g,u,h,d,d),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,h.x*t,h.y*a,g.x*t,g.y*a,u.x*t,u.y*a)),z(.5-(o=.3),.5,.5-o,.5-(i=.3*x),.5-i,.5-o,.5,.5-o,.5,g,u,h,d,d),S.add(new r.a.PathSegment(r.a.PathSegment.Line,h.x*t,h.y*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-o)*t,.5*a,u.x*t,u.y*a,g.x*t,g.y*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,(.5+o)*a,(.5-o)*t,(.5+i)*a,(.5-i)*t,(.5+o)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5+o)*t,.5*a,(.5+i)*t,(.5+o)*a,(.5+o)*t,(.5+i)*a)),z(.5,.5-o,.5+i,.5-o,.5+o,.5-i,.5+o,.5,.5,d,d,h,g,u),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,h.x*t,h.y*a,u.x*t,u.y*a,g.x*t,g.y*a).close());S=new r.a.PathFigure(.45*t,0,!0);return n.add(S),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.5*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.5*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,0).close()),_(d),_(h),_(g),_(u),_(m),n.spot1=new r.a.Spot(.25,.45),n.spot2=new r.a.Spot(.75,.8),n})),r.a.Shape.defineFigureGenerator("Fallout",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,a/2,!0);function o(e,n,i){e.add(new r.a.PathSegment(r.a.PathSegment.Move,(.3+n)*t,(.8+i)*a)),e.add(new r.a.PathSegment(r.a.PathSegment.Line,(.5+n)*t,(.5+i)*a)),e.add(new r.a.PathSegment(r.a.PathSegment.Line,(.1+n)*t,(.5+i)*a)),e.add(new r.a.PathSegment(r.a.PathSegment.Line,(.3+n)*t,(.8+i)*a).close())}return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,180,360,t/2,a/2,t/2,a/2)),o(i,0,0),o(i,.4,0),o(i,.2,-.3),n})),r.a.Shape.defineFigureGenerator("IrritationHazard",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.2*t,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.3*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.2*a).close()),n.spot1=new r.a.Spot(.3,.3),n.spot2=new r.a.Spot(.7,.7),n})),r.a.Shape.defineFigureGenerator("ElectricalHazard",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.37*t,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.11*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.77*t,.04*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.33*t,.49*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.37*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.63*t,.86*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.77*t,.91*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.34*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.34*t,.78*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.44*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,.56*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.68*a).close()),n})),r.a.Shape.defineFigureGenerator("FireHazard",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.1*t,a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.29*t,0,-.25*t,.63*a,.45*t,.44*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.51*t,.42*a,.48*t,.17*a,.54*t,.35*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.59*t,.18*a,.59*t,.29*a,.58*t,.28*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.75*t,.6*a,.8*t,.34*a,.88*t,.43*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.88*t,.31*a,.87*t,.48*a,.88*t,.43*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9*t,a,1.17*t,.76*a,.82*t,.8*a).close()),n.spot1=new r.a.Spot(.07,.445),n.spot2=new r.a.Spot(.884,.958),n})),r.a.Shape.defineFigureGenerator("BpmnActivityLoop",(function(e,t,a){var n=new r.a.Geometry,i=.5,o=i*x,d=.4*Math.SQRT2/2+.5,h=.5-.5*Math.SQRT2/2,g=new r.a.PathFigure(d*t,(1-h)*a,!1);return n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,1*t,.5*a,1*t,.7*a,1*t,.5*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0*a,1*t,(.5-o+0)*a,(.5+o+0)*t,0*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0*t,.5*a,(.5-o+0)*t,0*a,0*t,(.5-o+0)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.35*t,.9*a,0*t,(.5+o+0)*a,(.5-o+0)*t,.9*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Move,.25*t,.8*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,.9*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.95*a)),n})),r.a.Shape.defineFigureGenerator("BpmnActivityParallel",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),n})),r.a.Shape.defineFigureGenerator("BpmnActivitySequential",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,0,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),n})),r.a.Shape.defineFigureGenerator("BpmnActivityAdHoc",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!1);n.add(i);var o=new r.a.PathFigure(t,a,!1);n.add(o);var d=new r.a.PathFigure(0,.5*a,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.5*a,.2*t,.35*a,.3*t,.35*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,.7*t,.65*a,.8*t,.65*a)),n})),r.a.Shape.defineFigureGenerator("BpmnActivityCompensation",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.5*a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a).close()),n})),r.a.Shape.defineFigureGenerator("BpmnTaskMessage",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.2*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.8*a).close());i=new r.a.PathFigure(0,.2*a,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.2*a)),n})),r.a.Shape.defineFigureGenerator("BpmnTaskScript",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.7*t,a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.3*t,0,.6*t,.5*a,0,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.7*t,a,.4*t,.5*a,t,.5*a).close());var o=new r.a.PathFigure(.45*t,.73*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.73*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.38*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.63*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.31*t,.27*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.56*t,.27*a)),n})),r.a.Shape.defineFigureGenerator("BpmnTaskUser",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!1);n.add(i);var o=new r.a.PathFigure(.335*t,(1-.555)*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.335*t,.595*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.665*t,.595*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.665*t,(1-.555)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.68*a,.88*t,.46*a,.98*t,.54*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.68*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.335*t,(1-.555)*a,.02*t,.54*a,.12*t,.46*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.365*t,.405*a));var d=Math.PI/4,h=4*(1-Math.cos(d))/(3*Math.sin(d)),g=h*(.5-.285),u=h*(.5-.285);o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.285*t,(.5-.285)*a,(.5-(g+(.5-.285))/2)*t,(.5-.285+(.5-.285+u)/2)*a,.285*t,(.5-.285+u)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0*a,.285*t,(.5-.285-u)*a,(.5-g)*t,0*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.5-.285+.5)*t,(.5-.285)*a,(.5+g)*t,0*a,(.5-.285+.5)*t,(.5-.285-u)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.635*t,.405*a,(.5-.285+.5)*t,(.5-.285+u)*a,(.5+(g+(.5-.285))/2)*t,(.5-.285+(.5-.285+u)/2)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.635*t,.405*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.665*t,(1-.555)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.665*t,.595*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.335*t,.595*a));var m=new r.a.PathFigure(.2*t,a,!1);n.add(m),m.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.8*a));var S=new r.a.PathFigure(.8*t,a,!1);return n.add(S),S.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.8*a)),n})),r.a.Shape.defineFigureGenerator("BpmnEventConditional",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.1*t,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,a).close());var o=new r.a.PathFigure(.2*t,.2*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.2*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.4*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.4*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.6*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.6*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.8*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.8*a)),n})),r.a.Shape.defineFigureGenerator("BpmnEventError",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.33*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.33*t,.5*a).close()),n})),r.a.Shape.defineFigureGenerator("BpmnEventEscalation",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!1);n.add(i);var o=new r.a.PathFigure(t,a,!1);n.add(o);var d=new r.a.PathFigure(.1*t,a,!0);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.5*a).close()),n})),r.a.Shape.defineFigureGenerator("Caution",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.05*t,a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.1*t,.8*a,0,a,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.55*t,.1*a,.5*t,0,.5*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.95*t,.9*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9*t,a,t,a,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.05*t,a));return i.add(new r.a.PathSegment(r.a.PathSegment.Move,.45*t,.875*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,180,-360,.5*t,.875*a,.05*t,.05*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.325*a,.575*t,.725*a,.625*t,.375*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.75*a,.375*t,.375*a,.425*t,.725*a)),n})),r.a.Shape.defineFigureGenerator("Recycle",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.45*t,.95*a,!1);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.185*t,.85*a,.17*t,.95*a,.15*t,.9*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.235*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.625*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,.65*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.275*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.05*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.05*t,.575*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.1875*t,.95*a,0,.675*a,0,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.45*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.775*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.22*t,.775*a));var o=new r.a.PathFigure(.475*t,.2*a,!1);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.4*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.225*t,.3*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.275*t,.175*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.325*t,.05*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.4*t,.05*a,.35*t,0,.375*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.575*t,.375*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.525*t,.4*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.475*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,.315*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.32*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,.05*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.575*t,0,.65*t,.05*a,.625*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.38*t,.0105*a));var d=new r.a.PathFigure(.675*t,.575*a,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.875*t,.525*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.775*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.85*t,.95*a,t,.8*a,t,.85*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,.95*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.85*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,.725*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,.775*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.775*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.775*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,.675*t,.575*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.775*t,.775*a)),n})),r.a.Shape.defineFigureGenerator("BpmnEventTimer",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=new r.a.PathFigure(t,.5*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,t,(.5+i)*a,(.5+i)*t,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.5*a,(.5-i)*t,a,0,(.5+i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,0,(.5-i)*a,(.5-i)*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,(.5+i)*t,0,t,(.5-i)*a));var d=new r.a.PathFigure(.5*t,0,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.15*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.85*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,0,.5*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,.5*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,t,.5*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,.5*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.5*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.58*t,.1*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.5*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.78*t,.54*a)),n})),r.a.Shape.defineFigureGenerator("Package",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.15*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.15*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close());var o=new r.a.PathFigure(0,.15*a,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,.15*a).close()),n.spot1=new r.a.Spot(0,.1),n.spot2=new r.a.Spot(1,1),n})),r.a.Shape.defineFigureGenerator("Class",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0).close());var o=new r.a.PathFigure(0,.2*a,!1);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.2*a).close());var d=new r.a.PathFigure(0,.5*a,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a).close()),n})),r.a.Shape.defineFigureGenerator("Component",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(t,a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a).close());var o=new r.a.PathFigure(0,.2*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.2*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.4*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.4*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.2*a).close());var d=new r.a.PathFigure(0,.6*a,!0);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.6*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.8*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.8*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.6*a).close()),n})),r.a.Shape.defineFigureGenerator("Boat Shipment",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.15*t,.6*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,.6*a));var o=new r.a.PathFigure(.15*t,.6*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,.6*a)),n})),r.a.Shape.defineFigureGenerator("Customer/Supplier",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(t,a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,.33*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.33*t,.33*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.33*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.33*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a).close()),n})),r.a.Shape.defineFigureGenerator("Workcell",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()),n})),r.a.Shape.defineFigureGenerator("Supermarket",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.33*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.33*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,t,.33*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.66*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.66*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,t,.66*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),n})),r.a.Shape.defineFigureGenerator("TruckShipment",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0).close());var o=new r.a.PathFigure(t,.8*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.4*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.4*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.8*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.8*a).close());var d=.1,h=.1*x,g=.2,u=.9,m=new r.a.PathFigure((g-d)*t,u*a,!0);n.add(m),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,g*t,(u-d)*a,(g-d)*t,(u-h)*a,(g-h)*t,(u-d)*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(g+d)*t,u*a,(g+h)*t,(u-d)*a,(g+d)*t,(u-h)*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,g*t,(u+d)*a,(g+d)*t,(u+h)*a,(g+h)*t,(u+d)*a)),m.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(g-d)*t,u*a,(g-h)*t,(u+d)*a,(g-d)*t,(u+h)*a).close()),d=.1,h=.1*x,g=.8,u=.9;var S=new r.a.PathFigure((g-d)*t,u*a,!0);return n.add(S),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,g*t,(u-d)*a,(g-d)*t,(u-h)*a,(g-h)*t,(u-d)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(g+d)*t,u*a,(g+h)*t,(u-d)*a,(g+d)*t,(u-h)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,g*t,(u+d)*a,(g+d)*t,(u+h)*a,(g+h)*t,(u+d)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(g-d)*t,u*a,(g-h)*t,(u+d)*a,(g-d)*t,(u+h)*a).close()),n})),r.a.Shape.defineFigureGenerator("KanbanPost",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.2*t,0,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,a)),n})),r.a.Shape.defineFigureGenerator("Forklift",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0));var o=new r.a.PathFigure(0,.5*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.8*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.8*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a));var d=new r.a.PathFigure(.5*t,.8*a,!0);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.1*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.1*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.8*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.8*a));var h=new r.a.PathFigure(.5*t,.7*a,!1);n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.7*a));var g=.1,u=.1*x,m=.1,S=.9,c=new r.a.PathFigure((m-g)*t,S*a,!0);n.add(c),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,m*t,(S-g)*a,(m-g)*t,(S-u)*a,(m-u)*t,(S-g)*a)),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(m+g)*t,S*a,(m+u)*t,(S-g)*a,(m+g)*t,(S-u)*a)),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,m*t,(S+g)*a,(m+g)*t,(S+u)*a,(m+u)*t,(S+g)*a)),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(m-g)*t,S*a,(m-u)*t,(S+g)*a,(m-g)*t,(S+u)*a)),g=.1,u=.1*x,m=.4,S=.9;var l=new r.a.PathFigure((m-g)*t,S*a,!0);return n.add(l),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,m*t,(S-g)*a,(m-g)*t,(S-u)*a,(m-u)*t,(S-g)*a)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(m+g)*t,S*a,(m+u)*t,(S-g)*a,(m+g)*t,(S-u)*a)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,m*t,(S+g)*a,(m+g)*t,(S+u)*a,(m+u)*t,(S+g)*a)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(m-g)*t,S*a,(m-u)*t,(S+g)*a,(m-g)*t,(S+u)*a)),n})),r.a.Shape.defineFigureGenerator("RailShipment",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.1*t,.4*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.9*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.9*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.4*a).close());var o=new r.a.PathFigure(.45*t,.7*a,!1);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.7*a));var d=new r.a.PathFigure(.55*t,.4*a,!0);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.4*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.9*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.9*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.4*a).close());var h=.05,g=.05*x,u=.175,m=.95,S=new r.a.PathFigure((u-h)*t,m*a,!0);n.add(S),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,u*t,(m-h)*a,(u-h)*t,(m-g)*a,(u-g)*t,(m-h)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(u+h)*t,m*a,(u+g)*t,(m-h)*a,(u+h)*t,(m-g)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,u*t,(m+h)*a,(u+h)*t,(m+g)*a,(u+g)*t,(m+h)*a)),S.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(u-h)*t,m*a,(u-g)*t,(m+h)*a,(u-h)*t,(m+g)*a));h=.05,g=.05*x,u=.375,m=.95;var c=new r.a.PathFigure((u-h)*t,m*a,!0);n.add(c),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,u*t,(m-h)*a,(u-h)*t,(m-g)*a,(u-g)*t,(m-h)*a)),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(u+h)*t,m*a,(u+g)*t,(m-h)*a,(u+h)*t,(m-g)*a)),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,u*t,(m+h)*a,(u+h)*t,(m+g)*a,(u+g)*t,(m+h)*a)),c.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(u-h)*t,m*a,(u-g)*t,(m+h)*a,(u-h)*t,(m+g)*a));h=.05,g=.05*x,u=.625,m=.95;var l=new r.a.PathFigure((u-h)*t,m*a,!0);n.add(l),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,u*t,(m-h)*a,(u-h)*t,(m-g)*a,(u-g)*t,(m-h)*a)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(u+h)*t,m*a,(u+g)*t,(m-h)*a,(u+h)*t,(m-g)*a)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,u*t,(m+h)*a,(u+h)*t,(m+g)*a,(u+g)*t,(m+h)*a)),l.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(u-h)*t,m*a,(u-g)*t,(m+h)*a,(u-h)*t,(m+g)*a));h=.05,g=.05*x,u=.825,m=.95;var s=new r.a.PathFigure((u-h)*t,m*a,!0);n.add(s),s.add(new r.a.PathSegment(r.a.PathSegment.Bezier,u*t,(m-h)*a,(u-h)*t,(m-g)*a,(u-g)*t,(m-h)*a)),s.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(u+h)*t,m*a,(u+g)*t,(m-h)*a,(u+h)*t,(m-g)*a)),s.add(new r.a.PathSegment(r.a.PathSegment.Bezier,u*t,(m+h)*a,(u+h)*t,(m+g)*a,(u+g)*t,(m+h)*a)),s.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(u-h)*t,m*a,(u-g)*t,(m+h)*a,(u-h)*t,(m+g)*a).close());var P=new r.a.PathFigure(0,a,!1);return n.add(P),P.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a).close()),n})),r.a.Shape.defineFigureGenerator("Warehouse",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0).close());var o=new r.a.PathFigure(0,.2*a,!1);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.2*a).close());var d=new r.a.PathFigure(.15*t,a,!0);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,.5*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.5*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,a).close());var h=.05*x,g=new r.a.PathFigure(.3*t,.775*a,!0);return n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.35*t,.725*a,.3*t,(.775-h)*a,(.35-h)*t,.725*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(.35+.05)*t,.775*a,(.35+h)*t,.725*a,(.35+.05)*t,(.775-h)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.35*t,(.775+.05)*a,(.35+.05)*t,(.775+h)*a,(.35+h)*t,(.775+.05)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.3*t,.775*a,(.35-h)*t,(.775+.05)*a,.3*t,(.775+h)*a).close()),n})),r.a.Shape.defineFigureGenerator("ControlCenter",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.1*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.8*a).close()),n})),r.a.Shape.defineFigureGenerator("Bluetooth",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.75*a,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.25*a)),n})),r.a.Shape.defineFigureGenerator("Bookmark",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.4*a)),n})),r.a.Shape.defineFigureGenerator("Bookmark",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.4*a)),n})),r.a.Shape.defineFigureGenerator("Globe",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.5*t,0,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,0,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.5*a,.75*t,0,t,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,t,.75*a,.75*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.5*a,.25*t,a,0,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,0,.25*a,.25*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,a,.15*t,.25*a,.15*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,.85*t,.75*a,.85*t,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.1675*t,.15*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8325*t,.15*a,.35*t,.3*a,.65*t,.3*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.1675*t,.85*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8325*t,.85*a,.35*t,.7*a,.65*t,.7*a)),n})),r.a.Shape.defineFigureGenerator("Wave",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.25*a,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.3*t,.25*a,.1*t,0,.2*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.7*t,.25*a,.425*t,.5*a,.575*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.25*a,.8*t,0,.9*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,0,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.3*t,.75*a,.1*t,.5*a,.2*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.7*t,.75*a,.425*t,a,.575*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.75*a,.8*t,.5*a,.9*t,.5*a)),n})),r.a.Shape.defineFigureGenerator("Operator",(function(e,t,a){var n=new r.a.Geometry,i=.3*x,o=new r.a.PathFigure(.2*t,.7*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,(.7-.3)*a,.2*t,(.7-i)*a,(.5-i)*t,(.7-.3)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8*t,.7*a,(.5+i)*t,(.7-.3)*a,.8*t,(.7-i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,1*a,.8*t,(.7+i)*a,(.5+i)*t,1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.2*t,.7*a,(.5-i)*t,1*a,.2*t,(.7+i)*a));var d=new r.a.PathFigure(0,.7*a,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.7*a,0,0,t,0)),n})),r.a.Shape.defineFigureGenerator("TripleFanBlades",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.5*t,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.65*a,.65*t,.3*a,.65*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,.35*t,.5*a,.35*t,.3*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.65*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a,.3*t,.6*a,.1*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.65*a,.2*t,a,.35*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.65*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,a,.7*t,.6*a,.9*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.65*a,.8*t,a,.65*t,.95*a)),n})),r.a.Shape.defineFigureGenerator("CentrifugalPump",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(t,0,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.5*a,0,.075*a,0,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.4*t,a,0,a,.4*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8*t,.4*a,.8*t,a,.85*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)),n})),r.a.Shape.defineFigureGenerator("Battery",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.4*t,.1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.1*a));var o=new r.a.PathFigure(0,.6*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Move,0,.4*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.4*a)),n})),r.a.Shape.defineFigureGenerator("Delete",(function(e,t,a){var n=new r.a.Geometry,i=.5*x,o=new r.a.PathFigure(0*t,.5*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0*a,0*t,(.5-i)*a,(.5-i)*t,0*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,1*t,.5*a,(.5+i)*t,0*a,1*t,(.5-i)*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,1*a,1*t,(.5+i)*a,(.5+i)*t,1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0*t,.5*a,(.5-i)*t,1*a,0*t,(.5+i)*a));var d=new r.a.PathFigure(.15*t,.5*a,!1);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,.5*a)),n})),r.a.Shape.defineFigureGenerator("Flag",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.1*a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,0,.1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.1*a,.15*t,0,.35*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,.1*a,.65*t,.2*a,.85*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.5*a,.85*t,.6*a,.65*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.5*a,.35*t,.4*a,.15*t,.4*a).close()),n})),r.a.Shape.defineFigureGenerator("Help",(function(e,t,a){var n=new r.a.Geometry,i=.5,o=.5*x,d=.5,h=.5,g=new r.a.PathFigure((d-i)*t,h*a,!1);n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h-i)*a,(d-i)*t,(h-o)*a,(d-o)*t,(h-i)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d+i)*t,h*a,(d+o)*t,(h-i)*a,(d+i)*t,(h-o)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h+i)*a,(d+i)*t,(h+o)*a,(d+o)*t,(h+i)*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-i)*t,h*a,(d-o)*t,(h+i)*a,(d-i)*t,(h+o)*a).close()),i=.05,o=.05*x,d=.5,h=.8;var u=new r.a.PathFigure((d-i)*t,h*a,!1);return n.add(u),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h-i)*a,(d-i)*t,(h-o)*a,(d-o)*t,(h-i)*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d+i)*t,h*a,(d+o)*t,(h-i)*a,(d+i)*t,(h-o)*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,d*t,(h+i)*a,(d+i)*t,(h+o)*a,(d+o)*t,(h+i)*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,(d-i)*t,h*a,(d-o)*t,(h+i)*a,(d-i)*t,(h+o)*a).close()),u.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.7*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.5*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,.2*a,.75*t,.475*a,.75*t,.225*a)),u.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.3*t,.35*a,.4*t,.2*a,.3*t,.25*a)),n})),r.a.Shape.defineFigureGenerator("Location",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(.5*t,a,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.5*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5*t,0,.975*t,.025*a,.5*t,0)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.25*t,.5*a,.5*t,0,.025*t,.025*a).close()).add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.2*a)).add(new r.a.PathSegment(r.a.PathSegment.Arc,270,360,.5*t,.3*a,.1*t,.1*a).close()))})),r.a.Shape.defineFigureGenerator("Lock",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.5*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a));var o=new r.a.PathFigure(.2*t,.5*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.3*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8*t,.3*a,.25*t,0,.75*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.3*a)),n})),r.a.Shape.defineFigureGenerator("Unlocked",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.5*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a));var o=new r.a.PathFigure(.2*t,.5*a,!1);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.5*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.3*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.8*t,.3*a,.25*t,0,.75*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.35*a)),n})),r.a.Shape.defineFigureGenerator("Gear",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(.9375*t,.56246875*a,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,.9375*t,.4375*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.80621875*t,.4375*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.763*t,.3316875*a,.79840625*t,.39915625*a,.7834375*t,.3635*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.8566875*t,.23796875*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.76825*t,.14959375*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.67596875*t,.24184375*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.5625*t,.19378125*a,.64228125*t,.2188125*a,.603875*t,.2021875*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.5625*t,.0625*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.4375*t,.0625*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.4375*t,.19378125*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.32775*t,.239375*a,.39759375*t,.20190625*a,.36053125*t,.2176875*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.2379375*t,.14959375*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.14953125*t,.2379375*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.23934375*t,.3278125*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.19378125*t,.4375*a,.21765625*t,.36059375*a,.201875*t,.397625*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.0625*t,.4375*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.0625*t,.5625*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.1938125*t,.5625*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.241875*t,.67596875*a,.20221875*t,.603875*a,.21884375*t,.64228125*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.1495625*t,.76825*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.238*t,.8566875*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.3316875*t,.76296875*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.43753125*t,.80621875*a,.36353125*t,.78340625*a,.3991875*t,.79840625*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.43753125*t,.9375*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.5625*t,.9375*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.5625*t,.80621875*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.67225*t,.760625*a,.602375*t,.79809375*a,.63946875*t,.78234375*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.76828125*t,.8566875*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.85671875*t,.76825*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.76065625*t,.67221875*a)).add(new r.a.PathSegment(r.a.PathSegment.Bezier,.80621875*t,.56246875*a,.78234375*t,.63940625*a,.798125*t,.602375*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.9375*t,.56246875*a).close()).add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.6*a)).add(new r.a.PathSegment(r.a.PathSegment.Arc,90,360,.5*t,.5*a,.1*t,.1*a).close()))})),r.a.Shape.defineFigureGenerator("Hand",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.5*a,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.1*t,.3*a,0,.375*a,.05*t,.325*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.45*t,.075*a,.3*t,.225*a,.4*t,.175*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.525*t,.075*a,.46*t,.05*a,.525*t,.05*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.3*t,.4*a,.525*t,.275*a,.475*t,.325*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9*t,.55*a,t,.4*a,t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.425*t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.6*t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.6*t,.7*a,.675*t,.55*a,.675*t,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.575*t,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.575*t,.85*a,.65*t,.7*a,.65*t,.85*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.85*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.525*t,.85*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.535*t,a,.61*t,.85*a,.61*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,.9*a,.435*t,a,0,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.5*a)),n})),r.a.Shape.defineFigureGenerator("Map",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,.2*a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.25*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.5*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.75*t,0)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.8*a)),n})),r.a.Shape.defineFigureGenerator("Eject",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.7*a).close());var o=new r.a.PathFigure(0,.6*a,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.6*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0).close()),n})),r.a.Shape.defineFigureGenerator("Pencil",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.1*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,.9*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.2*a).close()))})),r.a.Shape.defineFigureGenerator("Building",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(1*t,1*a,!1);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.85*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.046*t,.85*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.046*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.3*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.046*t,.3*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.954*t,.3*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.3*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.954*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.954*t,.85*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t,.85*a).close());var o=new r.a.PathFigure(.126*t,.85*a,!1);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.126*t,.45*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.322*t,.45*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.322*t,.85*a).close());var d=new r.a.PathFigure(.402*t,.85*a,!1);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.402*t,.45*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.598*t,.45*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.598*t,.85*a).close());var h=new r.a.PathFigure(.678*t,.85*a,!1);n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.678*t,.45*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.874*t,.45*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.874*t,.85*a).close());var g=new r.a.PathFigure(.5*t,.1*a,!1);return n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.196*t,.3*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.804*t,.3*a).close()),n})),r.a.Shape.defineFigureGenerator("Staircase",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,1*a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,.15*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.15*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.35*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.35*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.95*a).close()),n})),r.a.Shape.defineFigureGenerator("5Bars",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,1*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.184*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.184*t,a*(1-.184)).close());var o=new r.a.PathFigure(.204*t,a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.204*t,a*(1-.184))),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.388*t,.632*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.388*t,1*a).close());var d=new r.a.PathFigure(.408*t,a,!0);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.408*t,.632*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.592*t,a*(1-.552))),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.592*t,1*a).close());var h=new r.a.PathFigure(.612*t,a,!0);n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.612*t,a*(1-.552))),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.796*t,.264*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.796*t,1*a).close());var g=new r.a.PathFigure(.816*t,a,!0);return n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.816*t,.264*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,a*(1-.184*5))),g.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,1*a).close()),n})),r.a.Shape.defineFigureGenerator("PC",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,0).close());var o=new r.a.PathFigure(.055*t,.07*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.245*t,.07*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.245*t,.1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.055*t,.1*a).close());var d=new r.a.PathFigure(.055*t,.13*a,!0);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.245*t,.13*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.245*t,.16*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.055*t,.16*a).close());var h=new r.a.PathFigure(.055*t,.18*a,!0);n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.245*t,.18*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.245*t,.21*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.055*t,.21*a).close());var g=new r.a.PathFigure(1*t,0,!0);return n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,0)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.65*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,.65*a).close()),n})),r.a.Shape.defineFigureGenerator("Plane",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.55*t,a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.7*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.475*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.35*t,.525*a,0,.4*a,.225*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.475*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,.35*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.325*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.325*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,.1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Bezier,.9*t,.2*a,.975*t,0,t,.08*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,a).close()),n})),r.a.Shape.defineFigureGenerator("Key",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(1*t,.5*a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.4*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.35*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.35*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,.2*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.35*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,.65*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.15*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.8*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.65*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.65*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.6*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,.575*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.6*a).close()),i.add(new r.a.PathSegment(r.a.PathSegment.Move,.17*t,.425*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,270,360,.17*t,.5*a,.075*t,.075*a).close()),n})),r.a.Shape.defineFigureGenerator("FilmTape",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0,0,!1);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Arc,270,180,0*t,.3*t,.055*t)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.08*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.08*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.136*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.136*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.192*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.192*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.248*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.248*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.304*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.304*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.08+.28),.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.08+.28),1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.08+.336),1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.08+.336),.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.08+.392),.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.08+.392),1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.528*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.528*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.584*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.584*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.64*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.64*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.696*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.696*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.752*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.752*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.08+.728),.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.08+.728),1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.864*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.864*t,.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.08+.84),.95*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.08+.84),1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,1*a));var o=new r.a.PathFigure(0,0,!1);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,0*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Arc,270,-180,1*t,.3*t,.055*t)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,1*a));var d=new r.a.PathFigure(.11*t,.1*a,!1);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.35133333*t,.1*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.35133333*t,.8*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.11*t,.8*a).close());var h=new r.a.PathFigure(.37933333*t,.1*a,!1);n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.62066666*t,.1*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.62066666*t,.8*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.37933333*t,.8*a).close());var g=new r.a.PathFigure(t*(.59266666+.056),.1*a,!1);return n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.83399999+.056),.1*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.83399999+.056),.8*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(.59266666+.056),.8*a).close()),n})),r.a.Shape.defineFigureGenerator("FloppyDisk",(function(e,t,a){var n=new r.a.Geometry,i=8*x,o=new r.a.PathFigure(8,0,!1);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.86*t,0)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,.14*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a-8)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t-8,a,t,a-i,t-i,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,8,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a-8,i,a,0,a-i)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,0,8)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,8,0,0,i,i,0).close());var d=new r.a.PathFigure(.83*t,0,!1);n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.83*t,.3*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.17*t,.3*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.17*t,0*a).close());var h=new r.a.PathFigure(.83*t,1*a,!1);n.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.83*t,.5*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.17*t,.5*a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.17*t,1*a).close());var g=new r.a.PathFigure(.78*t,.05*a,!1);return n.add(g),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,.05*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,.25*a)),g.add(new r.a.PathSegment(r.a.PathSegment.Line,.78*t,.25*a).close()),n})),r.a.Shape.defineFigureGenerator("SpeechBubble",(function(e,t,a){var n=e?e.parameter1:NaN;(isNaN(n)||n<0)&&(n=15),n=Math.min(n,t/3);var i=(n=Math.min(n,a/3))*x,o=.8*a,d=new r.a.Geometry,h=new r.a.PathFigure(n,0,!0);return d.add(h),h.add(new r.a.PathSegment(r.a.PathSegment.Line,t-n,0)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t,n,t-i,0,t,i)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,t,o-n)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t-n,o,t,o-i,t-i,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,a)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,n,o)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,o-n,i,o,0,o-i)),h.add(new r.a.PathSegment(r.a.PathSegment.Line,0,n)),h.add(new r.a.PathSegment(r.a.PathSegment.Bezier,n,0,0,i,i,0).close()),i>1?(d.spot1=new r.a.Spot(0,0,i,i),d.spot2=new r.a.Spot(1,.8,-i,-i)):(d.spot1=r.a.Spot.TopLeft,d.spot2=new r.a.Spot(1,.8)),d})),r.a.Shape.defineFigureGenerator("Repeat",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0*t,.45*a,!0);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,.9*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.9*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.45*a).close());var o=new r.a.PathFigure(1*t,.55*a,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.55*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.55*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.1*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,0*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,0*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,.55*a).close()),n})),r.a.Shape.defineFigureGenerator("Windows",(function(e,t,a){return(new r.a.Geometry).add(new r.a.PathFigure(0,0,!0).add(new r.a.PathSegment(r.a.PathSegment.Line,t,0)).add(new r.a.PathSegment(r.a.PathSegment.Line,t,a)).add(new r.a.PathSegment(r.a.PathSegment.Line,0,a).close()).add(new r.a.PathSegment(r.a.PathSegment.Move,.4*t,.4*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.8*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.8*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.9*t,.4*a).close()).add(new r.a.PathSegment(r.a.PathSegment.Move,.2*t,.1*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.2*t,.6*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.6*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,.1*a).close()).add(new r.a.PathSegment(r.a.PathSegment.Move,.1*t,.6*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.9*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.9*a)).add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.6*a).close()))})),r.a.Shape.defineFigureGenerator("Terminal",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0*t,.1*a,!1);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,.1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,.9*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0*t,.9*a).close());var o=new r.a.PathFigure(.1*t,.2*a,!0);n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.25*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.22*t,.285*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.32*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.1*t,.37*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.275*t,.32*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.275*t,.25*a).close());var d=new r.a.PathFigure(.28*t,.37*a,!0);return n.add(d),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.37*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.41*a)),d.add(new r.a.PathSegment(r.a.PathSegment.Line,.28*t,.41*a).close()),n})),r.a.Shape.defineFigureGenerator("Beaker",(function(e,t,a){var n=new r.a.Geometry,i=15*x,o=new r.a.PathFigure(.62*t,.475*a,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,t,a-15)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,t-15,a,t,a-i,t-i,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,15,a)),o.add(new r.a.PathSegment(r.a.PathSegment.Bezier,0,a-15,i,a,0,a-i)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.38*t,.475*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.38*t,.03*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.36*t,0*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.64*t,0*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.62*t,.03*a).close()),i>1?(n.spot1=new r.a.Spot(0,0,i,i),n.spot2=new r.a.Spot(1,1,-i,-i)):(n.spot1=r.a.Spot.TopLeft,n.spot2=r.a.Spot.BottomRight),n})),r.a.Shape.defineFigureGenerator("Download",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0*t,1*a,!0);n.add(i);i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.755*t,.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.93*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.64*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.61*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.39*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.36*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.07*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.245*t,.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(1-.66),.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(1-.66),0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(1-.8),0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0*t,a*(1-.1/.3)).close());var o=new r.a.PathFigure(.4*t,0*a,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.44*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.26*t,.44*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.66*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.74*t,.44*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.44*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,0*a).close()),n})),r.a.Shape.defineFigureGenerator("Bin",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0*t,1*a,!0);n.add(i);return i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.755*t,.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.93*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.64*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.61*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.39*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.36*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.07*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.245*t,.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(1-.66),.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(1-.66),0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(1-.8),0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0*t,a*(1-.1/.3)).close()),n})),r.a.Shape.defineFigureGenerator("Upload",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(0*t,1*a,!0);n.add(i);i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.8*t,0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.66*t,.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.755*t,.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.93*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.64*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.61*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.39*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.36*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.07*t,a*(1-.1/.3))),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.245*t,.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(1-.66),.055*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(1-.66),0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,t*(1-.8),0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0*t,a*(1-.1/.3)).close());var o=new r.a.PathFigure(.5*t,0*a,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.26*t,.25*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.25*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.4*t,.63*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.63*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.6*t,.25*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.74*t,.25*a).close()),n})),r.a.Shape.defineFigureGenerator("EmptyDrink",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.15*t,0*a,!1);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,1*a).close()),n})),r.a.Shape.defineFigureGenerator("Drink",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.15*t,0*a,!1);n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.85*t,0*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.7*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.3*t,1*a).close());var o=new r.a.PathFigure(.235*t,.28*a,!0);return n.add(o),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.765*t,.28*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.655*t,.97*a)),o.add(new r.a.PathSegment(r.a.PathSegment.Line,.345*t,.97*a).close()),n})),r.a.Shape.defineFigureGenerator("4Arrows",(function(e,t,a){var n=new r.a.Geometry,i=new r.a.PathFigure(.5*t,0*a,!0);return n.add(i),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.35*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,1*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.65*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.75*t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.55*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.65*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.5*t,1*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.75*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,.55*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,.65*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,0*t,.5*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,.35*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.25*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.45*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.45*t,.25*a)),i.add(new r.a.PathSegment(r.a.PathSegment.Line,.35*t,.25*a).close()),n})),r.a.Shape.defineFigureGenerator("Connector","Ellipse"),r.a.Shape.defineFigureGenerator("Alternative","TriangleUp"),r.a.Shape.defineFigureGenerator("Merge","TriangleUp"),r.a.Shape.defineFigureGenerator("Decision","Diamond"),r.a.Shape.defineFigureGenerator("DataTransmissions","Hexagon"),r.a.Shape.defineFigureGenerator("Gate","Crescent"),r.a.Shape.defineFigureGenerator("Delay","HalfEllipse"),r.a.Shape.defineFigureGenerator("Input","Parallelogram1"),r.a.Shape.defineFigureGenerator("ManualLoop","ManualOperation"),r.a.Shape.defineFigureGenerator("ISOProcess","Chevron"),r.a.Shape.defineFigureGenerator("MessageToUser","SquareArrow"),r.a.Shape.defineFigureGenerator("MagneticData","Cylinder1"),r.a.Shape.defineFigureGenerator("DirectData","Cylinder4"),r.a.Shape.defineFigureGenerator("StoredData","DataStorage"),r.a.Shape.defineFigureGenerator("SequentialData","MagneticTape"),r.a.Shape.defineFigureGenerator("Subroutine","Procedure");var U=r.a.GraphObject.make,V=["#FFFFFF","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#607D8B"],X=U(r.a.Adornment,"Spot",{cursor:"move",mouseEnter:function(e,t){e.diagram.isReadOnly||Se(t)},mouseLeave:function(e,t){e.diagram.isReadOnly||Se(t,!1)},doubleClick:function(e,t){if(t.diagram&&!t.diagram.isReadOnly){var a=t.part.findObject("TEXT");a&&t.diagram.commandHandler.editTextBlock(a)}}},U(r.a.Panel,"Auto",U(r.a.Shape,"RoundedRectangle",{fill:null,stroke:"#2196F3cc",strokeWidth:1,alignment:r.a.Spot.Center},new r.a.Binding("stroke","color"),new r.a.Binding("strokeDashArray","strokeDashArray")),U(r.a.Placeholder,{padding:2,alignment:r.a.Spot.Center}))),q=U(r.a.Adornment,{locationSpot:r.a.Spot.Center,locationObjectName:"CONTAINER",cursor:"pointer"},U(r.a.Shape,"Diamond",{desiredSize:new r.a.Size(12,12),fill:"white",stroke:"#2196F3"}),U(r.a.Shape,{geometryString:"M6 12 L6 45",isGeometryPositioned:!0,stroke:"#2196F3",strokeWidth:1.5,strokeDashArray:[4,2]})),K=U(r.a.Adornment,"Spot",{locationSpot:r.a.Spot.Center},U(r.a.Placeholder),U(r.a.Shape,{alignment:r.a.Spot.TopLeft,alignmentFocus:r.a.Spot.BottomRight,cursor:"nw-resize",desiredSize:new r.a.Size(9,9),fill:"white",stroke:"#2196F3"}),U(r.a.Shape,{alignment:r.a.Spot.Top,alignmentFocus:r.a.Spot.Bottom,cursor:"n-resize",desiredSize:new r.a.Size(9,9),fill:"white",stroke:"#2196F3"}),U(r.a.Shape,{alignment:r.a.Spot.TopRight,alignmentFocus:r.a.Spot.BottomLeft,cursor:"ne-resize",desiredSize:new r.a.Size(9,9),fill:"white",stroke:"#2196F3"}),U(r.a.Shape,{alignment:r.a.Spot.Left,alignmentFocus:r.a.Spot.Right,cursor:"w-resize",desiredSize:new r.a.Size(9,9),fill:"white",stroke:"#2196F3"}),U(r.a.Shape,{alignment:r.a.Spot.Right,alignmentFocus:r.a.Spot.Left,cursor:"e-resize",desiredSize:new r.a.Size(9,9),fill:"white",stroke:"#2196F3"}),U(r.a.Shape,{alignment:r.a.Spot.BottomLeft,alignmentFocus:r.a.Spot.TopRight,cursor:"se-resize",desiredSize:new r.a.Size(9,9),fill:"white",stroke:"#2196F3"}),U(r.a.Shape,{alignment:r.a.Spot.Bottom,alignmentFocus:r.a.Spot.Top,cursor:"s-resize",desiredSize:new r.a.Size(9,9),fill:"white",stroke:"#2196F3"}),U(r.a.Shape,{alignment:r.a.Spot.BottomRight,alignmentFocus:r.a.Spot.TopLeft,cursor:"sw-resize",desiredSize:new r.a.Size(9,9),fill:"white",stroke:"#2196F3"})),Y=U("ContextMenu",U(r.a.Panel,"Horizontal",{background:"#fff",padding:12},U(r.a.Panel,"Auto",{width:24,height:24,padding:2,cursor:"pointer",click:function(e,t){e.diagram.startTransaction("删除图标"),e.diagram.model.removeArrayItem(t.part.adornedPart.data.icons,t.part.adornedObject.itemIndex),e.diagram.commitTransaction("删除图标")}},U(r.a.Shape,"Circle",{fill:"red",strokeWidth:0}),U(r.a.Shape,"XLine",{stroke:"#fff"})),U(r.a.Shape,"LineV",{stroke:"#3333",height:28,width:6}),V.map((function(e){return U(r.a.Shape,"Circle",{cursor:"pointer",stroke:"#c3c3c3",strokeWidth:1,width:18,height:18,fill:e,margin:2,click:function(e,t){e.diagram.startTransaction("改变图标颜色"),t.part.adornedObject.data.stroke=t.fill,t.part.adornedObject.updateTargetBindings(),e.diagram.commitTransaction("改变图标颜色")}})}))));function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0,n=null;switch(e){case"fontColor":n=new r.a.Binding("stroke",t+"fontColor",a);break;case"radius":n=new r.a.Binding("parameter1",t+"radius",a);break;case"smallWidth":n=new r.a.Binding("width",t+"smallWidth",a);break;case"smallHeight":n=new r.a.Binding("height",t+"smallHeight",a);break;case"location":n=new r.a.Binding("loc",t+"location",a);break;default:n=new r.a.Binding(e,t+e,a)}return n}function J(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.separator,r=void 0===n?"_":n;if(!o.a.isArray(e)&&!o.a.isString(e)||!o.a.isArray(t))throw new Error("rootName should be string or array,names should be array ");return o.a.isArray(e)&&(e=e.join(r)),o.a.map(t,(function(t){var a=$(t=o.a.toLower(t),e+r,(function(e,a){return a.data[t]||e}));return a=a.ofModel()}))}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.separator,n=void 0===a?"_":a;if(!o.a.isArray(e)||!o.a.isString(n))throw new Error("name must be an array and  separator should be a string");return o.a.toLower(e.join(n))}function Q(e){if(!o.a.isBoolean(e))throw new Error("isTwoway must be a boolean");for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return o.a.map(a,(function(t){var a=$(t);return e&&a&&(a=a.makeTwoWay()),a}))}function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TEXT";return{doubleClick:function(t,a){if(a.diagram&&!a.diagram.isReadOnly){var n=a.part.findObject(e);n&&a.diagram.commandHandler.editTextBlock(n)}}}}function te(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(o.a.isString(e)&&(e=[e]),!o.a.isArray(e))throw new Error("rootName should be an array");for(var n=o.a.defaults(t,{fontColor:"#333",fontFamily:"arial,sans-serif",fontSize:14,fontItalic:!1,fontBold:!1,isUnderline:!1,isStrikethrough:!1,textAlign:"center",verticalAlignment:r.a.Spot.Center,alignment:r.a.Spot.Center,stretch:r.a.GraphObject.Horizontal,margin:new r.a.Margin(12),overflow:r.a.TextBlock.OverflowClip}),i=n.fontColor,d=n.fontFamily,h=n.fontSize,g=n.fontItalic,u=n.fontBold,m=n.isUnderline,S=n.isStrikethrough,c=n.verticalAlignment,l=n.alignment,s=n.stretch,P=n.margin,f={name:"TEXT",textAlign:"center",text:a,font:ae({fontFamily:d,fontSize:h,fontItalic:g,fontBold:u}),isUnderline:m,isStrikethrough:S,margin:P,overflow:r.a.TextBlock.WrapBreakAll,wrap:r.a.TextBlock.WrapDesiredSize,stroke:i,verticalAlignment:c,stretch:s,alignment:l},w=arguments.length,p=new Array(w>3?w-3:0),v=3;v<w;v++)p[v-3]=arguments[v];return U.apply(void 0,[r.a.TextBlock,f,new r.a.Binding("stroke","fontColor").ofModel(),new r.a.Binding("font",Z([].concat(W(e),["fontFamily"])),(function(e,t){return ae(R({},t.part.data,{fontFamily:e}))})).ofModel(),new r.a.Binding("font",Z([].concat(W(e),["fontSize"])),(function(e,t){return ae(R({},t.part.data,{fontSize:e}))})).ofModel(),new r.a.Binding("font",Z([].concat(W(e),["fontItalic"])),(function(e,t){return ae(R({},t.part.data,{fontItalic:e}))})).ofModel(),new r.a.Binding("font",Z([].concat(W(e),["fontBold"])),(function(e,t){return ae(R({},t.part.data,{fontBold:e}))})).ofModel(),new r.a.Binding("stroke","fontColor"),new r.a.Binding("font","fontFamily",(function(e,t){return ae(R({},t.part.data,{fontFamily:e}))})),new r.a.Binding("font","fontSize",(function(e,t){return ae(R({},t.part.data,{fontSize:e}))})),new r.a.Binding("font","fontItalic",(function(e,t){return ae(R({},t.part.data,{fontItalic:e}))})),new r.a.Binding("font","fontBold",(function(e,t){return ae(R({},t.part.data,{fontBold:e}))}))].concat(W(Q(!0,"text","isUnderline","isStrikethrough")),p))}function ae(e){var t=e.fontFamily,a=void 0===t?"arial,sans-serif":t,n=e.fontSize,r=void 0===n?"14px":n,i=e.fontItalic,o=e.fontBold;return"".concat(i?"italic":""," ").concat(o?"bold":"","  ").concat(parseInt(r),"px/").concat(parseInt(r)+6,"px ").concat(a||""," ")}function ne(e,t){r.a.GraphObject.make(r.a.TreeLayout,{angle:t,arrangement:r.a.TreeLayout.ArrangementFixedRoots,nodeSpacing:2,layerSpacing:35,setsPortSpot:!1,setsChildPortSpot:!1}).doLayout(e)}function re(e,t,a){e.model.setDataProperty(t.data,"dir",a);for(var n=t.findTreeChildrenNodes();n.next();)re(n.value.diagram,n.value,a)}function ie(e){if(e){var t=e.diagram;t.startTransaction("Layout");var a=new r.a.Set,n=new r.a.Set;e.findLinksConnected().each((function(t){var r=t.toNode;re(r.diagram,r,r.data.dir),"left"===r.data.dir?(n.add(e),n.add(t),n.addAll(r.findTreeParts())):(a.add(e),a.add(t),a.addAll(r.findTreeParts()))})),ne(a,0),ne(n,180),t.commitTransaction("Layout")}}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"icons";return U(r.a.Panel,"Horizontal",{stretch:r.a.GraphObject.Horizontal,itemTemplate:de(e)},new r.a.Binding("itemArray",t))}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fontSize:32},t=e.fontSize;return U(r.a.Panel,"Auto",{contextMenu:Y,padding:2,cursor:"pointer",mouseEnter:function(e,t){t.findObject("ICON_CONTAINER").stroke="#3333"},mouseLeave:function(e,t){t.findObject("ICON_CONTAINER").stroke="transparent"},click:function(e,t){e.diagram.commandHandler.showContextMenu(t)}},U(r.a.Shape,{fill:"transparent",stroke:"transparent",strokeWidth:1,name:"ICON_CONTAINER"}),U.apply(void 0,[r.a.TextBlock,{name:"ICON",margin:0,stroke:"#666",font:"".concat(t,"px 'Material Design Icons'"),editable:!1,isMultiline:!1}].concat(W(Q(!1,"stroke")),[new r.a.Binding("text","text",(function(e){return String.fromCodePoint(parseInt(e,16))}))])))}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NODE",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q;return{rotatable:!0,rotateObjectName:e,rotateAdornmentTemplate:t}}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NODE",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:K;return{resizable:!0,resizeObjectName:e,resizeAdornmentTemplate:t}}function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"NODE",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;return{selectable:!0,selectionObjectName:e,selectionAdornmentTemplate:t}}function me(){return[{itemTemplate:U(r.a.Panel,"Auto",U(r.a.Shape,"Circle",{opacity:0,name:"PORT",fromLinkable:!0,toLinkable:!0,fill:"#2196F3",stroke:null,desiredSize:new r.a.Size(10,10),cursor:"pointer"},new r.a.Binding("fromSpot","align",r.a.Spot.parse),new r.a.Binding("toSpot","align",r.a.Spot.parse),new r.a.Binding("portId","id")),new r.a.Binding("alignment","align",r.a.Spot.parse),new r.a.Binding("alignmentFocus","align",r.a.Spot.parse))},new r.a.Binding("itemArray","ports")]}function Se(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(e instanceof r.a.Adornment?e.adornedObject.part:e.part).ports.each((function(e){"PORT"===e.name&&(e.opacity=t?.6:0)}))}function ce(e){var t=[];return e.forEach((function(e){if(e){var a=(n=e.label,i={click:function(t){e.execute(t.diagram.selection.first())}},U("ContextMenuButton",U(r.a.TextBlock,n,R({verticalAlignment:r.a.Spot.Center,stroke:"#333",minSize:new r.a.Size(80,30),background:"#fff",font:"14px sans-serif"},i))));e.onChangeStatus=function(e){a.visible=e},t.push(a)}var n,i})),t.length>0?U.apply(void 0,["ContextMenu"].concat(t)):null}function le(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(t&&e.toolManager.draggingTool.copiedParts&&e.toolManager.draggingTool.copiedParts.iteratorKeys||e.selection).first()}function se(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t&&e.toolManager.draggingTool.copiedParts&&e.toolManager.draggingTool.copiedParts.iteratorKeys||e.selection}function Pe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{denyCategories:[],afterSuccess:i,transactionName:"拖动",removeOnSuccess:!0},n=a.denyCategories,i=a.afterSuccess,d=a.removeOnSuccess;return t=o.a.pull(t,n),{mouseDragEnter:function(e,a){for(var r=se(e.diagram).iterator;r.next();){var i=r.value.part.category;if(n.indexOf(i)<0&&("*"===t[0]||t.indexOf(i)>-1)){a.part.isHighlighted=!0;break}}},mouseDragLeave:function(e,t){t.isHighlighted=!1},mouseDrop:function(a,o){o.isHighlighted=!1;var h=se(a.diagram).iterator;a.diagram.model.commit((function(g){for(var u=new r.a.List;h.next();){var m=h.value.data,S=m.text,c=m.stroke,l=h.value.part.category;n.indexOf(l)<0&&("*"===t[0]||t.indexOf(l)>-1)&&(o.part.data[e]||g.set(o.part.data,e,[]),g.addArrayItem(o.part.data[e],{text:S,stroke:c})),d&&a.diagram.remove(h.value)}i&&i(o,u)}))}}}function fe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{excludeCategorys:[],afterSuccess:null,transactionName:"拖动",removeOnSuccess:!0},a=t.denyCategories,n=void 0===a?[]:a,i=t.afterSuccess;return e=o.a.pull(e,n),{mouseDragEnter:function(t,a){for(var r=se(t.diagram).iterator;r.next();){var i=r.value.part.category;if(n.indexOf(i)<0&&("*"===e[0]||e.indexOf(i)>-1)){a.part.isHighlighted=!0;break}}},mouseDragLeave:function(e,t){t.part.isHighlighted=!1},mouseDrop:function(t,a){a.part.isHighlighted=!1;for(var o=se(t.diagram).iterator,d=new r.a.List;o.next();){var h=o.value.category;n.indexOf(h)<0&&("*"===e[0]||e.indexOf(h)>-1)&&d.add(o.value)}a.part.addMembers(d,!0),i&&i(a,d)}}}var we=null;r.a.GraphObject.make;function pe(e,t){var a=null,n=t.key,i=t.locationObject.getDocumentBounds(),o=i.width,d=i.height,h=i.x,g=i.y,u=null,m=null,S=["top","bottom","left","right"],c=[new r.a.Rect(h,g-20-20,o,d),new r.a.Rect(h,g,o,d+20+20),new r.a.Rect(h-20,g,o,d),new r.a.Rect(h,g,o+20,d)],l=null;return c.some((function(t,i){if((a=function(e,t,a){return e.findObjectsIn(t,(function(e){return e.part}),(function(e){return e instanceof r.a.Node&&("TreeNode"===e.category||"TreeTitle"===e.category||"TreeSubtitle"===e.category||"TreeFree"===e.category)&&e.key!==a}),!0)}(e,t,n)).size>0)return l=S[i],!0})),a.size>0&&(u=a.first(),m="left"==l||"right"===l?u:e.findNodeForKey(u.data.parent)),{part:u,direction:l,parent:m}}function ve(e){var t=function(e){var t=null;return e.model.nodeDataArray.some((function(e){if("TreeHolder"===e.category)return t=e,!0})),t}(e);e.model.removeNodeData(t)}function ye(){r.a.DraggingTool.call(this)}r.a.Diagram.inherit(ye,r.a.DraggingTool),ye.prototype.doMouseMove=function(){r.a.DraggingTool.prototype.doMouseMove.call(this);var e=this.diagram.selection.first(),t=pe(this.diagram,e),a=(t.part,t.parent),n=(t.direction,null),i=null;if(!a||"TreeNode"!==e.part.category&&"TreeFree"!==e.part.category)ve(this.diagram),we=null;else{if(a.data.dir)n=a.data.dir;else n=e.getDocumentBounds().x>a.getDocumentBounds().x?"right":"left";if(!we||a.key!==we.key){ve(this.diagram),i={category:"TreeHolder",dir:n,parent:a.key},this.diagram.model.addNodeData(i);var o=this.diagram.findNodeForData(i).findTreeRoot();re(this.diagram,o,n),ie(o,this.diagram)}we=a}},ye.prototype.doActivate=function(){r.a.DraggingTool.prototype.doActivate.call(this);for(var e=this.diagram.selection.iterator;e.next();)e.value.setProperties({isTreeExpanded:!1}),this.diagram.model.setDataProperty(e.value.data,"parent",null)},ye.prototype.doDeactivate=function(){r.a.DraggingTool.prototype.doDeactivate.call(this);var e,t,a=(e=this.diagram,t=null,e.model.nodeDataArray.some((function(a){if("TreeHolder"===a.category)return t=e.findNodeForKey(a.key),!0})),t),n=a?a.part.data:null,i=a?a.findTreeRoot():null,o=this.diagram.selection.iterator;if(ve(this.diagram),n){n.category;var d=n.parent,h=n.dir;for(n.loc;o.next();)this.diagram.commandHandler.expandTree(o.value),o.value.data&&(this.diagram.model.setDataProperty(o.value.data,"parent",d),this.diagram.model.setDataProperty(o.value.data,"dir",h),this.diagram.model.setCategoryForNodeData(o.value.data,"TreeNode"),o.value.data.dir!==h&&re(this.diagram,o.value,h));ie(i,this.diagram)}else for(;o.next();){var g=o.value;"TreeFree"!==g.category&&"TreeNode"!==g.category||(this.diagram.commandHandler.expandTree(g),g.data&&(this.diagram.model.setCategoryForNodeData(g.data,"TreeFree"),ie(g,this.diagram)))}},ye.prototype.doDragOver=function(e,t){r.a.DraggingTool.prototype.doDragOver.call(this)},ye.prototype.doDropOnto=function(e,t){r.a.DraggingTool.prototype.doDropOnto.call(this)};var Le=ye;function be(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ke=r.a.GraphObject.make,Fe=null,Be=null,_e=null,Ge=null,ze=null,Oe=function(e){var t=e.viewportBounds;e.startTransaction("update scales"),Be.location=new r.a.Point(t.x,t.y),Be.graduatedMin=t.x,Be.graduatedMax=t.right,Be.scale=1/e.scale,_e.location=new r.a.Point(t.x,t.y),_e.graduatedMin=t.y,_e.graduatedMax=t.bottom,_e.scale=1/e.scale,e.commitTransaction("update scales");var a=e.div.offsetWidth,n=e.div.offsetHeight;a>0&&n>0&&(Be.part.findObject("CONTAINER").setProperties({geometryString:"M0 0 H".concat(a)}),_e.part.findObject("CONTAINER").setProperties({geometryString:"M0 0 V".concat(n)}))},Te=function(e){e.commitTransaction("add scales"),e.add(Be),e.add(_e),e.add(Ge),e.add(ze),e.commitTransaction("add scales"),Oe(e)},xe=function(e){var t=e.viewportBounds,a=e.lastInput.documentPoint;Ge.location=new r.a.Point(Math.max(a.x,t.x),t.y),Ge.scale=1/e.scale,ze.location=new r.a.Point(t.x,Math.max(a.y,t.y)),ze.scale=1/e.scale},Ne=function(){function e(t,a){var n,i=t.meshColor,o=t.ruleColor;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=a,this.meshColor=i,this.ruleColor=o,n=i,Fe=ke(r.a.Panel,"Grid",{name:"GRID",visible:!1,gridCellSize:new r.a.Size(10,10),gridOrigin:new r.a.Point(0,0)},ke(r.a.Shape,"LineH",{strokeWidth:.5,interval:1,stroke:n}),ke(r.a.Shape,"LineH",{strokeWidth:.5,interval:10,stroke:n}),ke(r.a.Shape,"LineV",{strokeWidth:.5,interval:1,stroke:n}),ke(r.a.Shape,"LineV",{strokeWidth:.5,interval:10,stroke:n}));var d=function(e){return{gradScaleHoriz:ke(r.a.Node,"Graduated",{name:"GRAD_SCALE",selectable:!1,graduatedTickUnit:10,pickable:!1,layerName:"Foreground",isInDocumentBounds:!1,isAnimated:!1,background:"#fff",opacity:.6,visible:!1},ke(r.a.Shape,{name:"CONTAINER",geometryString:"M0 0 H1920"}),ke(r.a.Shape,{geometryString:"M0 0 V3",interval:1,stroke:e}),ke(r.a.Shape,{geometryString:"M0 0 V15",interval:5,stroke:e}),ke(r.a.TextBlock,{font:"10px sans-serif",interval:5,alignmentFocus:r.a.Spot.TopLeft,segmentOffset:new r.a.Point(0,7)},e)),gradScaleVert:ke(r.a.Node,"Graduated",{name:"GRAD_SCALE",selectable:!1,graduatedTickUnit:10,pickable:!1,layerName:"Foreground",isInDocumentBounds:!1,isAnimated:!1,background:"#fff",opacity:.6,visible:!1},ke(r.a.Shape,{name:"CONTAINER",geometryString:"M0 0 V1080"}),ke(r.a.Shape,{geometryString:"M0 0 V3",interval:1,alignmentFocus:r.a.Spot.Bottom}),ke(r.a.Shape,{geometryString:"M0 0 V15",interval:5,alignmentFocus:r.a.Spot.Bottom}),ke(r.a.TextBlock,{font:"10px sans-serif",segmentOrientation:r.a.Link.OrientOpposite,interval:5,stroke:e,alignmentFocus:r.a.Spot.BottomLeft,segmentOffset:new r.a.Point(0,-7)})),gradIndicatorHoriz:ke(r.a.Node,{visible:!1,selectable:!1,pickable:!1,layerName:"Foreground",isInDocumentBounds:!1,isAnimated:!1,locationSpot:r.a.Spot.Top},ke(r.a.Shape,{geometryString:"M0 0 V15",strokeWidth:2,stroke:"red"})),gradIndicatorVert:ke(r.a.Node,{selectable:!1,isInDocumentBounds:!1,isAnimated:!1,pickable:!1,layerName:"Foreground",visible:!1,locationSpot:r.a.Spot.Left},ke(r.a.Shape,{geometryString:"M0 0 H15",strokeWidth:2,stroke:"red"}))}}(o);Be=d.gradScaleHoriz,_e=d.gradScaleVert,Ge=d.gradIndicatorHoriz,ze=d.gradIndicatorVert}var t,a,n;return t=e,(a=[{key:"makeMeshTemplate",value:function(){return{grid:Fe}}},{key:"makeResizingTool",value:function(){return{resizingTool:new v}}},{key:"makeArchorTemplate",value:function(){return ke(r.a.Shape,"Rectangle",{width:10,height:10,opacity:.8,fill:"#409eff",stroke:"#333",mouseEnter:function(e,t){if(!t.cursor){var a=t.alignment;a===r.a.Spot.TopLeft?t.cursor="nw-resize":a===r.a.Spot.TopCenter?t.cursor="n-resize":a===r.a.Spot.TopRight?t.cursor="ne-resize":a===r.a.Spot.RightCenter?t.cursor="e-resize":a===r.a.Spot.BottomRight?t.cursor="se-resize":a===r.a.Spot.BottomCenter?t.cursor="s-resize":a===r.a.Spot.BottomLeft?t.cursor="sw-resize":a===r.a.Spot.LeftCenter&&(t.cursor="w-resize")}}},new r.a.Binding("cursor"))}},{key:"makeRelinkTool",value:function(){return{"linkingTool.isUnconnectedLinkValid":!0,"linkingTool.portGravity":20,"relinkingTool.isUnconnectedLinkValid":!0,"relinkingTool.portGravity":20,"relinkingTool.fromHandleArchetype":ke(r.a.Shape,"Diamond",{segmentIndex:0,cursor:"pointer",desiredSize:new r.a.Size(12,12),fill:"#2196F3",stroke:"#2196F3"}),"relinkingTool.toHandleArchetype":ke(r.a.Shape,"Diamond",{segmentIndex:-1,cursor:"pointer",desiredSize:new r.a.Size(12,12),fill:"#2196F3",stroke:"#2196F3"}),"linkReshapingTool.handleArchetype":ke(r.a.Shape,"Diamond",{desiredSize:new r.a.Size(12,12),fill:"#2196F3",stroke:"#2196F3"})}}},{key:"makeGuideDraggingTool",value:function(){return{draggingTool:new L,"dragSelectingTool.box":ke(r.a.Part,{layerName:"Tool",selectable:!1},ke(r.a.Shape,{name:"SHAPE",fill:"#2196F322",stroke:"#2196F399",strokeWidth:1})),"draggingTool.dragsLink":!0,"draggingTool.isGridSnapEnabled":!0,"draggingTool.horizontalGuidelineColor":"blue","draggingTool.verticalGuidelineColor":"blue","draggingTool.centerGuidelineColor":"green","draggingTool.guidelineWidth":1}}},{key:"makeDraggingTreeTool",value:function(){return{draggingTool:new Le,"dragSelectingTool.box":ke(r.a.Part,{layerName:"Tool",selectable:!1},ke(r.a.Shape,{name:"SHAPE",fill:"#2196F322",stroke:"#2196F399",strokeWidth:1}))}}},{key:"makeRotatingTool",value:function(){return{"rotatingTool.handleAngle":270,"rotatingTool.handleDistance":30,"rotatingTool.snapAngleMultiple":15,"rotatingTool.snapAngleEpsilon":15}}},{key:"setupRule",value:function(){var e=this.canvas;e.addDiagramListener("InitialLayoutCompleted",(function(){return Te(e)})),e.addDiagramListener("ViewportBoundsChanged",(function(){return Oe(e)})),e.addDiagramListener("ViewportBoundsChanged",(function(){return xe(e)})),e.toolManager.doMouseMove=function(){r.a.ToolManager.prototype.doMouseMove.call(this),xe(e)},e.toolManager.linkingTool.doMouseMove=function(){r.a.LinkingTool.prototype.doMouseMove.call(this),xe(e)},e.toolManager.draggingTool.doMouseMove=function(){r.a.DraggingTool.prototype.doMouseMove.call(this),xe(e)},e.toolManager.dragSelectingTool.doMouseMove=function(){r.a.DragSelectingTool.prototype.doMouseMove.call(this),xe(e)},e.mouseEnter=function(){Ge.visible=!0,ze.visible=!0},e.mouseLeave=function(){Ge.visible=!1,ze.visible=!1},Te(e)}},{key:"unsetupRule",value:function(){var e;(e=this.canvas).startTransaction("remove scales"),e.remove(Be),e.remove(_e),e.remove(Ge),e.remove(ze),e.commitTransaction("remove scales")}},{key:"setMeshColor",value:function(e){this.canvas.grid.elements.each((function(t){t.stroke=e}))}},{key:"setRuleColor",value:function(e){Be.elements.each((function(t){t.stroke=e})),_e.elements.each((function(t){t.stroke=e}))}},{key:"setupMesh",value:function(){Fe.visible=!0}},{key:"unsetupMesh",value:function(){Fe.visible=!1}}])&&be(t.prototype,a),n&&be(t,n),e}(),je=a(2),Me=a.n(je);function Ae(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var De=r.a.GraphObject.make,Ee=De(r.a.Adornment,"Auto",De(r.a.Placeholder));function Ce(){r.a.Link.call(this)}r.a.Diagram.inherit(Ce,r.a.Link),Ce.prototype.makeGeometry=function(){var e=this.pointsCount;if(e<4||this.computeCurve()!==r.a.Link.Bezier)return r.a.Link.prototype.makeGeometry.call(this);var t=this.getPoint(0),a=this.getPoint(e>4?2:1),n=this.getPoint(e>4?e-3:2),i=this.getPoint(e-1),o=Math.abs(t.y-a.y)<Math.abs(t.x-a.x),d=Math.abs(n.y-i.y)<Math.abs(n.x-i.x),h=t.x+(o?0:-4),g=t.y+(o?-4:0),u=a.x+(o?0:-3),m=a.y+(o?-3:0),S=n.x+(d?0:-2),c=n.y+(d?-2:0),l=i.x+(d?0:-1),s=i.y+(d?-1:0),P=new r.a.PathFigure(h,g,!0);P.add(new r.a.PathSegment(r.a.PathSegment.Bezier,l,s,u,m,S,c)),h=t.x+(o?0:4),g=t.y+(o?4:0),u=a.x+(o?0:3),m=a.y+(o?3:0),S=n.x+(d?0:2),c=n.y+(d?2:0),l=i.x+(d?0:1),s=i.y+(d?1:0),P.add(new r.a.PathSegment(r.a.PathSegment.Line,l,s)),P.add(new r.a.PathSegment(r.a.PathSegment.Bezier,h,g,S,c,u,m).close());var f=new r.a.Geometry;return f.add(P),f.normalize(),f};var Re={name:"treeLink",style:{stroke:"#333",strokeWidth:1,strokeDashArray:[]},node:"LINE",createTemplate:function(e){var t=this.style,a=t.stroke,n=t.strokeWidth,i=t.strokeDashArray;return De(r.a.Link,{curve:r.a.Link.Bezier,toEndSegmentLength:35,fromEndSegmentLength:10,selectable:!1,fromShortLength:-2,toShortLength:-2},De.apply(void 0,[r.a.Shape,{name:"LINE",strokeDashArray:i,stroke:a,strokeWidth:n},new r.a.Binding("stroke","toNode",(function(e){return e.data.stroke||e.findObject("LINE").stroke||"#3333"})).ofObject(),new r.a.Binding("strokeDashArray","toNode",(function(e){return e.data.strokeDashArray||e.findObject("LINE").strokeDashArray||[]})).ofObject()].concat(Ae(J("link",["strokeWidth"])),Ae(Q(!1,"strokeWidth","stroke","strokeDashArray")))),e)}};function Ie(e){return 20*e+40}function We(){r.a.Link.call(this),this.time=0}r.a.Diagram.inherit(We,r.a.Link),We.prototype.getLinkPoint=function(e,t,a,n,i,o,d){var h=t.getDocumentPoint(r.a.Spot.Center),g=d.getDocumentPoint(r.a.Spot.Center),u=this.data,m=null!==u?u.time:this.time,S=this.findActivityWidth(e,m),c=g.x>h.x?h.x+S/2:h.x-S/2,l=Ie(m);return new r.a.Point(c,l)},We.prototype.findActivityWidth=function(e,t){var a=80;return e instanceof r.a.Group&&(e.memberParts.any((function(e){var a=e.data;return null!==a&&a.start<=t&&t<=a.start+a.duration}))||(a=0)),a},We.prototype.getLinkDirection=function(e,t,a,n,i,o,d,h){var g=t.getDocumentPoint(r.a.Spot.Center);return h.getDocumentPoint(r.a.Spot.Center).x>g.x?0:180},We.prototype.computePoints=function(){if(this.fromNode===this.toNode){var e=this.data,t=null!==e?e.time:this.time,a=this.fromNode.port.getDocumentPoint(r.a.Spot.Center),n=this.findActivityWidth(this.fromNode,t),i=a.x+n/2,o=Ie(t);return this.clearPoints(),this.addPoint(new r.a.Point(i,o)),this.addPoint(new r.a.Point(i+50,o)),this.addPoint(new r.a.Point(i+50,o+5)),this.addPoint(new r.a.Point(i,o+5)),!0}return r.a.Link.prototype.computePoints.call(this)};var He={name:"sequenceLink",style:{stroke:"#333",strokeWidth:1,strokeDashArray:[],label:{fontColor:"#333",fontSize:14,fontFamily:"arial,sans-serif",fontBold:null,fontItalic:null,isUnderline:null,isStrikethrough:!1}},createTemplate:function(e){return De(We,{selectionAdorned:!0,curviness:0},De(r.a.Shape,"Rectangle",{stroke:"black"}),De(r.a.Shape,{toArrow:"OpenTriangle",stroke:"black"}),De(r.a.TextBlock,{font:"400 9pt Source Sans Pro, sans-serif",segmentIndex:0,segmentOffset:new r.a.Point(NaN,NaN),isMultiline:!1,editable:!0},new r.a.Binding("text","text").makeTwoWay())),e}},Ue={name:"structLink",createTemplate:function(e){return De(r.a.Link,r.a.Link.Orthogonal,{corner:5,relinkableFrom:!0,relinkableTo:!0},De(r.a.Shape,{strokeWidth:1.5,stroke:"#F5F5F5"}),e)}},Ve={LineLink:{name:"lineLink",style:{line:"Broken",stroke:"#333",strokeWidth:1,curve:r.a.Link.JumpGap,routing:r.a.Link.Orthogonal,strokeDashArray:[],relinkableFrom:!0,relinkableTo:!0,label:{fill:"#fff",stroke:"#666",strokeWidth:1,fontColor:"#333"},corner:5,toShortLength:5,fromShortLength:0,fromArrow:"",reshapable:!0,toArrow:"Standard"},actions:["delete"],node:"LINE",createTemplate:function(e){var t=this.style,a=t.stroke,n=t.strokeWidth,i=t.curve,o=t.routing,d=t.strokeDashArray,h=t.label,g=t.corner,u=t.toShortLength,m=t.fromShortLength,S=t.fromArrow,c=t.reshapable,l=t.toArrow,s=t.adjusting,P=h.fill,f=h.stroke,w=h.strokeWidth;return De.apply(void 0,[r.a.Link,{selectionAdornmentTemplate:Ee,adjusting:s,reshapable:c,resegmentable:!0,relinkableFrom:!0,relinkableTo:!0,curve:i,corner:g,toShortLength:u,fromShortLength:m,selectionAdorned:!0,routing:o,mouseEnter:function(e,t){!e.diagram.isReadOnly||t.part.isSelected},mouseLeave:function(e,t){!e.diagram.isReadOnly&&t.part.isSelected},doubleClick:function(e,t){if(t.diagram&&!t.diagram.isReadOnly){var a=t.part.findObject("TEXT");a&&t.diagram.commandHandler.editTextBlock(a)}}}].concat(Ae(Q(!1,"smoothness","points")),[new r.a.Binding("curviness","curviness").makeTwoWay(),new r.a.Binding("curve","line",(function(e){return"Bend"===e?r.a.Link.Bezier:r.a.Link.JumpGap})),new r.a.Binding("routing","line",(function(e){return"Straight"===e||"Bend"===e?r.a.Link.Normal:r.a.Link.Orthogonal})),De(r.a.Shape,{isPanelMain:!0,strokeWidth:n+6,stroke:"transparent",name:"HIGHLIGHT"},new r.a.Binding("strokeWidth","strokeWidth",(function(e){return parseInt(e)+6})),new r.a.Binding("stroke","isSelected",(function(e){return e?"#2196F366":"transparent"})).ofObject()),De.apply(void 0,[r.a.Shape,{stroke:a,strokeDashArray:d,strokeWidth:n,name:"LINE",isPanelMain:!0}].concat(Ae(J(this.name,["strokeWidth","strokeDashArray","stroke"])),Ae(Q(!1,"strokeWidth","strokeDashArray","stroke")))),De(r.a.Shape,{fromArrow:S,stroke:a,strokeWidth:n,fill:a,name:"FROMARROW"},new r.a.Binding("fromArrow","fromArrow"),new r.a.Binding("scale","strokeWidth",(function(e){return parseInt(parseInt(e)/4)}))),De(r.a.Panel,"Auto",{background:"transparent",cursor:"pointer",click:function(e,t){if(t.diagram&&!t.diagram.isReadOnly){var a=t.part.findObject("TEXT");a&&t.diagram.commandHandler.editTextBlock(a)}}},De(r.a.Shape,"RoundedRectangle",{name:"LABEL",fill:P,strokeWidth:w,stroke:f,visible:!1},new r.a.Binding("visible","text",(function(e){return e.length>0})).ofObject("TEXT"),new r.a.Binding("strokeWidth","strokeWidth"),new r.a.Binding("strokeDashArray","strokeDashArray")),te(this.name,this.style,"")),De(r.a.Shape,{toArrow:l,stroke:a,strokeWidth:n,fill:a,name:"TOARROW"},new r.a.Binding("scale","strokeWidth",(function(e){return parseInt(parseInt(e)/4)})),new r.a.Binding("toArrow","toArrow")),e]))},onChangeStyle:function(e,t,a){"strokeWidth"===t&&a<=0&&(e.data.strokeWidth=1)}},TreeLink:Re,SequenceLink:He,StructLink:Ue};function Xe(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var qe=r.a.GraphObject.make,Ke={ColorCanvas:{name:"colorCanvas",style:{background:"transparent",fill:"transparent",opacity:1,width:40,height:40,fontColor:"#333",fontFamily:"arial,sans-serif",fontSize:14,fontBold:!1,fontItalic:!1,isUnderline:!1,isStrikethrough:!1},actions:["cut","delete","paste","group","copy","ungroup"],createTemplate:function(e){return qe(r.a.Node,"Spot",qe(r.a.Panel,"Vertical",qe(r.a.Panel,"Viewbox",{background:"transparent",name:"NODE",width:40,height:40},new r.a.Binding("desiredSize","size",r.a.Size.parse).makeTwoWay(r.a.Size.stringify),qe(r.a.Panel,{width:1024,height:1024,itemTemplate:qe(r.a.Panel,qe.apply(void 0,[r.a.Shape,{name:"NODE",opacity:1}].concat(Xe(J("canvas",["opacity","fill"])),Xe(Q(!0,"opacity","fill")),Xe(Q(!1,"geometryString")))))}))),te("canvas","text"),e)}},MonoCanvas:{name:"monoCanvas",style:{background:"transparent",fill:"transparent",opacity:1,width:40,height:40,fontColor:"#333",fontFamily:"arial,sans-serif",fontSize:14,fontBold:!1,fontItalic:!1,isUnderline:!1,isStrikethrough:!1},actions:["cut","delete","paste","group","copy","ungroup"],createTemplate:function(e){return qe(r.a.Node,"Vertical",qe(r.a.Panel,"Viewbox",{name:"NODE",width:80,height:80},new r.a.Binding("desiredSize","size",r.a.Size.parse).makeTwoWay(r.a.Size.stringify),qe(r.a.Panel,{width:1024,height:1024,itemTemplate:qe(r.a.Panel,qe.apply(void 0,[r.a.Shape,{name:"NODE",opacity:1,stroke:"#666",strokeWidth:0,fill:"transparent"}].concat(Xe(J("canvas",["opacity","fill"])),Xe(Q(!0,"opacity","fill")),Xe(Q(!1,"geometryString")))))})),te("canvas"),e)}}};function Ye(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var $e=r.a.GraphObject.make,Je={Picture:{name:"picture",actions:["cut","paste","group","copy","ungroup"],style:{figure:"RoundedRectangle",fill:"transparent",background:"transparent",opacity:1,strokeWidth:1,stroke:"transparent",width:80,height:80,fontColor:"#333",fontSize:"14px",fontBold:!1,fontItalic:!1,isUnderline:!1,isStrikethrough:!1},createTemplate:function(e){var t=this.style,a=t.fill,n=t.stroke,i=t.strokeWidth,o=t.width,d=t.height,h=t.figure,g=t.background,u=t.opacity;return $e(r.a.Node,"Spot",$e(r.a.Panel,"Auto",{alignment:r.a.Spot.Center,width:o,height:d,name:"NODE",stretch:r.a.GraphObject.Fill,background:g},new r.a.Binding("desiredSize","size",r.a.Size.parse).makeTwoWay(r.a.Size.stringify),$e.apply(void 0,[r.a.Shape,{figure:h,fill:a,stroke:n,opacity:u,strokeWidth:i}].concat(Ye(Q(!1,"figure","fill","stroke","strokeWidth"))))),te(this.name,this.style),e)}}};function Ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(a),!0).forEach((function(t){et(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function et(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var tt=null,at=r.a.GraphObject.make,nt=function(e,t){for(var a=t.selection.iterator;a.next();)a.value.setProperties({isTreeExpanded:!1}),t.model.setDataProperty(a.value.data,"parent",null)},rt=function(e,t){var a=function(e,t){var a=null,n=t.key,i=t.locationObject.getDocumentBounds(),o=i.width,d=i.height,h=i.x,g=i.y,u=null,m=null,S=["top","bottom","left","right"],c=[new r.a.Rect(h,g-20-20,o,d),new r.a.Rect(h,g,o,d+20+20),new r.a.Rect(h-20,g,o,d),new r.a.Rect(h,g,o+20,d)],l=null;c.some((function(t,i){if((a=function(e,t,a){return e.findObjectsIn(t,(function(e){return e.part}),(function(e){return e instanceof r.a.Node&&("TreeNode"===e.category||"TreeFree"===e.category)&&e.key!==a}),!0)}(e,t,n)).size>0)return l=S[i],!0})),a.size>0&&(u=a.first(),m="left"==l||"right"===l?u:e.findNodeForKey(u.data.parent));return{part:u,direction:l,parent:m}}(t,e).parent,n=null,i=null;if(a){if(0!==a.findTreeLevel())n=a.data.dir;else n=e.getDocumentBounds().x>a.getDocumentBounds().x?"right":"left";if(!tt||a.key!==tt.key)gt(t),i={category:"TreeHolder",dir:n,parent:a.key},t.model.addNodeData(i),ie(t.findNodeForData(i).findTreeRoot());tt=a}else gt(t),tt=null},it=function(e,t){var a=function(e){var t=null;return e.model.nodeDataArray.some((function(a){if("TreeHolder"===a.category)return t=e.findNodeForKey(a.key),!0})),t}(t),n=a?a.part.data:null,r=a?a.findTreeRoot():null,i=t.selection.iterator;if(gt(t),n){for(var o=n.category,d=n.dir;i.next();)t.commandHandler.expandTree(i.value),i.value.data&&(t.model.commit((function(e){e.setDataProperty(i.value.data,"parent",o),e.setDataProperty(i.value.data,"dir",d),e.setCategoryForNodeData(i.value.data,"TreeNode")})),i.value.data.dir!==d&&re(t,i.value,d));ie(r)}else for(;i.next();)t.commandHandler.expandTree(i.value),t.model.commit((function(e){e.setCategoryForNodeData(i.value.data,"TreeFree"),ie(i.value)}))},ot=function(e,t){"FontIcon"===le(e.diagram).category&&(t.isHighlighted=!0)},dt=function(e,t){t.isHighlighted=!1},ht=function(e,t){t.isHighlighted=!1;var a=le(e.diagram),n=a.category,r=a.data,i=r.text,o=r.stroke;"FontIcon"===n&&(e.diagram.startTransaction("添加图标"),t.part.data.icons instanceof Array||(t.part.data.icons=[]),e.diagram.model.addArrayItem(t.part.data.icons,{text:i,stroke:o}),t.part.updateTargetBindings(),ie(t.findTreeRoot()),e.diagram.remove(a),e.diagram.commitTransaction("添加图标"))};function gt(e){var t=function(e){var t=null;return e.model.nodeDataArray.some((function(e){if("TreeHolder"===e.category)return t=e,!0})),t}(e);e.model.removeNodeData(t)}function ut(e,t){return"left"===e?t?r.a.Spot.LeftCenter:r.a.Spot.RightCenter:t?r.a.Spot.RightCenter:r.a.Spot.LeftCenter}var mt={TreeNode:{name:"treeNode",style:{fontColor:"#333",fontFamily:"arial,sans-serif",fontSize:14,isItalic:!1,isStrikethrough:!1},actions:["delete","insertChild","insertBrother","insertParent"],onStartDrag:nt,onDragging:rt,onStopDrag:it,onChangeStyle:function(e,t,a){var n=e.findLinksInto();if("stroke"===t)for(;n.next();)n.value.findObject("LINE").stroke=a},createTemplate:function(e){var t=[at(r.a.Panel,"Vertical",{name:"NODE",padding:2,alignment:r.a.Spot.Center},new r.a.Binding("position","pos").makeTwoWay(),at(r.a.Panel,"Horizontal",at(r.a.Panel,"Auto",{name:"EXPANDER",visible:!0,alignment:r.a.Spot.Left,alignmentFocus:r.a.Spot.Right},new r.a.Binding("opacity","isTreeLeaf",(function(e){return!e})).ofObject(),new r.a.Binding("visible","dir",(function(e){return"left"===e})),at("TreeExpanderButton")),oe(),te(this.name,Qe({},this.style,{fontSize:"14px"}),"子主题",{margin:new r.a.Margin(2,6,2,6),alignment:r.a.Spot.Default,stretch:r.a.GraphObject.Default,textEdited:function(e){return ie(e.part.findTreeRoot(),e.part.diagram)}}),at(r.a.Panel,"Auto",{name:"EXPANDER",visible:!0,alignment:r.a.Spot.Right,alignmentFocus:r.a.Spot.Left},new r.a.Binding("opacity","isTreeLeaf",(function(e){return!e})).ofObject(),new r.a.Binding("visible","dir",(function(e){return"right"===e})),at("TreeExpanderButton")),new r.a.Binding("background","isHighlighted",(function(e){return e?"#FFC107":"transparent"})).ofObject()),at(r.a.Shape,"LineH",{name:"LINE",height:1,stroke:"red",fromShortLength:6,toShortLength:6,stretch:r.a.GraphObject.Horizontal,strokeWidth:1,portId:"",fromSpot:r.a.Spot.LeftRightSides,toSpot:r.a.Spot.LeftRightSides},new r.a.Binding("stroke"),new r.a.Binding("fromSpot","dir",(function(e){return ut(e,!0)})),new r.a.Binding("toSpot","dir",(function(e){return ut(e,!1)}))))];return at(r.a.Node,"Spot",{locationObjectName:"LINE",locationSpot:r.a.Spot.Right,mouseDragEnter:ot,mouseDragLeave:dt,mouseDrop:ht,margin:2,padding:2},new r.a.Binding("location","loc",r.a.Point.parse).makeTwoWay(r.a.Point.stringify),t,ue(),ee(),e)},onDeleteing:function(e){var t=e.findTreeRoot();setTimeout((function(){ie(t)}),0)}},TreeHolder:{name:"treeHolder",styleNames:[],actions:[],createTemplate:function(e){return at(r.a.Node,"Vertical",{name:"CONTAINER",padding:2},"Vertical",at(r.a.Shape,"RoundedRectangle",{fill:"#FFC107",name:"NODE",width:60,height:25,stroke:"#FFC107"}),at(r.a.Shape,"LineH",{stroke:"#FFC107",name:"LINE",height:1,stretch:r.a.GraphObject.Horizontal,strokeWidth:1,portId:"",fromSpot:r.a.Spot.LeftRightSides,toSpot:r.a.Spot.LeftRightSides},new r.a.Binding("stroke"),new r.a.Binding("fromSpot","dir",(function(e){return ut(e,!0)})),new r.a.Binding("toSpot","dir",(function(e){return ut(e,!1)}))),e)}},TreeFree:{name:"treeFree",onStartDrag:nt,onDragging:rt,onStopDrag:it,style:{fill:"#CFD8DC",fontColor:"#333",fontFamily:"arial,sans-serif",fontSize:14,isItalic:!1,isStrikethrough:!1},actions:["delete","insertChild"],createTemplate:function(e){var t=this.style.fill,a=[at(r.a.Panel,"ViewBox",at(r.a.Panel,"Auto",{stretch:r.a.GraphObject.Fill},at(r.a.Shape,"RoundedRectangle",{name:"NODE",strokeWidth:0,fill:"#CFD8DC"},new r.a.Binding("fill","isHighlighted",(function(e,a){return e?"#FFC107":a.part.data.fill||t})).ofObject()),at(r.a.Shape,"LineH",{stretch:r.a.GraphObject.Horizontal,name:"PORT",margin:new r.a.Margin(0,-5,0,-5),stroke:"transparent",height:1,portId:"",fromSpot:r.a.Spot.LeftRightSides,toSpot:r.a.Spot.LeftRightSides}))),at(r.a.Panel,"Horizontal",oe(),te(this.name,this.style,"主题",{textEdited:function(e){return ie(e.part.findTreeRoot(),e.diagram)}}))];return at(r.a.Node,"Auto",{padding:0,margin:0,locationObjectName:"PORT",mouseDragEnter:ot,mouseDragLeave:dt,mouseDrop:ht},a,new r.a.Binding("location","loc",r.a.Point.parse).makeTwoWay(r.a.Point.stringify),ee(),ue(),e)}}};function St(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?St(Object(a),!0).forEach((function(t){lt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):St(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function lt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function st(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Pt={fill:"#fff",stroke:"#333",strokeDashArray:[],strokeWidth:1,opacity:1,width:80,height:80,fontColor:"#333",fontSize:14,fontFamily:"arial,sans-serif",fontBold:null,fontItalic:null,isUnderline:null,isStrikethrough:!1},ft=["cut","paste","group","copy","ungroup"],wt=r.a.GraphObject.make;function pt(){var e=Pt.fill,t=Pt.stroke,a=Pt.strokeDashArray,n=Pt.strokeWidth;return wt(r.a.Node,"Vertical",{locationObjectName:"SHAPE",cursor:"move",selectionAdornmentTemplate:X},wt.apply(void 0,[r.a.Shape,{name:"SHAPE",width:60,height:60,fill:e,stroke:t,strokeDashArray:a,strokeWidth:n}].concat(st(Q(!1,"angle","figure")))),te(this.name,ct({},Pt,{fontColor:"#333",fontSize:12}),name,{isMultiline:!1}))}var vt={Shape:{name:"shape",actions:ft,style:Pt,createPreview:pt,createTemplate:function(){for(var e="#fff",t="#333",a=[],n=1,i=1,o=80,d=80,h=arguments.length,g=new Array(h),u=0;u<h;u++)g[u]=arguments[u];return wt(r.a.Node,"Auto",wt(r.a.Panel,"Spot",{stretch:r.a.GraphObject.Fill,mouseEnter:function(e,t){Se(t,!0)},mouseLeave:function(e,t){Se(t,!1)}},wt.apply(void 0,[r.a.Shape,{width:o,height:d,fill:e,stroke:t,opacity:i,strokeDashArray:a,strokeWidth:n,cursor:"move",name:"NODE"}].concat(st(J(this.name,["figure","fill","opacity","stroke","strokeWidth","strokeDashArray"])),st(Q(!0,"figure","fill","opacity","stroke","strokeWidth","strokeDashArray","width","height","angle")))),me()),new r.a.Binding("position","loc",r.a.Point.parse).makeTwoWay(r.a.Point.stringify),te(this.name),ee(),ue(),he(),ge(),g)},resetStyle:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=o.a.pick(this.style,a);o.a.has(r,"stroke")&&(e.findObject("NODE").stroke=r.stroke)}},ShapeVertical:{name:"shapeVertical",styleName:"Shape",style:Pt,actions:ft,createPreview:pt,createTemplate:function(e){var t=this.style,a=t.fill,n=t.stroke,i=t.strokeDashArray,o=t.strokeWidth,d=t.opacity,h=t.width,g=t.height;return wt(r.a.Node,"Vertical",wt.apply(void 0,[r.a.Shape,ct({width:h,height:g,stretch:r.a.GraphObject.Fill,name:"NODE",fill:a,stroke:n,opacity:d,strokeDashArray:i,strokeWidth:o,cursor:"move"},ee())].concat(st(J("shapevertical",["figure","fill","opacity","stroke","strokeWidth","strokeDashArray"])),st(Q(!1,"figure","fill","opacity","stroke","strokeWidth","strokeDashArray")),st(Q(!1,"width","height","angle")))),te(this.name,Pt),ue(),he(),ge(),e)}}};function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Lt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(a),!0).forEach((function(t){bt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function bt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kt(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ft=r.a.GraphObject.make;function Bt(e){e.findExternalLinksConnected().each((function(e){e.visible=e.fromNode.isVisible()&&e.toNode.isVisible()}))}var _t={Group:{name:"group",style:{radius:8,opacity:1,fill:"transparent",stroke:"#333",strokeWidth:1,fontColor:"#333",fontFamily:"arial,sans-serif",fontSize:14,fontBold:!1,fontItalic:!1,isUnderline:!1,isStrikethrough:!1},actions:["ungroup","remove","copy","cut"],createTemplate:function(e){var t=this.style,a=t.radius,n=t.opacity,i=t.fill,o=t.stroke,d=t.strokeWidth;return Ft(r.a.Group,"Vertical",{cursor:"move",name:"GROUP",ungroupable:!0,selectionAdornmentTemplate:X,doubleClick:function(e,t){if(t.diagram&&!t.diagram.isReadOnly){var a=t.part.findObject("TEXT");a&&t.diagram.commandHandler.editTextBlock(a)}}},Ft(r.a.Panel,"Auto",Ft.apply(void 0,[r.a.Shape,"RoundedRectangle",{parameter1:a,fill:i,opacity:n,stroke:o,strokeWidth:d}].concat(kt(J("group",["opacity","fill","radius","stroke","strokeWidth"])),kt(Q(!1,"opacity","fill","radius","stroke","strokeWidth")))),Ft.apply(void 0,[r.a.Placeholder,{padding:6}].concat(kt(Q(!1,"padding"))))),te(this.name,this.style),ee(),e)}},verticalPool:{style:{fill:"#fff",stroke:"#333",strokeWidth:1,radius:2,strokeDashArray:[]},name:"verticalPool",actions:["insertLane","cut","delete","paste","group","copy","ungroup"],subscribes:{SelectionMoved:function(e){return d(e.diagram)},SelectionCopied:function(e){return d(e.diagram)}},createPreview:function(){return Ft(r.a.Group,"Vertical",{name:"NODE",background:"#fff"},ue(),Ft(r.a.Panel,"Viewbox",{width:60,height:60},Ft(r.a.Shape,{stroke:"#333",strokeWidth:1,fill:"#fff",geometryString:"M 0 0 L 80 0 L 80 80 L 0 80 L 0 0 M 0 20 L 80 20 M 40 20 L 40 80"})),te(this.name,this.style,"泳道"))},createTemplate:function(e){var t=this.style,a=t.fill,n=t.stroke,i=t.strokeWidth,o=t.radius,d=t.strokeDashArray;return Ft(r.a.Group,"Auto",Lt({selectionAdornmentTemplate:X,layerName:"Background",background:"transparent",layout:Ft(m,{direction:"Vertical",spacing:0})},fe(["verticalLane"])),new r.a.Binding("location","loc",r.a.Point.parse).makeTwoWay(r.a.Point.stringify),ee(),Ft.apply(void 0,[r.a.Shape,"RoundedRectangle",{name:"NODE",fill:a,stroke:n,strokeWidth:i,parameter1:o,strokeDashArray:d},new r.a.Binding("fill","isHighlighted",(function(e,t){return e?"#FFC107":t.part.data.color||a})).ofObject()].concat(kt(Q(!1,"fill","stroke","strokeWidth","radius","strokeDashArray")))),Ft(r.a.Panel,"Table",{name:"TABLE",defaultRowSeparatorStroke:n,defaultRowSeparatorStrokeWidth:i,defaultRowSeparatorDashArray:d},new r.a.Binding("defaultRowSeparatorStroke","stroke"),new r.a.Binding("defaultRowSeparatorStrokeWidth","strokeWidth"),new r.a.Binding("defaultRowSeparatorDashArray","strokeDashArray"),Ft(r.a.Panel,"Horizontal",{row:0,angle:0},te(this.name,this.style,"竖向泳道",{stretch:r.a.GraphObject.Horizontal})),Ft(r.a.Placeholder,{padding:0,row:1})),e)}},horizontalPool:{name:"horizontalPool",styleSetter:{},style:{radius:4,fill:"#fff",stroke:"#333",strokeWidth:1,strokeDashArray:[],fontColor:"#333",fontFamily:"arial,sans-serif",fontSize:14,fontBold:!1,fontItalic:!1,isUnderline:!1,isStrikethrough:!1},actions:["insertLane","cut","delete","paste","group","copy","ungroup"],subscribes:{SelectionMoved:function(e){return d(e.diagram)},SelectionCopied:function(e){return d(e.diagram)}},createPreview:function(){return Ft(r.a.Group,"Vertical",{name:"NODE",background:"#fff"},ue(),Ft(r.a.Panel,"Viewbox",{width:60,height:60},Ft(r.a.Shape,{stroke:"#333",strokeWidth:1,fill:"#fff",geometryString:"M 0 0 L 80 0 L 80 80 L 0 80 L 0 0 M 20 0 L 20 80 M 20 40 L 80 40"})),te(this.name,null,"泳道"))},createTemplate:function(e){var t="#fff",a="#333",n=1,i=[];return Ft(r.a.Group,"Auto",Lt({selectionAdornmentTemplate:X,layerName:"Background",background:"transparent",layout:Ft(m,{direction:"Horizontal",spacing:6})},fe(["HorizontalLane"])),new r.a.Binding("location","loc",r.a.Point.parse).makeTwoWay(r.a.Point.stringify),ee(),Ft.apply(void 0,[r.a.Shape,"RoundedRectangle",{name:"NODE",fill:t,stroke:a,strokeWidth:n,parameter1:4,strokeDashArray:i,minSize:new r.a.Size(100,60)},new r.a.Binding("fill","isHighlighted",(function(e,a){return e?"#FFC107":a.part.data.color||t})).ofObject()].concat(kt(Q(!1,"fill","stroke","strokeWidth","radius","strokeDashArray")))),Ft(r.a.Panel,"Table",{name:"TABLE",defaultColumnSeparatorStroke:a,defaultColumnSeparatorStrokeWidth:n,defaultRowSeparatorDashArray:i},new r.a.Binding("defaultColumnSeparatorStroke","stroke"),new r.a.Binding("defaultColumnSeparatorStrokeWidth","strokeWidth"),new r.a.Binding("defaultColumnSeparatorDashArray","strokeDashArray"),Ft(r.a.Panel,"Horizontal",{column:0,angle:270},te(this.name,this.style,"横向泳道")),Ft(r.a.Placeholder,{padding:0,column:1})),e)}},verticalLane:{name:"verticalLane",style:{radius:4,opacity:1,fill:"#fff",stroke:"#333",strokeWidth:1,fontColor:"#333",fontFamily:"arial,sans-serif",fontSize:14,fontBold:!1,fontItalic:!1,isUnderline:!1,isStrikethrough:!1},actions:["cut","delete","paste","group","copy","ungroup"],createPreview:function(){return Ft(r.a.Group,"Vertical",{name:"NODE",background:"#fff"},ue(),Ft(r.a.Panel,"Viewbox",{width:60,height:60},Ft(r.a.Shape,{geometryString:"M 0 20 L 80 20 L 80 60 L 0 60 L 0 20 M 20 0 L 20 80 L 60 80 L 60 0 L 20 0",stroke:"#333",strokeWidth:1})),te(this.name,null,"通道"))},createTemplate:function(e){var t="#fff";return Ft(r.a.Group,"Vertical",{layerName:"Background",background:"transparent",name:"GROUP",resizeAdornmentTemplate:Ft(r.a.Adornment,"Spot",Ft(r.a.Placeholder),Ft(r.a.Shape,{alignment:r.a.Spot.Bottom,desiredSize:new r.a.Size(50,7),fill:"lightblue",stroke:"dodgerblue",cursor:"row-resize"},new r.a.Binding("visible","",(function(e){return null!==e.adornedPart&&e.adornedPart.isSubGraphExpanded})).ofObject()),Ft(r.a.Shape,{alignment:r.a.Spot.Right,desiredSize:new r.a.Size(7,50),fill:"lightblue",stroke:"dodgerblue",cursor:"col-resize"},new r.a.Binding("visible","",(function(e){return null!==e.adornedPart&&e.adornedPart.isSubGraphExpanded})).ofObject())),selectionObjectName:"GROUP",selectionAdornmentTemplate:X,resizable:!0,resizeObjectName:"SHAPE",layout:Ft(r.a.LayeredDigraphLayout,{isInitial:!1,isOngoing:!1,direction:90,columnSpacing:10,layeringOption:r.a.LayeredDigraphLayout.LayerLongestPathSource}),computesBoundsAfterDrag:!0,computesBoundsIncludingLinks:!1,computesBoundsIncludingLocation:!0,subGraphExpandedChanged:function(e){var t=e.resizeObject;e.diagram.undoManager.isUndoingRedoing||(e.isSubGraphExpanded?t.width=e._savedBreadth:(e._savedBreadth=t.width,t.width=NaN),Bt(e))}},new r.a.Binding("location","loc",r.a.Point.parse).makeTwoWay(r.a.Point.stringify),new r.a.Binding("isSubGraphExpanded","expanded").makeTwoWay(),ee(),Ft(r.a.Panel,"Horizontal",{name:"HEADER",angle:0,alignment:r.a.Spot.Center},Ft(r.a.Panel,"Horizontal",new r.a.Binding("visible","isSubGraphExpanded").ofObject(),te(this.name,null,"通道",{margin:0})),Ft("SubGraphExpanderButton",{margin:5})),Ft(r.a.Panel,"Auto",Ft.apply(void 0,[r.a.Shape,"RoundedRectangle",{minSize:new r.a.Size(100,60),name:"SHAPE",fill:t,stroke:"#333",strokeWidth:1,parameter1:4,opacity:1}].concat(kt(Q(!1,"fill","stroke","strokeWidth","radius","opacity")),[new r.a.Binding("desiredSize","size",r.a.Size.parse).makeTwoWay(r.a.Size.stringify),new r.a.Binding("fill","isHighlighted",(function(e,a){return e?"#FFC107":a.part.data.color||t})).ofObject()])),Ft(r.a.Placeholder,{alignment:r.a.Spot.TopLeft,padding:6,angle:90},fe(["*"],{denyCategories:["verticalPool","horizontalPool","HorizontalLane","verticalLane"]})),te(this.name,null,"通道",new r.a.Binding("visible","isSubGraphExpanded",(function(e){return!e})).ofObject())),e)}},HorizontalLane:{name:"horizontalLane",actions:["cut","delete","paste","group","copy","ungroup"],createPreview:function(){return Ft(r.a.Group,"Vertical",{name:"NODE",background:"#fff"},ue(),Ft(r.a.Panel,"Viewbox",{width:60,height:60},Ft(r.a.Shape,{geometryString:"M 0 20 L 80 20 L 80 60 L 0 60 L 0 20 M 20 0 L 20 80 L 60 80 L 60 0 L 20 0",stroke:"#333",strokeWidth:1})),te(this.name,null,"通道"))},createTemplate:function(e){var t="#fff";return Ft(r.a.Group,"Horizontal",{layerName:"Background",background:"transparent",name:"GROUP",resizeAdornmentTemplate:Ft(r.a.Adornment,"Spot",Ft(r.a.Placeholder),Ft(r.a.Shape,{alignment:r.a.Spot.Right,desiredSize:new r.a.Size(7,50),fill:"lightblue",stroke:"dodgerblue",cursor:"col-resize"},new r.a.Binding("visible","",(function(e){return null!==e.adornedPart&&e.adornedPart.isSubGraphExpanded})).ofObject()),Ft(r.a.Shape,{alignment:r.a.Spot.Bottom,desiredSize:new r.a.Size(50,7),fill:"lightblue",stroke:"dodgerblue",cursor:"row-resize"},new r.a.Binding("visible","",(function(e){return null!==e.adornedPart&&e.adornedPart.isSubGraphExpanded})).ofObject())),selectionObjectName:"GROUP",selectionAdornmentTemplate:X,resizable:!0,resizeObjectName:"SHAPE",layout:Ft(r.a.LayeredDigraphLayout,{isInitial:!1,isOngoing:!1,direction:0,columnSpacing:10,layeringOption:r.a.LayeredDigraphLayout.LayerLongestPathSource}),computesBoundsAfterDrag:!0,computesBoundsIncludingLinks:!1,computesBoundsIncludingLocation:!0,subGraphExpandedChanged:function(e){var t=e.resizeObject;e.diagram.undoManager.isUndoingRedoing||(e.isSubGraphExpanded?t.height=e._savedBreadth:(e._savedBreadth=t.height,t.height=NaN),Bt(e))}},new r.a.Binding("location","loc",r.a.Point.parse).makeTwoWay(r.a.Point.stringify),new r.a.Binding("isSubGraphExpanded","expanded").makeTwoWay(),ee(),Ft(r.a.Panel,"Horizontal",{name:"HEADER",angle:270,alignment:r.a.Spot.Center},Ft(r.a.Panel,"Horizontal",new r.a.Binding("visible","isSubGraphExpanded").ofObject(),te(this.name,null,"通道",{margin:0})),Ft("SubGraphExpanderButton",{margin:4})),Ft(r.a.Panel,"Auto",Lt({},fe(["*"],{denyCategories:["verticalPool","horizontalPool","HorizontalLane","verticalLane"]})),Ft.apply(void 0,[r.a.Shape,"RoundedRectangle",{name:"SHAPE",fill:t,stroke:"#333",strokeWidth:1,parameter1:4,opacity:1}].concat(kt(Q(!1,"fill","stroke","strokeWidth","radius","opacity")),[new r.a.Binding("desiredSize","size",r.a.Size.parse).makeTwoWay(r.a.Size.stringify),new r.a.Binding("fill","isHighlighted",(function(e,a){return e?"#FFC107":a.part.data.color||t})).ofObject()])),Ft(r.a.Placeholder,{alignment:r.a.Spot.TopLeft,padding:6}),te(this.name,null,"通道",new r.a.Binding("visible","isSubGraphExpanded",(function(e){return!e})).ofObject())),te(this.name,this.style),ee(),e)}}};function Gt(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var zt=r.a.GraphObject.make,Ot={FontIcon:{name:"fontIcon",style:{fill:"#333",fontSize:32,opacity:1,width:40,height:40,fontColor:"#333"},styleSetter:{stroke:function(e,t){e.findObject("TEXT").stroke=t}},actions:["cut","delete","paste","group","copy","ungroup"],createTemplate:function(e){var t=this.style,a=t.fill,n=t.fontSize,i=t.opacity;return zt(r.a.Node,"Viewbox",{padding:0,margin:0},zt.apply(void 0,[r.a.TextBlock,{name:"ICON",margin:0,stroke:a,opacity:i,font:"".concat(n,'px "').concat("Material Design Icons",'"'),editable:!1,isMultiline:!1}].concat(Gt(J("icon",["fontSize"])),Gt(Q(!1,"fontSize")),[new r.a.Binding("fill"),new r.a.Binding("text","text",(function(e){return String.fromCodePoint(parseInt(e,16))}))])),e)}}};function Tt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jt(e,t,a){return t&&Nt(e.prototype,t),a&&Nt(e,a),e}var Mt=function(){function e(t){xt(this,e),this.commander=t}return jt(e,[{key:"execute",value:function(e,t){switch(e.name){case"redo":this.commander.redo();break;case"undo":this.commander.undo();break;case"cut":this.commander.cutSelection();break;case"paste":this.commander.pasteSelection();break;case"delete":this.commander.deleteSelection();break;case"group":this.commander.groupSelection();break;case"ungroup":this.commander.ungroupSelection();break;case"collapse":this.commander.collapseTree(t);break;case"expand":this.commander.expandTree(t);break;case"floor":this.commander.floorSelection();break;case"ceiling":this.commander.ceilingSelection();break;case"insertChild":this.commander.insertChild(t);break;case"insertBrother":this.commander.insertBrother(t);break;case"insertParent":this.commander.insertParent(t);break;case"insertLane":this.commander.insertLane(t)}}}]),e}(),At=function(){function e(t,a,n){xt(this,e),Tt(this,"label",void 0),Tt(this,"name",void 0),Tt(this,"shortcutKey",void 0),Tt(this,"status",!0),Tt(this,"onChangeStatus",null),this.label=t,this.name=a,this.runner=n}return jt(e,[{key:"setShortcutKey",value:function(e){return this.shortcutKey=e,this}},{key:"execute",value:function(e){this.runner.execute(this,e)}},{key:"setStatus",value:function(e){return this.status!==e&&(this.status=e,this.onChangeStatus&&this.onChangeStatus(e),!0)}}]),e}(),Dt=function(){function e(t){var a=this;xt(this,e),Tt(this,"list",null),Tt(this,"runner",null),Tt(this,"onChangeStatus",null),Tt(this,"map",null);var n=new Mt(t.commandHandler);t.addDiagramListener("ChangedSelection",(function(){return a.updateStatus()})),t.addDiagramListener("Modified",(function(){return a.updateStatus()})),t.addDiagramListener("SelectionGrouped",(function(){return a.updateStatus()})),t.addDiagramListener("ClipboardChanged",(function(){return a.updateStatus()})),t.addDiagramListener("ClipboardPasted",(function(){return a.updateStatus()})),this.map=t,this.runner=n,this.list={delete:new At("删除","delete",n),redo:new At("撤销","redo",n),undo:new At("重做","undo",n),copy:new At("复制","copy",n),cut:new At("剪切","cut",n),paste:new At("粘贴","paste",n),group:new At("组合","group",n),ungroup:new At("拆解","ungroup",n),floor:new At("下移","floor",n),ceiling:new At("上移","ceiling",n),collapse:new At("折叠","collapse",n),expand:new At("展开","expand",n),insertChild:new At("插入子级","insertChild",n).setShortcutKey("tab"),insertBrother:new At("插入同级","insertBrother",n).setShortcutKey("ctrl&enter"),insertParent:new At("插入父级","insertParent",n).setShortcutKey("shift&enter"),insertLane:new At("增加通道","insertLane",n).setShortcutKey("tab")}}return jt(e,[{key:"searchAction",value:function(e){return o.a.values(o.a.pick(this.list,e))}},{key:"updateStatus",value:function(){var e=this,t=this.map.commandHandler,a={},n=!1;a.copy=t.canCopySelection(),a.cut=t.canCutSelection(),a.paste=t.canPasteSelection(),a.undo=t.canUndo(),a.redo=t.canRedo(),a.group=t.canGroupSelection(),a.ungroup=t.canUngroupSelection(),a.collapse=t.canCollapseTree(),a.expand=t.canExpandTree(),a.delete=t.canDeleteSelection(),Object.keys(a).forEach((function(t){!0===e.list[t].setStatus(a[t])&&(n=!0)})),n&&this.onChangeStatus&&this.onChangeStatus(a)}}]),e}(),Et=Dt;function Ct(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ht=Ve.TreeLink,Ut=Ve.LineLink,Vt=Ve.SequenceLink,Xt=Ve.StructLink,qt=["background"],Kt=["fill","stroke","strokeDashArray","strokeWidth","opacity","width","height"],Yt=["fontColor","fontFamily","fontSize","fontBold","fontItalic","isUnderline","isStrikethrough"],$t=function(){function e(t,a,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"FLOWCHART";switch(Rt(this,e),Wt(this,"event",Me()()),Wt(this,"groups",new Map),Wt(this,"nodes",new Map),Wt(this,"links",new Map),Wt(this,"mouseDrops",{}),Wt(this,"mouseDragEnters",{}),Wt(this,"mouseDragLeaves",{}),Wt(this,"actionList",null),Wt(this,"canvas",null),this.mapName=i,this.canvas=a,this.actionList=n||new Et(a),this.setMap(this.nodes,Ke,vt,mt,Ot,Je),this.setMap(this.groups,_t),this.canvas.addDiagramListener("SelectionDeleting",this.onDeleteing.bind(this)),this.canvas instanceof r.a.Diagram&&this.bindCategoryEvent(),i){case"MINDMAP":this.links.set("",Ht);break;case"FLOWCHART":this.links.set("",Ut);break;case"SEQUENCEMAP":this.links.set("",Vt);break;case"STRUCTMAP":this.links.set("",Xt)}}var t,a,n;return t=e,(a=[{key:"setMap",value:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];o.a.each(a,(function(t){o.a.each(t,(function(t,a){if(t){if(!o.a.has(t,"name"))return void console.warn(a+' not added to templateMap cause that has no "name" property');e.set(t.name,t)}}))}))}},{key:"bindCategoryEvent",value:function(){var e=this;[this.nodes,this.groups,this.links].forEach((function(t){t.forEach((function(t){o.a.forIn(t.subscribes||{},(function(a,n){e.canvas.addDiagramListener(n,a.bind(t))}))}))}))}},{key:"onMouseDrop",value:function(e,t){var a=arguments,n=o.a.get(this.mouseDrops,t.part.category)||[];o.a.isEmpty(n)||o.a.each(n,(function(e){return e.apply(void 0,Ct(a))}))}},{key:"onMouseDragEnter",value:function(e,t){var a=arguments,n=o.a.get(this.mouseDragEnters,t.part.category)||[];o.a.isEmpty(n)||o.a.each(n,(function(e){return e.apply(void 0,Ct(a))}))}},{key:"onMouseDragLeave",value:function(e,t){var a=arguments,n=o.a.get(this.mouseDragLeaves,t.part.category)||[];o.a.isEmpty(n)||o.a.each(n,(function(e){return e.apply(void 0,Ct(a))}))}},{key:"addDropListener",value:function(e){for(var t=this,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];o.a.each(n,(function(a){o.a.has(t.mouseDrops,a)||(t.mouseDrops[a]=[]),t.mouseDrops[a].push(e)}))}},{key:"addDragEnterListener",value:function(e){for(var t=this,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];o.a.each(n,(function(a){o.a.has(t.mouseDragEnters,a)||(t.mouseDragEnters[a]=[]),t.mouseDragEnters[a].push(e)}))}},{key:"addDragLeaveListener",value:function(e){for(var t=this,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];o.a.each(n,(function(a){o.a.has(t.mouseDragLeaves,a)||(t.mouseDragLeaves[a]=[]),t.mouseDragLeaves[a].push(e)}))}},{key:"on",value:function(e,t){this.event.on(e,t)}},{key:"onDeleteing",value:function(e){var t=this,a=null;e.subject.each((function(e){(a=t.getTemplate(e))&&a.onDeleteing&&a.onDeleteing(e)}))}},{key:"onShortcut",value:function(e){for(var t=this.canvas.selection.iterator,a=null,n=!1;t.next();){var r;(a=this.nodes.get(t.value.category))&&(r=this.actionList).searchAction.apply(r,Ct(a.allowAction||[])).forEach((function(a){a.shortcutKey===e&&(a.execute(t.value),n=!0)}))}return n}},{key:"makeNodeTemplates",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=new r.a.Map,n=null;return this.nodes.forEach((function(i,d){if(t&&o.a.isFunction(i.createPreview)?n=i.createPreview():o.a.isFunction(i.createTemplate)&&(n=i.createTemplate({contextMenu:ce(e.actionList.searchAction(i.actions))})),n){if(!(n instanceof r.a.Node))return void console.warn('template "'+d+'" is not typeof Node');a.add(d,n)}})),{nodeTemplateMap:a}}},{key:"makeLinkTemplate",value:function(){var e=this.links.get(""),t={contextMenu:ce(this.actionList.searchAction(e.actions))};if(e)return{linkTemplate:e.createTemplate(t)}}},{key:"makeGroupTemplate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=new r.a.Map,n=null;return this.groups.forEach((function(r,i){n=null,t&&o.a.isFunction(r.createPreview)?n=r.createPreview():o.a.isFunction(r.createTemplate)&&(n=r.createTemplate({contextMenu:ce(e.actionList.searchAction(r.actions))})),a.add(i,n)})),{groupTemplateMap:a}}},{key:"setCategoryPartStyle",value:function(e,t,a){var n,r,i,d=o.a.pick(a,qt),h=o.a.pick(a,Kt),g=o.a.pick(a,Yt),u=o.a.intersection(o.a.keys(a),o.a.keys(t.styleSetter));e.forEach((function(e){o.a.isEmpty(d)||(n=e.findObject(t.container||"CONTAINER"))&&n.setProperties(d),o.a.isEmpty(h)||(i=e.findObject(t.node||"NODE"))&&i.setProperties(h),o.a.isEmpty(g)||(o.a.has(g,"fontColor")&&(o.a.set(g,"stroke",g.fontColor),o.a.unset(g,"fontColor")),(r=e.findObject(t.text||"TEXT"))&&r.setProperties(g)),u.forEach((function(n){t.styleSetter[n].call(t,e,a[n])}))}))}},{key:"resetStyle",value:function(e){for(var t=this,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];var i=null;this.canvas.model.commit((function(e){t.canvas.selection.each((function(a){o.a.each(n,(function(e){delete a.part.data[e]})),(i=t.getTemplate(a))&&i.resetStyle&&i.resetStyle(a,n),e.updateTargetBindings(a.part.data)}))}),"重置样式"),this.canvas.requestUpdate()}},{key:"changeStyle",value:function(e,t){var a=this,n=null,r=this.canvas.selection.toArray();this.canvas.model.commit((function(i){r.forEach((function(r){i.set(r.data,e,t),(n=a.getTemplate(r))?n.onChangeStyle&&n.onChangeStyle(r,e,t):console.warn('no template named "'+r.category+'" ')}))}))}},{key:"getTemplate",value:function(e){return(e instanceof r.a.Link?this.links:e instanceof r.a.Group?this.groups:this.nodes).get(e.category)}},{key:"getNameTemplate",value:function(e){return this.nodes.get(e)||this.groups.get(e)||this.links.get(e)}},{key:"onStartDrag",value:function(){var e=this.canvas.selection.first();if(e){var t=e.category,a=this.nodes.get(t);a&&a.onStartDrag&&a.onStartDrag.call(a,e,this.canvas)}}},{key:"onDragging",value:function(){var e=this.canvas.selection.first();if(e){var t=e.category,a=this.nodes.get(t);a&&a.onDragging&&a.onDragging.call(a,e,this.canvas)}}},{key:"onStopDrag",value:function(){var e=this.canvas.selection.first();if(e){var t=e.category,a=this.nodes.get(t);a&&a.onStopDrag&&a.onStopDrag.call(a,e,this.canvas)}}},{key:"resetLink",value:function(e){this.links=new Map,this.links.set("",e)}},{key:"setNode",value:function(t,a){this.nodes.set(t,a),e.categoryStyle[a.name]=a.style}},{key:"setGroup",value:function(t,a){this.groups.set(t,a),e.categoryStyle[a.name]=a.style}}])&&It(t.prototype,a),n&&It(t,n),e}();$t.categoryStyle={},$t.styleNameSeparator="_",o.a.each([Ke,Je,mt,vt,_t,Ot,Ve],(function(e){o.a.each(e,(function(e){$t.categoryStyle[e.name]=e.style}))}));var Jt=$t;function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(e,t,a){return(ta="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=aa(e)););return e}(e,t);if(n){var r=Object.getOwnPropertyDescriptor(n,t);return r.get?r.get.call(a):r.value}})(e,t,a||e)}function aa(e){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t){return(na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ra(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ia=function(e,t){if(e){var a=e.part,n=a.data,r=n.key,i=n.stroke,o=a.diagram,d=function(e){var t=e.part.data.dir,a=0,n=0;if(t)return t;for(var r=e.findTreeChildrenNodes().iterator;r.next();)"left"===r.value.part.data.dir?a++:"right"===r.value.part.data.dir&&n++;return a>=n?"right":"left"}(e);o.startTransaction("添加节点"),i||(i=function(e){return V[Math.abs(e)%V.length]}(o.model.nodeDataArray.length));var h={stroke:i,dir:d,parent:r,category:"TreeNode"};o.model.addNodeData(h),t&&t(h),ie(a.findTreeRoot()),o.commitTransaction("添加节点");var g=o.findNodeForData(h);return null!==g&&(o.scrollToRect(g.actualBounds),o.select(g),function(e){var t=e.diagram;if(t&&!t.isReadOnly){var a=e.part.findObject("TEXT");a&&t.commandHandler.editTextBlock(a)}}(g)),g}return null},oa=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=function(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?ea(e):t}(this,aa(t).call(this)),ra(ea(e),"customShortcutKeys",{}),ra(ea(e),"shortcutEvent",Me()()),ra(ea(e),"loopEverySelection",(function(e,t,a){for(var n=e.selection.iterator;n.next();)t.call(this,n.value,n);a&&a()})),e}var a,n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&na(e,t)}(t,e),a=t,(n=[{key:"editNodeText",value:function(e){if(e||(e=this.diagram.selection.first()),e&&this.diagram&&!this.diagram.isReadOnly){var t=e.part.findObject("TEXT");t&&this.editTextBlock(t)}}},{key:"expandTreeNode",value:function(e){e||(e=this.diagram.selection.first()),0!==e.key&&this.diagram.commandHandler.canExpandTree(e)&&this.diagram.commandHandler.expandTree(e)}},{key:"collapseTreeNode",value:function(e){e||(e=this.diagram.selection.first()),e&&0!==e.key&&this.diagram.commandHandler.canCollapseTree(e)&&this.diagram.commandHandler.collapseTree(e)}},{key:"arrowKeySelect",value:function(e){var t=this.diagram.lastInput,a=null;switch(e){case"arrowleft":a=this.findNearestPartTowards(180);break;case"arrowup":a=this.findNearestPartTowards(270);break;case"arrowdown":a=this.findNearestPartTowards(90);break;case"arrowright":a=this.findNearestPartTowards(0)}null!==a&&(t.shift?a.isSelected=!0:t.control||t.meta?a.isSelected=!a.isSelected:this.diagram.select(a),this.diagram.lastInput.handled=!0)}},{key:"canDeleteSelection",value:function(){return!0}},{key:"doKeyDown",value:function(){var e,a,n=(e=this.diagram.lastInput,a=[],e.shift&&a.push("shift"),e.control&&a.push("ctrl"),e.alt&&a.push("alt"),a.push(e.event.key.toLowerCase()),"&"===(a=a.join("&"))[0]&&(a=a.slice(1)),a),r={char:n,isHandle:!1};this.shortcutEvent.emit("shortcut",r),!0===r.isHandle&&(this.diagram.lastInput.handled=!0),this.diagram.lastInput.handled||this.arrowKeySelect(n),ta(aa(t.prototype),"doKeyDown",this).call(this)}},{key:"addShortcutListener",value:function(e){this.shortcutEvent.on("shortcut",e)}},{key:"removeShortcutListener",value:function(e){this.shortcutEvent.off("shortcut",e)}},{key:"registeShortcuts",value:function(e,t,a){var n=this;o.a.each(e,(function(e){var r=o.a.get(n.customShortcutKeys,e);r||(r={key:t,triggers:[]},n.customShortcutKeys[e]=r),n.customShortcutKeys[e].triggers.push(a)}))}},{key:"moveUp",value:function(){var e=this;this.diagram.commit((function(t){e.loopEverySelection(e.diagram,(function(e){var a=e.part.data,n=(a.zOrder||0)+1;t.model.set(a,"zOrder",n)}))}),"上移")}},{key:"moveDown",value:function(){var e=this;this.diagram.commit((function(t){e.loopEverySelection(e.diagram,(function(e){var a=e.part.data,n=(a.zOrder||1)-1;t.model.set(a,"zOrder",n<0?0:n)}))}),"下移")}},{key:"removeNode",value:function(){var e=this;this.diagram.commit((function(){e.loopEverySelection(e.diagram,(function(t){e.diagram.commit((function(e){var a=t.part.data;e.model.removeNodeData(a)}))}))}),"删除图形")}},{key:"setGroup",value:function(){var e=this;this.diagram.commit((function(t){t.model.addNodeData({key:"group",isGroup:!0}),e.loopEverySelection(e.diagram,(function(e){t.model.set(e.data,"group","group")}))}),"合并一组")}},{key:"insertChild",value:function(e){ia(e)}},{key:"insertBrother",value:function(e){var t=e.diagram.findNodeForKey(e.part.data.parent);t&&ia(t)}},{key:"insertLane",value:function(e){"Pool"===e.category&&e.diagram.model.commit((function(t){var a={group:e.key,text:"通道 ".concat(e.findSubGraphParts("SHAPE").size+1," "),isGroup:!0,category:"Lane"};t.addNodeData(a)}))}},{key:"deleteSelection",value:function(){var e=this.diagram.selection.toArray();ta(aa(t.prototype),"deleteSelection",this).call(this),this.shortcutEvent.emit("delete",e)}},{key:"insertParent",value:function(e){var t=this.diagram,a=t.findNodeForKey(e.part.data.parent);a&&ia(a,(function(a){t.model.setDataProperty(e.part.data,"parent",a.key),t.model.setCategoryForNodeData(e.part.data,"TreeNode")}))}},{key:"getAllParts",value:function(){var e=new Array;return this.diagram.nodes.each((function(t){e.push(t)})),this.diagram.parts.each((function(t){e.push(t)})),e}},{key:"findNearestPartTowards",value:function(e){var t=this.diagram.selection.first();if(null===t)return null;for(var a=t.actualBounds.center,n=this.getAllParts(),r=1/0,i=t,o=0;o<n.length;o++){var d=n[o];if(d!==t){var h=d.actualBounds.center,g=a.directionPoint(h),u=this.angleCloseness(g,e);if(u<=45){var m=a.distanceSquaredPoint(h);(m*=1+Math.sin(u*Math.PI/180))<r&&(r=m,i=d)}}}return i}},{key:"angleCloseness",value:function(e,t){return Math.min(Math.abs(t-e),Math.min(Math.abs(t+360-e),Math.abs(t-360-e)))}}])&&Qt(a.prototype,n),r&&Qt(a,r),t}(r.a.CommandHandler),da=null,ha=null,ga=function(e){var t=document.createRange();t.selectNodeContents(e);var a=window.getSelection();a.removeAllRanges(),a.addRange(t)},ua=document.createElement("div");ua.id="text_editing",ua.setAttribute("contenteditable",!0),ua.addEventListener("input",(function(e){var t=ma.tool;if(null!==t.textBlock){var a=t.textBlock,n=t.diagram;n.startTransaction(),a.text=this.value,n.commitTransaction("input text"),ua.rows=t.textBlock.lineCount}}),!1),ua.addEventListener("keydown",(function(e){var t=ma.tool;if(null!==t.textBlock){var a=e.which;if(13===a&&e.shiftKey)!1===t.textBlock.isMultiline&&e.preventDefault(),t.acceptText(r.a.TextEditingTool.Enter);else{if(13===a)return void t.acceptText(r.a.TextEditingTool.Tab);if(9===a)return t.acceptText(r.a.TextEditingTool.Tab),void e.preventDefault();27===a&&(t.doCancel(),null!==t.diagram&&t.diagram.doFocus())}}}),!1),ua.addEventListener("focus",(function(e){var t=ma.tool;t&&null!==t.currentTextEditor&&(t.state===r.a.TextEditingTool.StateActive&&(t.state=r.a.TextEditingTool.StateEditing),t.selectsTextOnActivate&&ga(ua))}),!1),ua.addEventListener("blur",(function(e){var t=ma.tool;t&&null!==t.currentTextEditor&&t.state!==r.a.TextEditingTool.StateNone&&(ua.focus(),t.selectsTextOnActivate&&ga(ua))}),!1);var ma=new r.a.HTMLInfo;ma.valueFunction=function(){return ua.innerText},ma.mainElement=ua,ma.show=function(e,t,a){if(e instanceof r.a.TextBlock){ma.tool=a;var n=e.part.naturalBounds.width;if(a.state===r.a.TextEditingTool.StateInvalid)return ua.style.color="red",void ua.focus();var i=e.part.locationObject.getDocumentPoint(r.a.Spot.TopLeft),o=e.getDocumentPoint(r.a.Spot.TopLeft),d=t.position,h=t.scale,g=e.getDocumentScale()*h;g<a.minimumEditorScale&&(g=a.minimumEditorScale);e.naturalBounds.width,e.naturalBounds.height;var u=(i.x-d.x)*h,m=(o.y-d.y)*h;ua.innerText=e.text,t.div.style.font=e.font,t.div.style.color=e.stroke,ua.style.position="absolute",ua.style.zIndex="100",ua.style.font=e.font,ua.style.fontSize=100*g+"%",ua.style.lineHeight="normal",ua.style.left=u+"px",ua.style.top=m+"px",ua.style.textAlign=e.textAlign,ua.style.width=n+"px",ua.style.maxWidth=n+"px",ua.rows=e.lineCount,ua.textScale=g,ua.className="goTXarea",t.div.appendChild(ua),ua.focus(),da=e,ha=e.minSize,e.minSize=new r.a.Size(e.naturalBounds.width,e.naturalBounds.height),e.text=null,a.selectsTextOnActivate&&ga(ua)}},ma.hide=function(e,t){da.minSize=ha,e.div.removeChild(ua),ua.innerText=ua.innerHTML="",ma.tool=null};var Sa=ma;function ca(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function la(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Pa=r.a.GraphObject.make,fa=Object.freeze({PNG:Symbol("png"),SVG:Symbol("svg"),JPEG:Symbol("jpg"),BASE64:Symbol("base64")}),wa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.a.clone(o.a.get(e,"model.root")),n=t.meshColor,r=t.ruleColor,i=t.background;return o.a.isEmpty(n)||o.a.set(a,"meshColor",n),o.a.isEmpty(r)||o.a.set(a,"ruleColor",r),o.a.isEmpty(i)||o.a.set(a,"background",i),a},pa=function(e){var t=JSON.parse(e.model.toJSON());o.a.unset(t,"modelData"),e.isTransactionFinished&&(t.nodeDataArray&&(t.nodeDataArray=t.nodeDataArray.filter((function(e){return e&&!e.temporary}))),t.linkDataArray&&(t.linkDataArray=t.linkDataArray.filter((function(e){return e&&!e.temporary}))),o.a.isEqual(JSON.stringify(t),this.model)||(this.event.emit("model:changed",t),this.model=JSON.stringify(t)))},va=function(e,t,a){e.div.style[t]=a,e.requestUpdate()},ya=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),sa(this,"setting",null),sa(this,"style",null),sa(this,"canvas",null),sa(this,"model",null),sa(this,"toolMaker",null),sa(this,"templateMaker",null),sa(this,"actionList",null),sa(this,"onModelChange",null),sa(this,"allowActions",[]),sa(this,"event",new Me.a),a&&(this.setting=a),t&&(this.style=t),this.onModelChange=pa.bind(this)}var t,a,n;return t=e,(a=[{key:"mount",value:function(e,t){var a=this;this.canvas=Pa(r.a.Diagram,e),this.canvas.ir=function(){},this.canvas.commandHandler=new oa,this.canvas.commandHandler.arrowKeyBehavior="select",this.canvas.commandHandler.shortcutEvent.on("shortcut",(function(e){a.templateMaker.onShortcut(e.char)&&(e.isHandle=!0)})),this.canvas.toolManager.textEditingTool.defaultTextEditor=Sa,this.actionList=new Dt(this.canvas),this.toolMaker=new Ne(wa(this.style,this.setting),this.canvas),this.templateMaker=new Jt(this.style,this.canvas,this.actionList,this.name);var n=this.getProperties();this.canvas.setProperties(n),this.canvas.model=this.parseModel(t),this.canvas.toolManager.hoverDelay=200,this.model=this.canvas.model.toJSON(),this.created&&this.created(),this.canvas.model.addChangedListener(this.onModelChange),this.applyStyle(this.style),this.applySetting(this.setting),this.applyBackground()}},{key:"loopSelection",value:function(e,t){for(var a=this.canvas.selection.iterator;a.next();)e.call(this,a.value,a);t&&t()}},{key:"setReadonly",value:function(e){this.canvas.setProperties({isReadOnly:e})}},{key:"setModel",value:function(e,t){t||this.canvas.removeModelChangedListener(this.onModelChange),this.canvas.setProperties({model:r.a.Model.fromJson(e)}),t||this.canvas.addModelChangedListener(this.onModelChange)}},{key:"getModel",value:function(){return this.canvas.model.toJSON()}},{key:"addMapListener",value:function(e,t){this.canvas.addDiagramListener(e,t)}},{key:"addStyleListener",value:function(e){this.styleChangeListener.push(e)}},{key:"applyDirection",value:function(e,t,a){if(!o.a.isEmpty(t)&&!o.a.isEmpty(a)){var n=parseInt(t),r=parseInt(a);switch(e){case"H":n>r?this.applySize(t,a):this.applySize(a,t);break;case"V":n>r?this.applySize(a,t):this.applySize(t,a)}}}},{key:"applySize",value:function(e,t){va(this.canvas,"min-width",e),va(this.canvas,"min-height",t)}},{key:"applyBackground",value:function(){var e=this.canvas.model.modelData[Z(["root","background"])];va(this.canvas,"background",this.setting.background||e)}},{key:"applySetting",value:function(e){var t=e.showMesh,a=e.showRule,n=e.width,r=e.height,i=e.direction,d=wa(this.style,e),h=d.meshColor,g=d.ruleColor;if(!0===t?this.toolMaker.setupMesh(this.canvas):!1===t&&this.toolMaker.unsetupMesh(this.canvas),!0===a){var u=e.width,m=e.height;u||(u=this.canvas.div.offsetWidth),m||(m=this.canvas.div.offsetHeight),this.toolMaker.setupRule(this.canvas,u,m)}else!1===a&&this.toolMaker.unsetupRule(this.canvas);o.a.isEmpty(i)||o.a.isEmpty(n)||o.a.isEmpty(r)||this.applyDirection(i,n,r),h!==this.toolMaker.meshColor&&this.toolMaker.setMeshColor(h),g!==this.toolMaker.ruleColor&&this.toolMaker.setRuleColor(g)}},{key:"changeSetting",value:function(e){this.setting=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(a),!0).forEach((function(t){sa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ca(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.setting,{},e),this.applySetting(this.setting),this.applyBackground(),this.event.emit("setting:changed",this.setting)}},{key:"setStyle",value:function(e){this.applyStyle(e),this.applyBackground(),this.event.emit("style:changed",this.style)}},{key:"applyStyle",value:function(e){this.style=e,this.canvas.model.commit((function(t){t.modelData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",a=function e(a,n,r){return o.a.reduce(a,(function(a,r,i){var d=(o.a.isEmpty(n)?"":n+t)+i;return o.a.isObject(r)?e(r,d,a):a[d]=r,a}),r)};return a(e,"",{})}(e.model)})),this.canvas.requestUpdate()}},{key:"capture",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=this.canvas.documentBounds,i=n.width,d=n.height,h=n.centerX,g=n.centerY,u=Math.max(i,d)+a,m=h-u/2-a,S=g-u/2-a,c=new r.a.Point(m,S),l=new r.a.Size(u+2*a,u+2*a),s=o.a.get(this.setting,"root.background")||o.a.get(this.style,"model.root.background")||"#fff";return new Promise((function(a){switch(e){case fa.PNG:t.canvas.makeImageData({scale:1,type:"image/png",background:s,position:c,size:l,returnType:"blob",callback:function(e){a(e)}});break;case fa.BASE64:t.canvas.makeImageData({scale:1,type:"image/png",background:s,position:c,size:l,callback:function(e){a(e)}});break;case fa.SVG:var n=t.map.canvas.makeSvg({background:s,position:c,size:l}),r=new Blob([n.outerHTML],{type:"text/plain;charset=utf-8"});a(r)}}))}},{key:"unmount",value:function(){this.canvas&&(this.canvas.div=null)}}])&&la(t.prototype,a),n&&la(t,n),e}();ya.Captures=fa;var La=ya;function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ka(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ba(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _a(e,t){return!t||"object"!==ba(t)&&"function"!=typeof t?za(e):t}function Ga(e){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function za(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oa(e,t){return(Oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ta(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var xa={class:"go.TreeModel",nodeDataArray:[{key:0,text:"主题",location:"0 0",category:"TreeFree"}]},Na=function(e){function t(){var e,a;Fa(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Ta(za(a=_a(this,(e=Ga(t)).call.apply(e,[this].concat(r)))),"name","MINDMAP"),Ta(za(a),"allowActions",["undo","redo","insertChild","insertParent","insertBrother","delete"]),a}var a,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oa(e,t)}(t,e),a=t,(n=[{key:"getProperties",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(a),!0).forEach((function(t){Ta(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ka(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({allowCopy:!1,"commandHandler.copiesTree":!0,"commandHandler.copiesParentKey":!0,"commandHandler.deletesTree":!0,"draggingTool.dragsTree":!0,"undoManager.isEnabled":!0},this.toolMaker.makeDraggingTreeTool(),{},this.templateMaker.makeNodeTemplates(),{},this.templateMaker.makeLinkTemplate())}},{key:"parseModel",value:function(e){return r.a.Model.fromJson(e||xa)}},{key:"created",value:function(){}}])&&Ba(a.prototype,n),i&&Ba(a,i),t}(La);function ja(e){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Aa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Da(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ea(e,t){return!t||"object"!==ja(t)&&"function"!=typeof t?Ra(e):t}function Ca(e){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ia(e,t){return(Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ha=r.a.GraphObject.make,Ua=(Ha(r.a.Adornment,"Auto",Ha(r.a.Placeholder)),{}),Va=function(e){function t(){var e,a;Aa(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Wa(Ra(a=Ea(this,(e=Ca(t)).call.apply(e,[this].concat(r)))),"name","FLOWCHART"),Wa(Ra(a),"allowActions",["undo","redo","cut","paste","copy","ceiling","floor","lock","unlock","merge","split"]),Wa(Ra(a),"linkTemplate",void 0),a}var a,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ia(e,t)}(t,e),a=t,(n=[{key:"getProperties",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(a),!0).forEach((function(t){Wa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ma(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({"undoManager.isEnabled":!0},this.toolMaker.makeGuideDraggingTool(),{},this.toolMaker.makeMeshTemplate(),{},this.templateMaker.makeGroupTemplate(),{},this.templateMaker.makeNodeTemplates(),{},this.templateMaker.makeLinkTemplate(),{},this.toolMaker.makeRelinkTool(),{},this.toolMaker.makeRotatingTool(),{},this.toolMaker.makeResizingTool(),{"draggingTool.dragsLink":!0,"draggingTool.isGridSnapEnabled":!0,"relinkingTool.isUnconnectedLinkValid":!0,"relinkingTool.portGravity":20,"rotatingTool.handleAngle":270,"rotatingTool.handleDistance":30,"rotatingTool.snapAngleMultiple":15,"rotatingTool.snapAngleEpsilon":15,"linkingTool.isUnconnectedLinkValid":!0,"linkingTool.portGravity":20})}},{key:"parseModel",value:function(e){return r.a.Model.fromJson(e||Ua)}},{key:"created",value:function(){}}])&&Da(a.prototype,n),i&&Da(a,i),t}(La);function Xa(e){return(Xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $a(e,t){return!t||"object"!==Xa(t)&&"function"!=typeof t?Za(e):t}function Ja(e){return(Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qa(e,t){return(Qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tn(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var an=r.a.GraphObject.make;function nn(e){return 20+20*e+30}function rn(e,t){var a=t.diagram.model.findNodeDataForKey(e.group);if(null===a)return new r.a.Point;var n=r.a.Point.parse(a.loc);return new r.a.Point(n.x,un(e.start)-5)}function on(e,t){t.start=mn(e.y+5),this.diagram.model.setDataProperty(t,"start",mn(e.y+5))}function dn(e){return 5+20*e+5}function hn(e){return(e-5-5)/20}function gn(e){var t=e.model.nodeDataArray,a=-1,n=0;for(n=0;n<t.length;n++){var r=t[n];r.isGroup||(a=Math.max(a,r.start+r.duration))}if(a>0)for(n=0;n<t.length;n++){var i=t[n];i.isGroup&&(a>i.duration&&e.model.setDataProperty(i,"duration",a))}}function un(e){return 20*e+20}function mn(e){return(e-20)/20}function Sn(){r.a.Link.call(this),this.time=0}function cn(){r.a.LinkingTool.call(this),this.temporaryLink=an(Sn,an(r.a.Shape,"Rectangle",{stroke:"magenta",strokeWidth:2}),an(r.a.Shape,{toArrow:"OpenTriangle",stroke:"magenta"}))}function ln(){r.a.DraggingTool.call(this)}r.a.Diagram.inherit(Sn,r.a.Link),Sn.prototype.getLinkPoint=function(e,t,a,n,i,o,d){var h=t.getDocumentPoint(r.a.Spot.Center),g=d.getDocumentPoint(r.a.Spot.Center),u=this.data,m=null!==u?u.time:this.time,S=this.findActivityWidth(e,m),c=g.x>h.x?h.x+S/2:h.x-S/2,l=un(m);return new r.a.Point(c,l)},Sn.prototype.findActivityWidth=function(e,t){var a=10;return e instanceof r.a.Group&&(e.memberParts.any((function(e){var a=e.data;return null!==a&&a.start<=t&&t<=a.start+a.duration}))||(a=0)),a},Sn.prototype.getLinkDirection=function(e,t,a,n,i,o,d,h){var g=t.getDocumentPoint(r.a.Spot.Center);return h.getDocumentPoint(r.a.Spot.Center).x>g.x?0:180},Sn.prototype.computePoints=function(){if(this.fromNode===this.toNode){var e=this.data,t=null!==e?e.time:this.time,a=this.fromNode.port.getDocumentPoint(r.a.Spot.Center),n=this.findActivityWidth(this.fromNode,t),i=a.x+n/2,o=un(t);return this.clearPoints(),this.addPoint(new r.a.Point(i,o)),this.addPoint(new r.a.Point(i+50,o)),this.addPoint(new r.a.Point(i+50,o+5)),this.addPoint(new r.a.Point(i,o+5)),!0}return r.a.Link.prototype.computePoints.call(this)},r.a.Diagram.inherit(cn,r.a.LinkingTool),cn.prototype.doActivate=function(){r.a.LinkingTool.prototype.doActivate.call(this);var e=mn(this.diagram.firstInput.documentPoint.y);this.temporaryLink.time=Math.ceil(e)},cn.prototype.insertLink=function(e,t,a,n){var i=r.a.LinkingTool.prototype.insertLink.call(this,e,t,a,n);if(null!==i){var o=this.diagram.model,d=this.temporaryLink.time;i.data.time=d;var h={category:"Activity",group:i.data.to,start:d,duration:1};o.addNodeData(h),gn(this.diagram)}return i},r.a.Diagram.inherit(ln,r.a.DraggingTool),ln.prototype.computeEffectiveCollection=function(e,t){var a=r.a.DraggingTool.prototype.computeEffectiveCollection.call(this,e,t);return a.add(new r.a.Node,new r.a.DraggingInfo(new r.a.Point)),e.each((function(e){e instanceof r.a.Link&&a.add(e,new r.a.DraggingInfo(e.getPoint(0).copy()))})),a},ln.prototype.mayMove=function(){return!this.diagram.isReadOnly&&this.diagram.allowMove},ln.prototype.moveParts=function(e,t,a){r.a.DraggingTool.prototype.moveParts.call(this,e,t,a);for(var n=e.iterator;n.next();)if(n.key instanceof r.a.Link){var i=n.key,o=n.value.point.y+t.y,d=this.gridSnapCellSize.height;o=Math.round(o/d)*d;var h=Math.max(0,mn(o));i.diagram.model.set(i.data,"time",h),i.invalidateRoute()}};var sn={},Pn={name:"SequenceLink",node:"LINE",createTemplate:function(e){var t="#333";return an(Sn,{selectionAdorned:!0,curviness:0,relinkableFrom:!0,relinkableTo:!0},ee(),an.apply(void 0,[r.a.Shape,"Rectangle",{stroke:t,strokeWidth:1,strokeDashArray:[]}].concat(tn(J("link","stroke","strokeDashArray")),tn(Q("stroke","strokeDashArray")))),an.apply(void 0,[r.a.Shape,{fill:t,toArrow:"",stroke:t},new r.a.Binding("fill","stroke")].concat(tn(Q(!1,"stroke","toArrow")))),te(this.name,null,"消息",{segmentIndex:0,segmentOffset:new r.a.Point(NaN,NaN)})),e}},fn={styleSetter:{stroke:function(e,t){e.findObject("TABLE").defaultColumnSeparatorStroke=t,e.findObject("TABLE").defaultRowSeparatorStroke=t},strokeDashArray:function(e,t){e.findObject("TABLE").defaultRowSeparatorDashArray=t,e.findObject("TABLE").defaultColumneparatorDashArray=t},strokeWidth:function(e,t){e.findObject("TABLE").defaultColumnSeparatorStrokeWidth=t,e.findObject("TABLE").defaultWidthSeparatorStrokeWidth=t}},style:{radius:0,fill:"#f3f3f3",stroke:"#333",strokeWidth:1,strokeDashArray:[3,3],fontColor:"#333",fontFamily:"arial,sans-serif",fontSize:14,fontBold:!1,fontItalic:!1,isUnderline:!1,isStrikethrough:!1},allowAction:["insertLane","cut","delete","paste","group","copy","ungroup"],createTemplate:function(e){var t=this.style,a=t.fill,n=t.stroke,i=t.strokeWidth,o=t.radius,d=t.strokeDashArray;return an(r.a.Group,"Vertical",{locationSpot:r.a.Spot.Bottom,locationObjectName:"HEADER",minLocation:new r.a.Point(0,0),maxLocation:new r.a.Point(9999,0),selectionObjectName:"HEADER"},new r.a.Binding("location","loc",r.a.Point.parse).makeTwoWay(r.a.Point.stringify),[Pe("icons",["FontIcon"]),ee()],an(r.a.Panel,"Auto",{name:"HEADER"},an.apply(void 0,[r.a.Shape,"RoundedRectangle",{fill:a,stroke:null,parameter1:o}].concat(tn(Q(!1,"fill","radius")),[new r.a.Binding("fill","isHighlighted",(function(e,t){return e?"#FFC107":t.part.data.fill||a})).ofObject()])),an(r.a.Panel,"Vertical",oe({fontSize:32}),te(this.name,this.style,"参与者",{margin:5}))),an(r.a.Shape,{figure:"LineV",fill:a,stroke:n,strokeWidth:i,strokeDashArray:d,width:1,alignment:r.a.Spot.Center,portId:"",fromLinkable:!0,fromLinkableDuplicates:!0,toLinkable:!0,toLinkableDuplicates:!0,cursor:"pointer"},new r.a.Binding("height","duration",nn),[Q(!1,"fill","stroke","strokeWidth","strokeDashArray")]),e)}},wn={diagram:null,allowAction:["cut","paste","group","copy","ungroup"],createTemplate:function(e){return an(r.a.Node,{locationSpot:r.a.Spot.Top,locationObjectName:"SHAPE",minLocation:new r.a.Point(NaN,15),maxLocation:new r.a.Point(NaN,19999),selectionObjectName:"SHAPE",resizable:!0,resizeObjectName:"SHAPE",resizeAdornmentTemplate:an(r.a.Adornment,"Spot",an(r.a.Placeholder),an(r.a.Shape,{alignment:r.a.Spot.Bottom,cursor:"col-resize",desiredSize:new r.a.Size(6,6),fill:"yellow"}))},new r.a.Binding("location","",rn).makeTwoWay(on.bind(this)),an(r.a.Shape,"Rectangle",{name:"SHAPE",fill:"white",stroke:"black",width:10,minSize:new r.a.Size(10,dn(.25))},new r.a.Binding("height","duration",dn).makeTwoWay(hn.bind(this))),e)}},pn=function(e){function t(){var e,a;Ka(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return en(Za(a=$a(this,(e=Ja(t)).call.apply(e,[this].concat(r)))),"name","SEQUENCEMAP"),en(Za(a),"allowActions",["undo","redo","cut","paste","copy","ceiling","floor","lock","unlock","merge","split"]),a}var a,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qa(e,t)}(t,e),a=t,(n=[{key:"getProperties",value:function(){var e=this;return this.templateMaker.resetLink(Pn),this.templateMaker.setGroup("Sequential",fn),this.templateMaker.setNode("Activity",wn),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(a),!0).forEach((function(t){en(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({allowCopy:!1,linkingTool:an(cn),"resizingTool.isGridSnapEnabled":!0,draggingTool:an(ln),"draggingTool.gridSnapCellSize":new r.a.Size(1,5),"draggingTool.isGridSnapEnabled":!0,SelectionMoved:function(){return gn(e.canvas)},PartResized:function(){return gn(e.canvas)},"undoManager.isEnabled":!0},this.toolMaker.makeMeshTemplate(),{},this.templateMaker.makeGroupTemplate(),{},this.templateMaker.makeNodeTemplates(),{},this.templateMaker.makeLinkTemplate())}},{key:"parseModel",value:function(e){return r.a.Model.fromJson(e||sn)}}])&&Ya(a.prototype,n),i&&Ya(a,i),t}(La);function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bn(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kn(e,t){return!t||"object"!==vn(t)&&"function"!=typeof t?Bn(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var zn={class:"go.TreeModel",nodeDataArray:[{key:0,text:"Boss",location:"0 0",category:"TreeFree"}]},On=r.a.GraphObject.make,Tn=function(e){function t(){var e,a;Ln(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Gn(Bn(a=kn(this,(e=Fn(t)).call.apply(e,[this].concat(r)))),"name","STRUCTMAP"),Gn(Bn(a),"allowActions",["undo","redo","insertChild","insertParent","insertBrother","delete"]),a}var a,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,e),a=t,(n=[{key:"getProperties",value:function(){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(a),!0).forEach((function(t){Gn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({layout:On(r.a.TreeLayout,{treeStyle:r.a.TreeLayout.StyleLastParents,arrangement:r.a.TreeLayout.ArrangementHorizontal,angle:90,layerSpacing:35,alternateAngle:90,alternateLayerSpacing:35,alternateAlignment:r.a.TreeLayout.AlignmentBus,alternateNodeSpacing:20}),maxSelectionCount:1,validCycle:r.a.Diagram.CycleDestinationTree,"clickCreatingTool.archetypeNodeData":{name:"(new person)",title:"",comments:"",category:"Personal"},"clickCreatingTool.insertPart":function(e){var t=r.a.ClickCreatingTool.prototype.insertPart.call(this,e);return null!==t&&(this.diagram.select(t),this.diagram.commandHandler.scrollToPart(t)),t},"undoManager.isEnabled":!0},this.toolMaker.makeMeshTemplate(),{},this.templateMaker.makeNodeTemplates(),{},this.templateMaker.makeLinkTemplate())}},{key:"parseModel",value:function(e){return r.a.Model.fromJson(e||zn)}},{key:"created",value:function(){var e=this;this.toolMaker.setupRule(this.canvas);var t,a=null;this.canvas.addDiagramListener("SelectionDeleting",(function(n){var i=n.subject.first();if(e.canvas.startTransaction("clear boss"),i instanceof r.a.Node)for(var o=i.findTreeChildrenNodes();o.next();){if(t=o.value,null===(a=t.findObject("boss")))return;a.text=""}else if(i instanceof r.a.Link){if(t=i.toNode,null===(a=t.findObject("boss")))return;a.text=""}e.canvas.commitTransaction("clear boss")})),this.canvas.layout.commitNodes=function(){r.a.TreeLayout.prototype.commitNodes.call(e.canvas.layout)}}}])&&bn(a.prototype,n),i&&bn(a,i),t}(La);r.a.GraphObject.defineBuilder("Button",(function(e){var t=r.a.GraphObject.make(r.a.Panel,"Auto",{isActionable:!0,enabledChanged:function(e,t){var a=e.findObject("ButtonBorder");null!==a&&(a.fill=t?e._buttonFillNormal:e._buttonFillDisabled)},cursor:"pointer",_buttonFillNormal:"#f9f9f9",_buttonStrokeNormal:"#fff",_buttonFillOver:"#2196F3",_buttonStrokeOver:"#2196F3",_buttonFillPressed:"#3F51B5",_buttonStrokePressed:"#3F51B5",_buttonFillDisabled:"#E5E5E5"},r.a.GraphObject.make(r.a.Shape,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new r.a.Spot(0,0,2.76142374915397,2.761423749153969),spot2:new r.a.Spot(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#f9f9f9",stroke:"#fff",strokeWidth:1}));function a(e,t){return null!==e.diagram.findObjectAt(e.documentPoint,(function(e){for(;null!==e.panel;){if(e.isActionable)return e;e=e.panel}return e}),(function(e){return e===t}))}return(t.mouseEnter=function(e,t,a){if(t.isEnabledObject()){var n=t.findObject("ButtonBorder");if(n instanceof r.a.Shape){var i=t._buttonFillOver;t._buttonFillNormal=n.fill,n.fill=i,i=t._buttonStrokeOver,t._buttonStrokeNormal=n.stroke,n.stroke=i}}},t.mouseLeave=function(e,t,a){if(t.isEnabledObject()){var n=t.findObject("ButtonBorder");n instanceof r.a.Shape&&(n.fill=t._buttonFillNormal,n.stroke=t._buttonStrokeNormal)}},t.actionDown=function(e,t){if(t.isEnabledObject()&&null!==t._buttonFillPressed&&0===e.button){var a=t.findObject("ButtonBorder");if(a instanceof r.a.Shape){var n=e.diagram,i=n.skipsUndoManager;n.skipsUndoManager=!0;var o=t._buttonFillPressed;t._buttonFillOver=a.fill,a.fill=o,o=t._buttonStrokePressed,t._buttonStrokeOver=a.stroke,a.stroke=o,n.skipsUndoManager=i}}},t.actionUp=function(e,t){if(t.isEnabledObject()&&null!==t._buttonFillPressed&&0===e.button){var n=t.findObject("ButtonBorder");if(n instanceof r.a.Shape){var i=e.diagram,o=i.skipsUndoManager;i.skipsUndoManager=!0,a(e,t)?(n.fill=t._buttonFillOver,n.stroke=t._buttonStrokeOver):(n.fill=t._buttonFillNormal,n.stroke=t._buttonStrokeNormal),i.skipsUndoManager=o}}},t.actionCancel=function(e,t){if(t.isEnabledObject()&&null!==t._buttonFillPressed){var n=t.findObject("ButtonBorder");if(n instanceof r.a.Shape){var i=e.diagram,o=i.skipsUndoManager;i.skipsUndoManager=!0,a(e,t)?(n.fill=t._buttonFillOver,n.stroke=t._buttonStrokeOver):(n.fill=t._buttonFillNormal,n.stroke=t._buttonStrokeNormal),i.skipsUndoManager=o}}},t.actionMove=function(e,t){if(t.isEnabledObject()&&null!==t._buttonFillPressed){var n=e.diagram;if(0===n.firstInput.button&&(n.currentTool.standardMouseOver(),a(e,t))){var i=t.findObject("ButtonBorder");if(i instanceof r.a.Shape){var o=n.skipsUndoManager;n.skipsUndoManager=!0;var d=t._buttonFillPressed;i.fill!==d&&(i.fill=d),d=t._buttonStrokePressed,i.stroke!==d&&(i.stroke=d),n.skipsUndoManager=o}}}},t)})),r.a.GraphObject.defineBuilder("CircleButton",(function(e){var t=r.a.GraphObject.make(r.a.Panel,"Auto",{isActionable:!0,enabledChanged:function(e,t){var a=e.findObject("ButtonBorder");null!==a&&(a.fill=t?e._buttonFillNormal:e._buttonFillDisabled)},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},r.a.GraphObject.make(r.a.Shape,{name:"ButtonBorder",figure:"Circle",spot1:new r.a.Spot(0,0,2.76142374915397,2.761423749153969),spot2:new r.a.Spot(1,1,-2.76142374915397,-2.761423749153969),fill:"#F5F5F5",stroke:"#BDBDBD"}));function a(e,t){return null!==e.diagram.findObjectAt(e.documentPoint,(function(e){for(;null!==e.panel;){if(e.isActionable)return e;e=e.panel}return e}),(function(e){return e===t}))}return(t.mouseEnter=function(e,t,a){if(t.isEnabledObject()){var n=t.findObject("ButtonBorder");if(n instanceof r.a.Shape){var i=t._buttonFillOver;t._buttonFillNormal=n.fill,n.fill=i,i=t._buttonStrokeOver,t._buttonStrokeNormal=n.stroke,n.stroke=i}}},t.mouseLeave=function(e,t,a){if(t.isEnabledObject()){var n=t.findObject("ButtonBorder");n instanceof r.a.Shape&&(n.fill=t._buttonFillNormal,n.stroke=t._buttonStrokeNormal)}},t.actionDown=function(e,t){if(t.isEnabledObject()&&null!==t._buttonFillPressed&&0===e.button){var a=t.findObject("ButtonBorder");if(a instanceof r.a.Shape){var n=e.diagram,i=n.skipsUndoManager;n.skipsUndoManager=!0;var o=t._buttonFillPressed;t._buttonFillOver=a.fill,a.fill=o,o=t._buttonStrokePressed,t._buttonStrokeOver=a.stroke,a.stroke=o,n.skipsUndoManager=i}}},t.actionUp=function(e,t){if(t.isEnabledObject()&&null!==t._buttonFillPressed&&0===e.button){var n=t.findObject("ButtonBorder");if(n instanceof r.a.Shape){var i=e.diagram,o=i.skipsUndoManager;i.skipsUndoManager=!0,a(e,t)?(n.fill=t._buttonFillOver,n.stroke=t._buttonStrokeOver):(n.fill=t._buttonFillNormal,n.stroke=t._buttonStrokeNormal),i.skipsUndoManager=o}}},t.actionCancel=function(e,t){if(t.isEnabledObject()&&null!==t._buttonFillPressed){var n=t.findObject("ButtonBorder");if(n instanceof r.a.Shape){var i=e.diagram,o=i.skipsUndoManager;i.skipsUndoManager=!0,a(e,t)?(n.fill=t._buttonFillOver,n.stroke=t._buttonStrokeOver):(n.fill=t._buttonFillNormal,n.stroke=t._buttonStrokeNormal),i.skipsUndoManager=o}}},t.actionMove=function(e,t){if(t.isEnabledObject()&&null!==t._buttonFillPressed){var n=e.diagram;if(0===n.firstInput.button&&(n.currentTool.standardMouseOver(),a(e,t))){var i=t.findObject("ButtonBorder");if(i instanceof r.a.Shape){var o=n.skipsUndoManager;n.skipsUndoManager=!0;var d=t._buttonFillPressed;i.fill!==d&&(i.fill=d),d=t._buttonStrokePressed,i.stroke!==d&&(i.stroke=d),n.skipsUndoManager=o}}}},t)})),r.a.GraphObject.defineBuilder("TreeExpanderButton",(function(e){var t=r.a.GraphObject.make("CircleButton",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},r.a.GraphObject.make(r.a.Shape,{figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:new r.a.Size(8,8)},new r.a.Binding("figure","isTreeExpanded",(function(e,t){var a=t.panel;return e?a._treeExpandedFigure:a._treeCollapsedFigure})).ofObject()));return t.click=function(e,t){var a=t.part;if(a instanceof r.a.Adornment&&(a=a.adornedPart),a instanceof r.a.Node){var n=a.diagram;if(null!==n){var i=n.commandHandler;if(a.isTreeExpanded){if(!i.canCollapseTree(a))return}else if(!i.canExpandTree(a))return;e.handled=!0,a.isTreeExpanded?i.collapseTree(a):i.expandTree(a)}}},t})),r.a.GraphObject.defineBuilder("TreeExpanderLink",(function(e){var t=r.a.GraphObject.make("CircleButton",r.a.GraphObject.make(r.a.Shape,{figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:new r.a.Size(8,8)},new r.a.Binding("figure","toNode",(function(e,t){return e?"MinusLine":"PlusLine"})).ofObject()));return t.click=function(e,t){var a=t.part;if(a instanceof r.a.Link){var n=a.toNode;if(n instanceof r.a.Node){n instanceof r.a.Adornment&&(n=n.adornedPart);var i=n.diagram;if(null!==i){var o=i.commandHandler;if(n.isTreeExpanded){if(!o.canCollapseTree(n))return}else if(!o.canExpandTree(n))return;e.handled=!0,n.isTreeExpanded?o.collapseTree(n):o.expandTree(n)}}}},t})),r.a.GraphObject.defineBuilder("SubGraphExpanderButton",(function(e){var t=r.a.GraphObject.make("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},r.a.GraphObject.make(r.a.Shape,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:new r.a.Size(8,8)},new r.a.Binding("figure","isSubGraphExpanded",(function(e,t){var a=t.panel;return e?a._subGraphExpandedFigure:a._subGraphCollapsedFigure})).ofObject()));return t.click=function(e,t){var a=t.part;if(a instanceof r.a.Adornment&&(a=a.adornedPart),a instanceof r.a.Group){var n=a.diagram;if(null!==n){var i=n.commandHandler;if(a.isSubGraphExpanded){if(!i.canCollapseSubGraph(a))return}else if(!i.canExpandSubGraph(a))return;e.handled=!0,a.isSubGraphExpanded?i.collapseSubGraph(a):i.expandSubGraph(a)}}},t})),r.a.GraphObject.defineBuilder("ToolTip",(function(e){return r.a.GraphObject.make(r.a.Adornment,"Auto",{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new r.a.Point(0,4),shadowBlur:4},r.a.GraphObject.make(r.a.Shape,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#f6f6f6",stroke:"#f0f0f0",spot1:new r.a.Spot(0,0,4,6),spot2:new r.a.Spot(1,1,-4,-4)}))})),r.a.GraphObject.defineBuilder("ContextMenu",(function(e){return r.a.GraphObject.make(r.a.Adornment,"Vertical",{padding:6,background:"#fff",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new r.a.Point(0,4),shadowBlur:2},new r.a.Binding("background","",(function(e){return null!==e.adornedPart&&null!==e.placeholder?null:"#f3f3f3"})))})),r.a.GraphObject.defineBuilder("ContextMenuButton",(function(e){var t=r.a.GraphObject.make("Button");t.stretch=r.a.GraphObject.Horizontal;var a=t.findObject("ButtonBorder");return a instanceof r.a.Shape&&(a.figure="Rectangle",a.spot1=new r.a.Spot(0,0,2,2),a.spot2=new r.a.Spot(1,1,-2,-2)),t})),r.a.GraphObject.defineBuilder("PanelExpanderButton",(function(e){var t=r.a.GraphObject.takeBuilderArgument(e,"COLLAPSIBLE"),a=r.a.GraphObject.make("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},r.a.GraphObject.make(r.a.Shape,{name:"ButtonIcon",strokeWidth:2},new r.a.Binding("geometryString","visible",(function(e){return e?a._buttonExpandedFigure:a._buttonCollapsedFigure})).ofObject(t))),n=a.findObject("ButtonBorder");return n instanceof r.a.Shape&&(n.stroke=null,n.fill="rgba(0, 0, 0, 0)"),a.click=function(e,a){var n=a.diagram;if(null!==n&&!n.isReadOnly){var r=a.findTemplateBinder();if(null===r&&(r=a.part),null!==r){var i=r.findObject(t);null!==i&&(n.startTransaction("Collapse/Expand Panel"),i.visible=!i.visible,n.commitTransaction("Collapse/Expand Panel"))}}},a})),r.a.GraphObject.defineBuilder("CheckBoxButton",(function(e){var t=r.a.GraphObject.takeBuilderArgument(e),a=r.a.GraphObject.make("Button",{desiredSize:new r.a.Size(14,14)},r.a.GraphObject.make(r.a.Shape,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:r.a.GraphObject.Fill,geometryStretch:r.a.GraphObject.Uniform,visible:!1},""!==t?new r.a.Binding("visible",t).makeTwoWay():[]));return a.click=function(e,a){var n=e.diagram;if(!(null===n||n.isReadOnly||""!==t&&n.model.isReadOnly)){e.handled=!0;var r=a.findObject("ButtonIcon");n.startTransaction("checkbox"),r.visible=!r.visible,"function"==typeof a._doClick&&a._doClick(e,a),n.commitTransaction("checkbox")}},a})),r.a.GraphObject.defineBuilder("CheckBox",(function(e){var t=r.a.GraphObject.takeBuilderArgument(e),a=r.a.GraphObject.make("CheckBoxButton",t,{name:"Button",isActionable:!1,margin:new r.a.Margin(0,1,0,0)}),n=r.a.GraphObject.make(r.a.Panel,"Horizontal",a,{isActionable:!0,cursor:a.cursor,margin:1,_buttonFillNormal:a._buttonFillNormal,_buttonStrokeNormal:a._buttonStrokeNormal,_buttonFillOver:a._buttonFillOver,_buttonStrokeOver:a._buttonStrokeOver,_buttonFillPressed:a._buttonFillPressed,_buttonStrokePressed:a._buttonStrokePressed,_buttonFillDisabled:a._buttonFillDisabled,mouseEnter:a.mouseEnter,mouseLeave:a.mouseLeave,actionDown:a.actionDown,actionUp:a.actionUp,actionCancel:a.actionCancel,actionMove:a.actionMove,click:a.click,_buttonClick:a.click});return a.mouseEnter=null,a.mouseLeave=null,a.actionDown=null,a.actionUp=null,a.actionCancel=null,a.actionMove=null,a.click=null,n}))}])}));